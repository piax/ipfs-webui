"use strict";(self.webpackChunkipfs_webui=self.webpackChunkipfs_webui||[]).push([[459],{72750:function(e,s,t){t(29867);var n=t(57697),a=t.n(n),r=t(92834);s.Z=function(e){var s=e.value;if(!s)return null;s=s.buffer||s;var t=a()(s),n=t.protoNames().concat(["ipfs","p2p"]),i=t.toString().split("/");return(0,r.jsx)("div",{className:"charcoal-muted monospace",children:i.map((function(e,s){return(0,r.jsxs)("span",{children:[(0,r.jsx)("span",{className:n.includes(e)?"force-select":"force-select charcoal",children:e}),s<i.length-1?"/":""]},s)}))})}},63001:function(e,s,t){var n=t(74165),a=t(15861),r=t(29439),i=t(29867),l=t(69082),c=t(14976),o=t(27019),d=t(74364),p=t(92834),h=function(e){return null==e?"":"string"===typeof e?e:JSON.stringify(e)};s.Z=(0,l.$)("doUpdateIpfsApiAddress","selectIpfsApiAddress","selectIpfsInitFailed",(0,c.Z)("app")((function(e){var s=e.t,t=e.doUpdateIpfsApiAddress,l=e.ipfsApiAddress,c=e.ipfsInitFailed,u=(0,i.useState)(h(l)),m=(0,r.Z)(u,2),f=m[0],x=m[1],j=!(0,d.VI)(f),b=(0,i.useState)(j||c),v=(0,r.Z)(b,2),w=v[0],g=v[1],N=(0,i.useState)(j),y=(0,r.Z)(N,2),k=y[0],Z=y[1];(0,i.useEffect)((function(){g(c)}),[k,c]),(0,i.useEffect)((function(){var e=(0,d.VI)(f);Z(e),g(!e)}),[f]);var C=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(s){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.preventDefault(),t(f);case 2:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}();return(0,p.jsxs)("form",{onSubmit:C,children:[(0,p.jsx)("input",{id:"api-address","aria-label":s("terms.apiAddress"),placeholder:s("apiAddressForm.placeholder"),type:"text",className:"w-100 lh-copy monospace f5 pl1 pv1 mb2 charcoal input-reset ba b--black-20 br1 ".concat(w?"focus-outline-red b--red-muted":"focus-outline-green b--green-muted"),onChange:function(e){return x(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&C(e)},value:f}),(0,p.jsx)("div",{className:"tr",children:(0,p.jsx)(o.Z,{minWidth:100,height:40,className:"mt2 mt0-l ml2-l tc",disabled:!k||f===l,children:s("actions.submit")})})]})})))},98489:function(e,s,t){t.d(s,{Z:function(){return v}});var n=t(29439),a=t(29867),r=t(69082),i=t(35545),l=t(14976),c=t(24758),o=t.n(c),d=t(63001),p=t(98874),h=t(91995),u=t(1413),m=t(92834);var f=function(e){return(0,m.jsx)("svg",(0,u.Z)((0,u.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"},e),{},{children:(0,m.jsx)("path",{d:"M82.84 71.14L55.06 23a5.84 5.84 0 00-10.12 0L17.16 71.14a5.85 5.85 0 005.06 8.77h55.56a5.85 5.85 0 005.06-8.77zm-30.1-.66h-5.48V65h5.48zm0-10.26h-5.48V38.46h5.48z"})}))},x="unix",j="windowsPS",b="windowsCMD",v=(0,r.$)("selectIpfsConnected","selectApiUrl",(0,l.Z)("welcome")((function(e){var s=e.t,t=(e.apiUrl,e.connected,e.sameOrigin),r=e.ipfsApiAddress,l=e.doUpdateIpfsApiAddress,c=(0,a.useState)(x),u=(0,n.Z)(c,2),v=u[0],w=u[1],g=["http://localhost:3000","http://127.0.0.1:5001","https://webui.ipfs.io"],N=window.location.origin,y=-1===g.indexOf(N);return(0,m.jsxs)(p.Z,{className:"pv3 ph4 lh-copy charcoal",children:[(0,m.jsxs)("div",{className:"flex flex-wrap items-center",children:[(0,m.jsx)(f,{style:{height:76},className:"fill-red mr",role:"presentation"}),(0,m.jsx)("h1",{className:"montserrat fw4 charcoal ma0 f3 red",children:s("app:status.couldNotConnect")})]}),(0,m.jsx)(i.c,{i18nKey:"notConnected.paragraph1",t:s,children:(0,m.jsxs)("p",{className:"fw6 mb3",children:["Check out the installation guide in the ",(0,m.jsx)("a",{className:"link blue",href:"https://docs.ipfs.io/install/command-line-quick-start/",target:"_blank",rel:"noopener noreferrer",children:"IPFS Docs"}),", or try these common fixes:"]})}),(0,m.jsxs)("ol",{className:"pl3 pt2",children:[(0,m.jsx)(i.c,{i18nKey:"notConnected.paragraph2",t:s,children:(0,m.jsx)("li",{className:"mb3",children:"Is your IPFS daemon running? Try starting or restarting it from your terminal:"})}),(0,m.jsxs)(h.Z,{title:"Any Shell",children:[(0,m.jsxs)("code",{className:"db",children:[(0,m.jsx)("b",{className:"no-select",children:"$ "}),"ipfs daemon"]}),(0,m.jsx)("code",{className:"db",children:"Initializing daemon..."}),(0,m.jsx)("code",{className:"db",children:"API server listening on /ip4/127.0.0.1/tcp/5001"})]}),!t&&(0,m.jsxs)("div",{children:[(0,m.jsx)(i.c,{i18nKey:"notConnected.paragraph3",t:s,children:(0,m.jsxs)("li",{className:"mb3 mt4",children:["Is your IPFS API configured to allow ",(0,m.jsx)("a",{className:"link blue",href:"https://github.com/ipfs-shipyard/ipfs-webui#configure-ipfs-api-cors-headers",children:"cross-origin (CORS) requests"}),"? If not, run these commands and then start your daemon from the terminal:"]})}),(0,m.jsxs)("div",{className:"br1 overflow-hidden",children:[(0,m.jsxs)("div",{className:"f7 mb0 sans-serif charcoal pv1 pl2 bg-black-20 flex items-center overflow-x-auto",children:[(0,m.jsx)("button",{onClick:function(){return w(x)},className:o()("pointer mr3 ttu tracked",v===x&&"fw7"),children:"Unix & MacOS"}),(0,m.jsx)("button",{onClick:function(){return w(j)},className:o()("pointer mr3 ttu tracked",v===j&&"fw7"),children:"Windows Powershell"}),(0,m.jsx)("button",{onClick:function(){return w(b)},className:o()("pointer ttu tracked",v===b&&"fw7"),children:"Windows CMD"})]}),(0,m.jsxs)("div",{className:"bg-black-70 snow pa2 f7 lh-copy monospace nowrap overflow-x-auto",children:[v===x&&(0,m.jsxs)("div",{children:[(0,m.jsxs)("code",{className:"db",children:[(0,m.jsx)("b",{className:"no-select",children:"$ "}),"ipfs config --json API.HTTPHeaders.Access-Control-Allow-Origin '[",y&&'"'.concat(N,'", '),'"',g.join('", "'),"\"]'"]}),(0,m.jsxs)("code",{className:"db",children:[(0,m.jsx)("b",{className:"no-select",children:"$ "}),'ipfs config --json API.HTTPHeaders.Access-Control-Allow-Methods \'["PUT", "POST"]\'']})]}),v===j&&(0,m.jsxs)("div",{children:[(0,m.jsxs)("code",{className:"db",children:[(0,m.jsx)("b",{className:"no-select",children:"$ "}),"ipfs config --json API.HTTPHeaders.Access-Control-Allow-Origin '[",y&&'\\"'.concat(N,'\\", '),'\\"',g.join('\\", \\"'),"\\\"]'"]}),(0,m.jsxs)("code",{className:"db",children:[(0,m.jsx)("b",{className:"no-select",children:"$ "}),'ipfs config --json API.HTTPHeaders.Access-Control-Allow-Methods \'[\\"PUT\\", \\"POST\\"]\'']})]}),v===b&&(0,m.jsxs)("div",{children:[(0,m.jsxs)("code",{className:"db",children:[(0,m.jsx)("b",{className:"no-select",children:"$ "}),'ipfs config --json API.HTTPHeaders.Access-Control-Allow-Origin "[',y&&'"""'.concat(N,'""", '),'"""',g.join('""", """'),'"""]"']}),(0,m.jsxs)("code",{className:"db",children:[(0,m.jsx)("b",{className:"no-select",children:"$ "}),'ipfs config --json API.HTTPHeaders.Access-Control-Allow-Methods "["""PUT""", """POST"""]"']})]})]})]})]}),(0,m.jsx)(i.c,{i18nKey:"notConnected.paragraph4",t:s,children:(0,m.jsxs)("li",{className:"mt4 mb3",children:["Is your IPFS API on a port other than 5001? If your node is configured with a ",(0,m.jsx)("a",{className:"link blue",href:"https://github.com/ipfs/kubo/blob/master/docs/config.md#addresses",target:"_blank",rel:"noopener noreferrer",children:"custom API address"}),", enter it here."]})}),(0,m.jsx)(d.Z,{t:s,defaultValue:r||"",updateAddress:l})]})]})})))},91995:function(e,s,t){t(29867);var n=t(24758),a=t.n(n),r=t(92834);s.Z=function(e){var s=e.title,t=void 0===s?"Shell":s,n=e.children,i=e.className;return(0,r.jsxs)("div",{className:a()("br1 overflow-hidden",i),children:[(0,r.jsx)("div",{className:"f7 mb0 sans-serif ttu tracked charcoal pv1 pl2 bg-black-20",children:t}),(0,r.jsx)("div",{className:"bg-black-70 snow pa2 f7 lh-copy monospace nowrap overflow-x-auto",children:n})]})}},3015:function(e,s,t){var n=t(1413),a=t(15671),r=t(43144),i=t(60136),l=t(29388),c=t(29867),o=t(69082),d=t(10494),p=t(92834);s.Z=function(e){var s=function(s){(0,i.Z)(c,s);var t=(0,l.Z)(c);function c(){var e;(0,a.Z)(this,c);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).handleJoyrideCallback=function(s){var t=e.props.doDisableTours,n=s.action,a=s.status;("close"===n||[d.Q_.FINISHED].includes(a))&&t()},e}return(0,r.Z)(c,[{key:"render",value:function(){return(0,p.jsx)(e,(0,n.Z)({handleJoyrideCallback:this.handleJoyrideCallback},this.props))}}]),c}(c.Component);return(0,o.$)("doDisableTours",s)}},21459:function(e,s,t){t.r(s),t.d(s,{default:function(){return de}});var n=t(29867),a=t(77309),r=t(35545),i=t(14976),l=t(69082),c=t(10494),o=t(72831),d=t(92834),p=(0,i.Z)("status")((function(e){var s=e.t,t=e.peersCount,n=e.repoSize,a=(0,o.ob)(n||0);return(0,d.jsxs)("header",{children:[(0,d.jsx)("h1",{className:"montserrat fw2 f3 charcoal ma0 pt0 pb2",children:(0,d.jsx)(r.c,{i18nKey:"app:status.connectedToIpfs",t:s,children:"Connected to IPFS"})}),(0,d.jsxs)("p",{className:"montserrat fw4 f5 ma0 pb3 lh-copy",children:[(0,d.jsx)("span",{className:"db dib-ns",children:(0,d.jsx)("a",{className:"link blue",href:"#/files",children:s("StatusConnected.repoSize",{repoSize:a})})}),(0,d.jsx)("span",{className:"dn di-ns gray",children:" \u2014 "}),(0,d.jsx)("span",{className:"db mt1 mt0-ns dib-ns",children:(0,d.jsx)("a",{className:"link blue",href:"#/peers",children:s("StatusConnected.peersCount",{peersCount:t.toString()})})})]})]})})),h=(0,l.$)("selectPeersCount","selectRepoSize",p),u=t(91995),m=t(98874),f=(0,i.Z)("status")((function(e){var s=e.t;return(0,d.jsxs)(m.Z,{className:"mt3 pa3",children:[(0,d.jsx)("h2",{className:"ttu yellow tracked f6 fw4 aqua mt0 mb4",children:s("bandwidthStats")}),(0,d.jsx)("p",{className:"mw6 mr2 lh-copy charcoal f6",children:(0,d.jsxs)(r.c,{i18nKey:"bandwidthStatsDisabled",t:s,children:["You have the bandwidth metrics disabled. You can enable them by typing the command bellow or changing the key ",(0,d.jsx)("code",{children:"Swarm.DisableBandwidthMetrics"})," to ",(0,d.jsx)("code",{children:"false"})," on",(0,d.jsx)("a",{className:"link blue",href:"#/settings",children:"Settings"}),". Then, you need to restart the IPFS daemon to apply the changes."]})}),(0,d.jsx)(u.Z,{className:"mw6",children:(0,d.jsxs)("code",{className:"db",children:[(0,d.jsx)("b",{className:"no-select",children:"$ "}),"ipfs config --json Swarm.DisableBandwidthMetrics false"]})})]})})),x=t(98489),j=t(15671),b=t(43144),v=t(60136),w=t(29388),g={kubo:{url:"https://github.com/ipfs/kubo"},"js-ipfs":{url:"https://github.com/ipfs/js-ipfs"}},N=function(e){var s=e.agent,t=e.version;if(!t)return"";if(Object.prototype.hasOwnProperty.call(g,s)){var n="".concat(g[s].url,"/releases/tag/v").concat(t);return(0,d.jsxs)("a",{href:n,className:"link blue ml2",target:"_blank",rel:"noopener noreferrer",children:["v",t]})}return" v".concat(t)},y=function(e){var s=e.agentVersion;if(!s)return(0,d.jsx)("span",{children:"Unknown"});var t=s.split("/").filter((function(e){return!!e})),n=t[0],a=function(e){var s=g[e];return s?s.url:null}(n),r=t[1],i=t.slice(2).join("/");return a?(0,d.jsxs)("span",{children:[(0,d.jsx)("a",{href:a,className:"link blue",target:"_blank",rel:"noopener noreferrer",children:n}),(0,d.jsx)(N,{agent:n,version:r}),i?(0,d.jsxs)("span",{children:[" ",i]}):""]}):(0,d.jsxs)("span",{children:[n,(0,d.jsx)(N,{agent:n,version:r}),i?(0,d.jsxs)("span",{children:[" ",i]}):""]})},k=t(1413),Z=t(45987),C=["children","className"],I=function(e){var s=e.term,t=e.desc,n=e.advanced,a=e.termWidth;return(0,d.jsxs)("div",{className:"dt dt--fixed pt1 mw9 lh-copy",children:[(0,d.jsx)(S,{width:a,children:s}),(0,d.jsx)(A,{advanced:n,children:t})]})},S=function(e){var s=e.children,t=e.width,n=void 0===t?100:t;return(0,d.jsx)("dt",{className:"db ma0 pb1 pb0-ns dtc-ns silver tracked ttu f7",style:{width:n},children:s})},A=function(e){var s=e.children,t=e.advanced;return(0,d.jsx)("dd",{className:"db dtc-ns ma0 charcoal monospace ".concat(t?"word-wrap pa2 f7 bg-white-80":"truncate f7 f6-ns"),children:s})},P=function(e){var s=e.children,t=e.className,n=void 0===t?"ma0":t,a=(0,Z.Z)(e,C);return(0,d.jsx)("dl",(0,k.Z)((0,k.Z)({className:n},a),{},{children:s}))},T=function(e){(0,v.Z)(t,e);var s=(0,w.Z)(t);function t(){return(0,j.Z)(this,t),s.apply(this,arguments)}return(0,b.Z)(t,[{key:"getField",value:function(e,s,t){return e&&e[s]?t?t(e[s]):e[s]:""}},{key:"getVersion",value:function(e){var s=this.getField(e,"agentVersion");return s?s.split("/").join(" "):""}},{key:"render",value:function(){var e=this.props,s=e.t,t=e.identity;return(0,d.jsxs)(P,{children:[(0,d.jsx)(I,{term:s("terms.peerId"),desc:this.getField(t,"id")}),(0,d.jsx)(I,{term:s("terms.agent"),desc:(0,d.jsx)(y,{agentVersion:this.getField(t,"agentVersion")})}),(0,d.jsx)(I,{term:s("terms.ui"),desc:"7957e97"})]})}}]),t}(n.Component),D=(0,l.$)("selectIdentity",(0,i.Z)("app")(T)),E=t(93433),F=t(57697),M=t.n(F),L=t(72750),O=t(41554),$={"js-ipfs-api":{url:"https://github.com/ipfs/js-ipfs-api"},"js-ipfs":{url:"https://github.com/ipfs/js-ipfs"},"window.ipfs":{url:"https://github.com/ipfs-shipyard/ipfs-companion"},"ipfs-companion":{url:"https://github.com/ipfs-shipyard/ipfs-companion"}},U=function(e){var s=e.name,t=function(e){return $[e]||{name:e}}(s);return t.url?(0,d.jsx)("a",{href:t.url,className:"link blue",target:"_blank",rel:"noopener noreferrer",children:t.name||s}):(0,d.jsx)("span",{children:t.name||s})};function _(e){try{return M()(e),!0}catch(s){return!1}}var H=(0,l.$)("selectIdentity","selectIpfsProvider","selectIpfsApiAddress","selectGatewayUrl","selectIsNodeInfoOpen","doSetIsNodeInfoOpen",(0,i.Z)("status")((function(e){var s,t,n,a=e.t,r=e.identity,i=e.ipfsProvider,l=e.ipfsApiAddress,c=e.gatewayUrl,o=e.isNodeInfoOpen,p=e.doSetIsNodeInfoOpen,h=null,u=null;r&&(t="publicKey",h=(s=r)&&s[t]?n?n(s[t]):s[t]:"",u=(0,E.Z)(new Set(r.addresses)).sort().map((function(e){return(0,d.jsx)(L.Z,{value:e},e)})));var m;return(0,d.jsx)(O.Z,{className:"mt3 f6",summaryText:a("app:terms.advanced"),open:o,onClick:function(e){p(!o),e.preventDefault()},children:(0,d.jsxs)(P,{className:"mt3",children:[(0,d.jsx)(I,{advanced:!0,term:a("app:terms.gateway"),desc:c}),"httpClient"===i?(0,d.jsx)(I,{advanced:!0,term:a("app:terms.api"),desc:(0,d.jsxs)("div",{id:"http-api-address",className:"flex items-center",children:[_(l)?(0,d.jsx)(L.Z,{value:l}):(m=l,"string"!==typeof m?a("customApiConfig"):m),(0,d.jsx)("a",{className:"ml2 link blue sans-serif fw6",href:"#/settings",children:a("app:actions.edit")})]})}):(0,d.jsx)(I,{advanced:!0,term:a("app:terms.api"),desc:(0,d.jsx)(U,{name:i})}),(0,d.jsx)(I,{advanced:!0,term:a("app:terms.addresses"),desc:u}),(0,d.jsx)(I,{advanced:!0,term:a("app:terms.publicKey"),desc:h})]})})}))),B=t(28544),V=t(69760),K=t(88927),z=t.n(K),R=["children"],Y=function(e){var s=e.children,t=(0,Z.Z)(e,R);return(0,d.jsx)("h2",(0,k.Z)((0,k.Z)({className:"ttu tracked f6 fw4 teal mt0 mb4"},t),{},{children:s}))},W={standard:"iec",base:2,bits:!1},J=z().partial((0,k.Z)({round:1,exponent:2},W)),q=z().partial((0,k.Z)({round:0,output:"array"},W)),G={defaultFontFamily:"'Inter UI', system-ui, sans-serif",responsive:!0,tooltips:{mode:"x",position:"nearest",enabled:!1},hover:{mode:"index"},scales:{xAxes:[{type:"time",time:{minUnit:"second"}}],yAxes:[{stacked:!0,ticks:{callback:function(e){return J(e)+"/s"},suggestedMax:2e5,maxTicksLimit:5}}]},legend:{reverse:!0,display:!0,position:"bottom"}},Q=function(e){var s=e.t,t=e.bw,n=e.show,a=e.pos;return n?(0,d.jsxs)("div",{className:"sans-serif absolute bg-white pa2 br3",style:{top:"".concat(a.top+window.scrollY,"px"),left:"".concat(a.left,"px"),transform:"translateY(calc(-100% - 20px))",filter:"drop-shadow(2px 2px 8px rgba(0, 0, 0, 0.2))"},children:[(0,d.jsx)("div",{className:"absolute",style:{bottom:"-14px",left:"0",width:"0",height:"0",borderTop:"20px solid white",borderRight:"20px solid transparent"}}),(0,d.jsxs)("div",{className:"dt",children:[(0,d.jsxs)("div",{className:"dt-row",children:[(0,d.jsxs)("span",{className:"dtc f7 charcoal tr",children:[s("app:terms.in").toLowerCase(),":"]}),(0,d.jsx)("span",{className:"f4 ml1 charcoal-muted",children:t.in[0]}),(0,d.jsxs)("span",{className:"f7 charcoal-muted",children:[t.in[1],"/s"]})]}),(0,d.jsxs)("div",{className:"dt-row",children:[(0,d.jsxs)("span",{className:"dtc f7 charcoal tr",children:[s("app:terms.out").toLowerCase(),":"]}),(0,d.jsx)("span",{className:"f4 ml1 charcoal-muted",children:t.out[0]}),(0,d.jsxs)("span",{className:"f7 charcoal-muted",children:[t.out[1],"/s"]})]})]})]}):null},X=function(e){(0,v.Z)(t,e);var s=(0,w.Z)(t);function t(){var e;(0,j.Z)(this,t);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=s.call.apply(s,[this].concat(a))).getTooltip=function(e){var s=document.getElementById("node_bw_chart");return s||((s=document.createElement("div")).id="node_bw_chart",document.body.appendChild(s)),B.render((0,d.jsx)(Q,{t:e,show:!1}),s),s},e.data=function(){var s=e.props,t=s.t,n=s.nodeBandwidthChartData;return function(e){var s=e.getContext("2d"),a=s.createLinearGradient(e.width/2,0,e.width/2,e.height);a.addColorStop(0,"#70c5cd"),a.addColorStop(1,"#c6f1f3");var r=s.createLinearGradient(e.width/2,0,e.width/2,e.height/2);return r.addColorStop(0,"#f19237"),r.addColorStop(1,"#f9d1a6"),{datasets:[{label:t("app:terms.out"),data:n.out,borderColor:r,backgroundColor:r,pointRadius:2,cubicInterpolationMode:"monotone"},{label:t("app:terms.in"),data:n.in,borderColor:a,backgroundColor:a,pointRadius:2,cubicInterpolationMode:"monotone"}]}}},e}return(0,b.Z)(t,[{key:"componentDidMount",value:function(){this.tooltip=document.createElement("div"),this.tooltip.id="node_bw_chart",document.body.appendChild(this.tooltip)}},{key:"componentDidUpdate",value:function(){B.render((0,d.jsx)(Q,{show:!1}),this.tooltip)}},{key:"render",value:function(){var e=this.props,s=e.t,t=e.animatedPoints,n=e.nodeBandwidthChartData;if(0===n.in.length)return null;var a=this.tooltip,r=(0,k.Z)((0,k.Z)({},G),{},{tooltips:(0,k.Z)((0,k.Z)({},G.tooltips),{},{custom:function(e){var t={show:!0};if(0===e.opacity)t.show=!1;else{t.bw={out:q(Math.abs(e.dataPoints[0].yLabel)),in:q(Math.abs(e.dataPoints[1].yLabel))};var n=this._chart.canvas.getBoundingClientRect();t.pos={left:n.left+e.caretX,top:n.top+e.caretY}}B.render((0,d.jsx)(Q,(0,k.Z)({t:s},t)),a)}}),animation:{duration:n.in.length<=t?1e3:0}});return(0,d.jsxs)("div",{children:[(0,d.jsx)(Y,{children:s("bandwidthOverTime")}),(0,d.jsx)(V.x1,{data:this.data(),options:r})]})}}]),t}(n.Component);X.defaultProps={animatedPoints:500};var ee=(0,l.$)("selectNodeBandwidthChartData",(0,i.Z)("status")(X)),se=function(e){return 2*e*Math.PI};var te=function(e){var s,t=e.total,n=void 0===t?100:t,a=e.title,r=e.filled,i=void 0===r?0:r,l=e.noSpeed,c=void 0!==l&&l,o=e.color,p=void 0===o?"#FF6384":o,h={options:{legend:{display:!1},tooltips:{enabled:!1},maintainAspectRatio:!1,cutoutPercentage:80,rotation:(s=.7,(1-s+.5)*Math.PI),circumference:se(.7)},data:{labels:["Speed","Nothing"],datasets:[{data:[i,i>n?0:n-i],backgroundColor:[p,"#DEDEDE"],hoverBackgroundColor:[p,"#DEDEDE"],borderWidth:[0,0]}]}},u=z()(i,{standard:"iec",base:2,output:"array",round:0,bits:!1});return(0,d.jsxs)("div",{className:"relative tc center overflow-hidden",style:{width:"11em",height:"9em"},children:[(0,d.jsx)("div",{style:{width:"11em",height:"11em",marginTop:"-1em"},children:(0,d.jsx)(V.$I,(0,k.Z)({},h))}),(0,d.jsxs)("div",{className:"absolute",style:{top:"60%",left:"50%",transform:"translate(-50%, -50%)"},children:[(0,d.jsx)("span",{className:"f3",children:u[0]}),(0,d.jsxs)("span",{className:"ml1 f7",children:[u[1],c?"":"/s"]}),(0,d.jsx)("span",{className:"db f7 fw5",children:a})]})]})},ne=function(e){(0,v.Z)(t,e);var s=(0,w.Z)(t);function t(){var e;(0,j.Z)(this,t);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=s.call.apply(s,[this].concat(a))).state={downSpeed:{filled:0,total:125e3},upSpeed:{filled:0,total:125e3}},e}return(0,b.Z)(t,[{key:"componentDidUpdate",value:function(e,s){var t=this.props.nodeBandwidth,n=t?parseInt(t.rateIn.toFixed(0),10):0,a=t?parseInt(t.rateOut.toFixed(0),10):0;n===s.downSpeed.filled&&a===s.upSpeed.filled||this.setState({downSpeed:{filled:n,total:Math.max(n,s.downSpeed.total)},upSpeed:{filled:a,total:Math.max(a,s.upSpeed.total)}})}},{key:"render",value:function(){var e=this.props.t,s=this.state,t=s.downSpeed,n=s.upSpeed;return(0,d.jsxs)("div",{children:[(0,d.jsx)(Y,{children:e("networkTraffic")}),(0,d.jsxs)("div",{className:"flex flex-column justify-between",style:{maxWidth:400},children:[(0,d.jsx)("div",{className:"mh2 mv3 mt0-l",children:(0,d.jsx)(te,(0,k.Z)({title:e("app:terms.downSpeed"),color:"#69c4cd"},t))}),(0,d.jsx)("div",{className:"mh2 mt3 mt0-l",children:(0,d.jsx)(te,(0,k.Z)({title:e("app:terms.upSpeed"),color:"#f39021"},n))})]})]})}}]),t}(n.Component),ae=(0,l.$)("selectNodeBandwidth",(0,i.Z)("status")(ne)),re=t(27019),ie=function(e){var s=e.className,t=e.label,n=e.yesLabel,a=e.noLabel,r=e.onYes,i=e.onNo,l=e.detailsLabel,c=void 0===l?"More info...":l,o=e.detailsLink;return(0,d.jsxs)("div",{className:"f6 pv3 pv2-ns ph3 tc bg-snow charcoal ".concat(s),children:[(0,d.jsxs)("span",{className:"fw4 lh-copy dib mb2",children:[t,o&&(0,d.jsx)("a",{href:o,className:"dib focus-outline link blue ml2",children:c})]}),(0,d.jsxs)("span",{className:"dib",children:[(0,d.jsx)(re.Z,{className:"ml3 mv1 tc",bg:"bg-green",onClick:r,children:n}),(0,d.jsx)(re.Z,{className:"ml3 mv1 tc",color:"charcoal",bg:"bg-snow-muted",onClick:i,children:a})]})]})},le=t(25447),ce=t(30519),oe=t(3015),de=(0,l.$)("selectIpfsConnected","selectNodeBandwidthEnabled","selectAnalyticsAskToEnable","selectToursEnabled","doEnableAnalytics","doDisableAnalytics",(0,oe.Z)((0,i.Z)("status")((function(e){var s=e.t,t=e.ipfsConnected,n=e.analyticsAskToEnable,i=e.doEnableAnalytics,l=e.doDisableAnalytics,o=e.toursEnabled,p=e.handleJoyrideCallback,u=e.nodeBandwidthEnabled;return(0,d.jsxs)("div",{"data-id":"StatusPage",className:"mw9 center",children:[(0,d.jsx)(a.ql,{children:(0,d.jsxs)("title",{children:[s("title")," | IPFS"]})}),(0,d.jsx)(m.Z,{className:"pa3 joyride-status-node",style:{minHeight:0},children:(0,d.jsx)("div",{className:"flex",children:(0,d.jsx)("div",{className:"flex-auto",children:t?(0,d.jsxs)("div",{children:[(0,d.jsx)(h,{}),(0,d.jsx)(D,{}),(0,d.jsx)("div",{className:"pt2",children:(0,d.jsx)(H,{})})]}):(0,d.jsx)("div",{children:(0,d.jsx)(x.Z,{})})})})}),t&&n&&(0,d.jsx)(ie,{className:"mt3",label:s("AskToEnable.label"),yesLabel:s("app:actions.ok"),noLabel:s("app:actions.noThanks"),detailsLabel:s("app:actions.moreInfo"),detailsLink:"#/settings/analytics",onYes:i,onNo:l}),(0,d.jsxs)("div",{style:{opacity:t?1:.4},children:[u?(0,d.jsx)(m.Z,{className:"mt3 pa3",children:(0,d.jsxs)("div",{className:"flex flex-column flex-row-l joyride-status-charts",children:[(0,d.jsx)("div",{className:"pr0 pr2-l flex-auto",children:(0,d.jsx)(ee,{})}),(0,d.jsx)("div",{className:"dn db-l pl3 pr5",children:(0,d.jsx)(ae,{})})]})}):(0,d.jsx)(f,{}),(0,d.jsx)(c.ZP,{run:o,steps:le.IL.getSteps({t:s,Trans:r.c}),styles:le.IL.styles,callback:p,continuous:!0,scrollToFirstStep:!0,locale:(0,ce._)(s),showProgress:!0})]})]})}))))}}]);
//# sourceMappingURL=459.641d0e7a.chunk.js.map