(self.webpackChunkipfs_webui=self.webpackChunkipfs_webui||[]).push([[109],{63001:function(e,n,a){"use strict";var s=a(74165),t=a(15861),i=a(29439),r=a(29867),c=a(69082),l=a(14976),o=a(27019),d=a(74364),p=a(92834),u=function(e){return null==e?"":"string"===typeof e?e:JSON.stringify(e)};n.Z=(0,c.$)("doUpdateIpfsApiAddress","selectIpfsApiAddress","selectIpfsInitFailed",(0,l.Z)("app")((function(e){var n=e.t,a=e.doUpdateIpfsApiAddress,c=e.ipfsApiAddress,l=e.ipfsInitFailed,h=(0,r.useState)(u(c)),m=(0,i.Z)(h,2),f=m[0],g=m[1],v=!(0,d.VI)(f),x=(0,r.useState)(v||l),j=(0,i.Z)(x,2),b=j[0],y=j[1],N=(0,r.useState)(v),w=(0,i.Z)(N,2),S=w[0],k=w[1];(0,r.useEffect)((function(){y(l)}),[S,l]),(0,r.useEffect)((function(){var e=(0,d.VI)(f);k(e),y(!e)}),[f]);var C=function(){var e=(0,t.Z)((0,s.Z)().mark((function e(n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),a(f);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,p.jsxs)("form",{onSubmit:C,children:[(0,p.jsx)("input",{id:"api-address","aria-label":n("terms.apiAddress"),placeholder:n("apiAddressForm.placeholder"),type:"text",className:"w-100 lh-copy monospace f5 pl1 pv1 mb2 charcoal input-reset ba b--black-20 br1 ".concat(b?"focus-outline-red b--red-muted":"focus-outline-green b--green-muted"),onChange:function(e){return g(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&C(e)},value:f}),(0,p.jsx)("div",{className:"tr",children:(0,p.jsx)(o.Z,{minWidth:100,height:40,className:"mt2 mt0-l ml2-l tc",disabled:!S||f===c,children:n("actions.submit")})})]})})))},79109:function(e,n,a){"use strict";a.r(n),a.d(n,{SettingsPage:function(){return $e},SettingsPageContainer:function(){return Ye},TranslatedSettingsPage:function(){return Xe},default:function(){return en}});var s=a(15671),t=a(43144),i=a(60136),r=a(29388),c=a(29867),l=a(77309),o=a(69082),d=a(35545),p=a(14976),u=a(10494),h=a(25447),m=a(3015),f=a(30519),g=a(90084),v=a(98874),x=a(27019),j=a(28108),b=a(73788),y=function(e){if(!e)return"Unknown";var n=b[e];if(!n){var a=b[e.split("-")[0]];return a&&a.nativeName||b.en.englishName}return n.nativeName},N=a(27116),w=a(1413),S=a(45987),k=a(84817),C=a(22844),Z=a(92834),A=["t","tReady","onLeave","link","className","isIpfsDesktop","doDesktopUpdateLanguage"],E=function(e){var n=e.t,a=(e.tReady,e.onLeave),s=(e.link,e.className),t=e.isIpfsDesktop,i=e.doDesktopUpdateLanguage,r=(0,S.Z)(e,A);return(0,Z.jsxs)(k.u_,(0,w.Z)((0,w.Z)({},r),{},{className:s,onCancel:a,style:{maxWidth:"40em"},children:[(0,Z.jsxs)(k.fe,{Icon:C.Z,children:[(0,Z.jsx)("p",{className:"charcoal w-80 center",children:n("languageModal.description")}),(0,Z.jsx)("div",{className:"pa2 flex flex-wrap",children:j.H.map((function(e){return(0,Z.jsx)("button",{className:"pa2 w-33 flex nowrap bg-transparent bn outline-0 blue justify-center",onClick:function(){return function(e){j.Z.changeLanguage(e),t&&i(e),a()}(e.locale)},children:e.nativeName},"lang-".concat(e.locale))}))}),(0,Z.jsxs)("p",{className:"lh-copy charcoal f6",children:[n("languageModal.translationProjectIntro"),(0,Z.jsx)("br",{}),(0,Z.jsx)("a",{href:"https://www.transifex.com/ipfs/public/",rel:"noopener noreferrer",target:"_blank",className:"link blue",children:n("languageModal.translationProjectLink")})]})]}),(0,Z.jsx)(k.nK,{justify:"center",children:(0,Z.jsx)(x.Z,{className:"ma2 tc",bg:"bg-gray",onClick:a,children:n("app:actions.close")})})]}))};E.defaultProps={className:""};var L=(0,o.$)("selectIsIpfsDesktop","doDesktopUpdateLanguage",E),P=function(e){(0,i.Z)(a,e);var n=(0,r.Z)(a);function a(){var e;(0,s.Z)(this,a);for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return(e=n.call.apply(n,[this].concat(i))).state={isLanguageModalOpen:!1},e.onLanguageEditOpen=function(){return e.setState({isLanguageModalOpen:!0})},e.onLanguageEditClose=function(){return e.setState({isLanguageModalOpen:!1})},e}return(0,t.Z)(a,[{key:"render",value:function(){var e=this.props.t;return(0,Z.jsxs)(c.Fragment,{children:[(0,Z.jsxs)("div",{className:"flex",children:[(0,Z.jsx)("div",{className:"pr4 flex items-center lh-copy charcoal f5 fw5",style:{height:40},children:y(j.Z.language)}),(0,Z.jsx)(x.Z,{className:"tc",bg:"bg-teal",minWidth:100,onClick:this.onLanguageEditOpen,children:e("app:actions.change")})]}),(0,Z.jsx)(N.Z,{show:this.state.isLanguageModalOpen,onLeave:this.onLanguageEditClose,children:(0,Z.jsx)(L,{className:"outline-0",onLeave:this.onLanguageEditClose,t:e})})]})}}]),a}(c.Component),_=P,M=a(93433),R=a(29439),K=a(12598),I=a(70776),D=a(74165),U=a(15861),T=a(24758),F=a.n(T),O=a(7777),B=["t","onLeave","onSuccess","className","service","tReady","doAddPinningService","nickname","apiEndpoint","visitServiceUrl","secretApiKey","complianceReportUrl"],G=function(e){var n=e.t,a=e.onLeave,s=e.onSuccess,t=e.className,i=e.service,r=(e.tReady,e.doAddPinningService),c=e.nickname,l=e.apiEndpoint,o=e.visitServiceUrl,p=(e.secretApiKey,e.complianceReportUrl),u=(0,S.Z)(e,B),h=(0,O.cI)({defaultValues:{nickname:c,apiEndpoint:l,secretApiKey:null}}),m=h.register,f=h.errors,g=h.clearErrors,v=h.setError,j=h.handleSubmit,b="w-100 lh-copy f5 ph2 pv1 input-reset ba b--black-20 br1 focus-outline",y=function(){var e=(0,U.Z)((0,D.Z)().mark((function e(n){return(0,D.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r(n);case 3:s(),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0),v("apiValidation",{type:"manual",message:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(n){return e.apply(this,arguments)}}();return(0,Z.jsx)(k.u_,(0,w.Z)((0,w.Z)({},u),{},{className:t,onCancel:a,style:{maxWidth:"34em"},children:(0,Z.jsxs)("form",{onSubmit:j(y),onChange:function(){g("apiValidation")},children:[(0,Z.jsxs)(k.fe,{children:[(0,Z.jsx)("p",{children:n("pinningServiceModal.title")}),p&&(0,Z.jsx)("a",{className:"mb1 tl f7 charcoal-muted no-underline underline-hover",target:"_blank",rel:"noreferrer",href:p,children:n("pinningServiceModal.complianceLabel",{nickname:c})}),(0,Z.jsxs)("div",{className:"pa2 pinningManagerServiceModalContainer",children:[i.icon&&i.name&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("label",{children:n("pinningServiceModal.service")}),(0,Z.jsxs)("div",{className:"flex w-100 items-center",children:[(0,Z.jsx)("img",{className:"mr3",src:i.icon,alt:i.name,height:42,style:{objectFit:"contain"}}),(0,Z.jsx)("span",{children:i.name})]})]}),(0,Z.jsx)("label",{htmlFor:"cm-nickname",children:n("pinningServiceModal.nickname")}),(0,Z.jsxs)("div",{className:"relative",children:[(0,Z.jsx)("input",{id:"cm-nickname",name:"nickname",ref:m({required:!0}),type:"text",className:F()(b,f.nickname?"bg-red white":"charcoal"),placeholder:n("pinningServiceModal.nicknamePlaceholder")}),f.nickname&&(0,Z.jsx)(z,{text:n("errors.nickname")})]}),(0,Z.jsx)("label",{htmlFor:"cm-apiEndpoint",children:n("pinningServiceModal.apiEndpoint")}),(0,Z.jsxs)("div",{className:"relative",children:[(0,Z.jsx)("input",{id:"cm-apiEndpoint",name:"apiEndpoint",ref:m({required:!0,pattern:"http(s){0,1}://.*"}),type:"url",className:F()(b,f.apiEndpoint?"bg-red white":"charcoal"),placeholder:n("pinningServiceModal.apiEndpointPlaceholder")}),f.apiEndpoint&&(0,Z.jsx)(z,{text:"".concat(n("errors.apiError"),": ").concat(n("errors.apiEndpoint"))})]}),(0,Z.jsxs)("label",{htmlFor:"cm-secretApiKey",children:[n("pinningServiceModal.secretApiKey"),i.icon&&i.name&&o&&(0,Z.jsxs)("a",{className:"f7 link pv0 lh-copy dib",href:o,rel:"noopener noreferrer",target:"_blank",children:[" ",n("pinningServiceModal.secretApiKeyHowToLink")]})]}),(0,Z.jsxs)("div",{className:"relative",children:[(0,Z.jsx)("input",{id:"cm-secretApiKey",ref:m({required:!0}),name:"secretApiKey",type:"password",autoComplete:"off",className:F()(b,f.secretApiKey?"bg-red white":"charcoal"),placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),f.secretApiKey&&(0,Z.jsx)(z,{text:n("errors.secretApiKey")})]})]}),(0,Z.jsx)("div",{children:f.apiValidation&&(0,Z.jsx)("p",{className:"red f5 ttc",children:f.apiValidation.message})}),(0,Z.jsx)("p",{className:"f6",children:(0,Z.jsxs)(d.c,{i18nKey:"pinningServiceModal.description",t:n,children:["Want to make your custom pinning service available to others?",(0,Z.jsx)("a",{href:"https://docs.ipfs.io/how-to/work-with-pinning-services/",rel:"noopener noreferrer",target:"_blank",className:"pv0 dib link",type:"link",children:"Learn how."})]})})]}),(0,Z.jsxs)(k.nK,{justify:"center",className:"flex flex-row-reverse",children:[(0,Z.jsx)(x.Z,{className:"ma2 tc",type:"submit",children:n("actions.save")}),(0,Z.jsx)(x.Z,{className:"ma2 tc",bg:"bg-gray",onClick:a,children:n("actions.cancel")})]})]})}))};G.defaultProps={className:"",nickname:null,apiEndpoint:null};var z=function(e){var n=e.text;return(0,Z.jsx)("p",{className:"red absolute f7",style:{top:26,left:2},children:n})},q=(0,o.$)("doAddPinningService",(0,p.Z)("settings")(G)),V=["t","tReady","onLeave","className","remoteServiceTemplates","pinningServicesDefaults"],H=function(e){var n=e.t,a=(e.tReady,e.onLeave),s=e.className,t=e.remoteServiceTemplates,i=e.pinningServicesDefaults,r=(0,S.Z)(e,V),l=(0,c.useState)(!1),o=(0,R.Z)(l,2),p=o[0],u=o[1],h=function(){return u(!1)},m=i[p.name]||{};return(0,Z.jsxs)(k.u_,(0,w.Z)((0,w.Z)({},r),{},{className:s,onCancel:a,style:{maxWidth:"34em"},children:[(0,Z.jsxs)(k.fe,{children:[(0,Z.jsx)("p",{children:n("pinningModal.title")}),(0,Z.jsx)("div",{className:"pa2 pinningManagerModalContainer",children:t.map((function(e){var n=e.icon,a=e.name;return(0,Z.jsxs)("button",{className:"flex items-center pinningManagerModalItem pa1 hoverable-button",onClick:function(){return u({name:a,icon:n})},children:[(0,Z.jsx)("img",{className:"mr3",src:n,alt:a,width:42,height:42,style:{objectFit:"contain"}}),(0,Z.jsx)("p",{children:a})]},a)}))}),(0,Z.jsx)("p",{className:"flex items-center justify-center",children:(0,Z.jsxs)(d.c,{i18nKey:"pinningModal.description",t:n,children:["Don\u2019t see your pinning service provider? ",(0,Z.jsx)(x.Z,{className:"pv0",type:"link",onClick:function(){return u({type:"CUSTOM"})},children:"Add a custom one."})]})})]}),(0,Z.jsx)(k.nK,{justify:"center",children:(0,Z.jsx)(x.Z,{className:"ma2 tc",bg:"bg-gray",onClick:a,children:n("actions.cancel")})}),(0,Z.jsx)(N.Z,{show:!!p,onLeave:h,hidden:!0,children:(0,Z.jsx)(q,{className:"outline-0",service:p,onSuccess:function(){u(!1),a()},onLeave:h,nickname:m.nickname,apiEndpoint:m.apiEndpoint,visitServiceUrl:m.visitServiceUrl,complianceReportUrl:m.complianceReportUrl,t:n})})]}))};H.defaultProps={className:""};var W=(0,o.$)("selectRemoteServiceTemplates","selectPinningServicesDefaults",(0,p.Z)("settings")(H)),$=["name","service","t","onLeave","doSetAutoUploadForService","className"],J=function(e){var n=e.name,a=e.service,s=e.t,t=e.onLeave,i=e.doSetAutoUploadForService,r=e.className,c=(0,S.Z)(e,$);return(0,Z.jsxs)(k.u_,(0,w.Z)((0,w.Z)({},c),{},{className:r,onCancel:t,style:{maxWidth:"34em"},children:[(0,Z.jsxs)(k.fe,{children:[(0,Z.jsx)("p",{children:s("autoUploadModal.title",{name:n})}),(0,Z.jsx)("div",{className:"pa2 AutoUploadModalContainer",children:s("autoUploadModal.description")})]}),(0,Z.jsxs)(k.nK,{justify:"center",children:[(0,Z.jsx)(x.Z,{className:"ma2 tc",bg:"bg-teal",onClick:function(){i(n),t()},children:a.autoUpload?s("actions.disable"):s("actions.enable")}),(0,Z.jsx)(x.Z,{className:"ma2 tc",bg:"bg-gray",onClick:t,children:s("actions.cancel")})]})]}))};J.defaultProps={className:""};var Q=(0,o.$)("doSetAutoUploadForService",(0,p.Z)("settings")(J)),Y=a(95806),X=a(58011),ee=a(28544),ne=function(e){var n=e.id,a=e.children,s=e.zIndex,t=(0,c.useRef)(document.getElementById(n)||document.createElement("div")),i=(0,c.useState)(!t.current.parentElement),r=(0,R.Z)(i,1)[0];return(0,c.useEffect)((function(){return r&&(t.current.id=n,s&&(t.current.style.zIndex=s),document.body.appendChild(t.current)),function(){r&&t.current.parentElement&&t.current.parentElement.removeChild(t.current)}}),[r,n,s]),(0,ee.createPortal)(a,t.current)},ae=(0,c.memo)(ne),se=function(e){var n=e.className,a=e.children,s=e.target,t=e.visible,i=e.arrowAlign,r=e.arrowMarginRight,l=e.onDismiss,o=(0,c.useRef)(),d=(0,c.useState)({}),p=(0,R.Z)(d,2),u=p[0],h=p[1];if((0,c.useLayoutEffect)((function(){var e=function(){if(null!==s&&void 0!==s&&s.current){var e=s.current.getBoundingClientRect(),n=e.top,a=e.left,t=e.width,i=e.height;h({top:n,left:a,width:t,height:i})}};e();var n=window.addEventListener("scroll",(function(){requestAnimationFrame((function(){return e()}))}));return function(){return window.removeEventListener("scroll",n)}}),[s,t]),(0,c.useEffect)((function(){if(null!==s&&void 0!==s&&s.current){var e=s.current.querySelector('[role="menuitem"]');e&&e.focus()}}),[s,t]),!t||!s||!s.current)return null;var m=te(i,(0,w.Z)((0,w.Z)({},u),{},{arrowMarginRight:r}));return(0,Z.jsx)(ae,{id:"portal-dropdown",children:(0,Z.jsx)("div",{className:F()("absolute",n),style:{top:u.top,left:u.left},children:(0,Z.jsx)(X.h,{open:t,className:"sans-serif br2 charcoal",boxShadow:"rgba(105, 196, 205, 0.5) 0px 1px 10px 0px",width:"auto",arrowAlign:i||"center",arrowMarginRight:"".concat(r,"px"),top:u.height,left:-u.width-m,translateX:-u.width,onDismiss:l,children:(0,Z.jsx)("div",{className:"flex flex-column pa2",ref:o,role:"menu",children:a})})})})};se.defaultProps={arrowMarginRight:13};var te=function(e,n){var a=n.width,s=n.arrowMarginRight;return"right"===e?a+2*s:0},ie=se,re=["className","children"],ce=function(e){var n=e.className,a=e.children,s=(0,S.Z)(e,re);return(0,Z.jsx)("button",(0,w.Z)((0,w.Z)({className:F()(n,"flex items-center nowrap"),role:"menuitem"},s),{},{children:a}))},le=a(20220);var oe=function(e){return(0,Z.jsxs)("svg",(0,w.Z)((0,w.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"},e),{},{children:[(0,Z.jsx)("path",{d:"M52 18.81A31.19 31.19 0 1083.19 50 31.22 31.22 0 0052 18.81zm0 59.78A28.59 28.59 0 1180.59 50 28.63 28.63 0 0152 78.59z"}),(0,Z.jsx)("path",{d:"M66.33 40.3a.75.75 0 00-.22-.53l-3.88-3.88a.74.74 0 00-1.06 0L52 45.06l-9.17-9.17a.74.74 0 00-1.06 0l-3.88 3.88a.75.75 0 000 1.06L47.06 50l-9.17 9.17a.75.75 0 000 1.06l3.88 3.88a.74.74 0 001.06 0L52 54.94l9.17 9.17a.74.74 0 00.53.22.73.73 0 00.53-.22l3.88-3.88a.75.75 0 000-1.06L56.94 50l9.17-9.17a.75.75 0 00.22-.53zm-11 9.17a.75.75 0 000 1.06l9.17 9.17-2.8 2.82-9.17-9.17a.75.75 0 00-1.06 0l-9.17 9.17-2.82-2.82 9.17-9.17a.75.75 0 000-1.06l-9.17-9.17 2.82-2.82 9.17 9.17a.75.75 0 001.06 0l9.17-9.17 2.82 2.82z"})]}))},de=function(e){return(0,Z.jsxs)("svg",(0,w.Z)((0,w.Z)({viewBox:"0 0 100 100"},e),{},{children:[(0,Z.jsx)("path",{d:"M75.4 49.9c-.9 0-1.6.7-1.6 1.6v21.8c0 1.5-.6 2.9-1.7 4s-2.5 1.7-4 1.7h-40c-1.5 0-2.9-.6-4-1.7s-1.7-2.5-1.7-4v-40c0-1.5.6-2.9 1.7-4s2.5-1.7 4-1.7h21.8c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6H28.1c-2.4 0-4.6.9-6.3 2.6-1.7 1.7-2.6 3.9-2.6 6.3v40c0 2.4.9 4.6 2.6 6.3 1.7 1.7 3.9 2.6 6.3 2.6h40c2.4 0 4.6-.9 6.3-2.6 1.7-1.7 2.6-3.9 2.6-6.3V51.5c0-.9-.7-1.6-1.6-1.6z"}),(0,Z.jsx)("path",{d:"M83.8 19.3V19v-.2-.2c0-.1-.1-.1-.1-.2 0 0 0-.1-.1-.1-.1-.1-.1-.2-.2-.2l-.2-.2s-.1 0-.1-.1l-.1-.1c-.1 0-.1 0-.2-.1H60.3c-.9 0-1.6.7-1.6 1.6s.7 1.6 1.6 1.6h17.9l-25.8 26c-.6.6-.6 1.7 0 2.3.3.3.7.5 1.1.5s.8-.2 1.1-.5l25.8-25.8v17.9c0 .9.7 1.6 1.6 1.6s1.6-.7 1.6-1.6l.2-21.9z"})]}))};var pe=function(e){return(0,Z.jsx)("svg",(0,w.Z)((0,w.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"},e),{},{children:(0,Z.jsx)("path",{d:"M76.53 44.5a12.83 12.83 0 00-3.81.57 14.07 14.07 0 00-13.88-13.3 13.7 13.7 0 00-9.12 3.49 17 17 0 00-14.78-8.67A17.25 17.25 0 0018 42 14.84 14.84 0 006.33 56.6c0 13.89 11.56 16.81 13.84 16.81h56.2c5.21 0 12.47-7.37 12.47-14.62 0-7.03-4.61-14.29-12.31-14.29zm-.16 25.91H20.22c-.11 0-10.89-1.26-10.89-13.81a11.89 11.89 0 018-11.32C19.046 44.687 21 45 21 45v-2.25a14 14 0 0127-4.29l1 2.32 1.58-1.94a10.8 10.8 0 018.36-4 11.09 11.09 0 017.686 3.37c2.021 2.088 2.497 4.573 3.124 7.79.265 1.362.25 2 .4 3.53l1.73-.91a9.86 9.86 0 014.65-1.16c5.83 0 9.31 5.74 9.31 11.29 0 6.04-6.51 11.66-9.47 11.66z"})}))},ue=function(e){var n=e.pinningServices,a=e.ipfsReady,s=e.arePinningServicesSupported,t=e.doFetchPinningServices,i=e.doFetchPinningServicesStats,r=e.doFetchLocalPinsStats,l=e.doRemovePinningService,o=e.localPinsSize,d=e.localNumberOfPins,p=e.t,u=(0,c.useState)(!1),h=(0,R.Z)(u,2),m=h[0],f=h[1],g=(0,c.useState)(!1),v=(0,R.Z)(g,2),j=v[0],b=v[1],y=function(){return f(!1)},w=function(e){return b(e)},S=function(){return b(!1)},k=(0,c.useState)({sortBy:"addedAt",sortDirection:K.Sr.ASC}),C=(0,R.Z)(k,2),A=C[0],E=C[1];(0,c.useEffect)((function(){a&&t()&&i()&&r()}),[a,t,i,r]);var L=(0,c.useMemo)((function(){return{name:p("localPinning"),type:"LOCAL",totalSize:o,numberOfPins:d}}),[d,o,p]),P=(0,c.useMemo)((function(){return(n||[]).sort((0,I.hr)(A.sortBy,A.sortDirection===K.Sr.ASC?1:-1))}),[n,A.sortBy,A.sortDirection]),_=(0,c.useMemo)((function(){return[L].concat((0,M.Z)(P))}),[L,P]);return(0,Z.jsxs)(c.Fragment,{children:[(0,Z.jsxs)("div",{className:"mv4 pinningManager",children:[(0,Z.jsx)("div",{className:"ph1 ph3-l flex items-center bg-white lh-copy charcoal f6 fw5",children:(0,Z.jsx)(K.qj,{disableHeight:!0,children:function(e){var n=e.width;return(0,Z.jsxs)(K.iA,{className:"tl fw4 w-100 f6",headerClassName:"gray ttc fw4 f6 ph2",width:n,height:50*(_.length+1),headerHeight:32,rowHeight:50,rowCount:_.length,rowGetter:function(e){var n=e.index;return _[n]},rowClassName:"bb b--light-gray mt2",sort:function(){return E.apply(void 0,arguments)},sortBy:A.sortBy,sortDirection:A.sortDirection,children:[(0,Z.jsx)(K.sg,{label:p("service"),title:p("service"),dataKey:"name",width:.4*n,flexShrink:0,flexGrow:1,cellRenderer:me,className:"charcoal truncate f6"}),(0,Z.jsx)(K.sg,{label:p("pins"),title:p("pins"),dataKey:"numberOfPins",width:.2*n,flexShrink:1,cellRenderer:function(e){var n=e.rowData;return(0,Z.jsx)(fe,{rowData:n,t:p})},className:"charcoal truncate f6 pl2"}),(0,Z.jsx)(K.sg,{label:p("autoUpload"),title:p("autoUpload"),dataKey:"autoUpload",width:.2*n,flexShrink:1,cellRenderer:function(e){var n=e.rowData;return(0,Z.jsx)(ge,{autoUpload:n.autoUpload,type:n.type,name:n.name,visitServiceUrl:n.visitServiceUrl,doRemovePinningService:l,t:p,onToggleModalOpen:w})},className:"pinningManagerColumn charcoal truncate f6 pl2"})]})}})}),s&&(0,Z.jsx)("div",{className:"flex justify-end w-100 mt2",children:(0,Z.jsx)(x.Z,{className:"tc mt2",bg:"bg-navy",onClick:function(){return f(!0)},children:(0,Z.jsxs)("span",{children:[(0,Z.jsx)("span",{className:"aqua",children:"+"})," ",p("actions.addService")]})})})]}),(0,Z.jsx)(N.Z,{show:j,onLeave:S,children:(0,Z.jsx)(Q,{className:"outline-0",onLeave:function(){S(),t(),i()},t:p,name:j,service:P.find((function(e){return e.name===j}))})}),(0,Z.jsx)(N.Z,{show:m,onLeave:y,children:(0,Z.jsx)(W,{className:"outline-0",onLeave:function(){y(),t(),i()},t:p})})]})};ue.defaultProps={pinningServices:[]};var he=function(e){var n=e.rowData,a=e.index,s=["aqua","link","yellow","teal","red","green","navy","gray","charcoal"],t="mr2 pr1 fill-".concat(s[a%s.length]," flex-shrink-0");return n.icon?(0,Z.jsx)("img",{src:n.icon,alt:n.name,width:"28",height:"28",className:t,style:{objectFit:"contain"}}):(0,Z.jsx)(Y.Z,{width:"28",height:"28",className:t})},me=function(e){var n,a=e.rowData,s=e.rowIndex;return(0,Z.jsxs)("div",{className:"flex items-center",title:a.name,children:[(0,Z.jsx)(he,{rowData:a,index:s}),(0,Z.jsx)("span",{className:(n=a,"LOCAL"===n.type||n.online?"truncate":"truncate red"),children:a.name})]})},fe=function(e){var n=e.rowData,a=e.t;return n.numberOfPins<0?(0,Z.jsx)("div",{className:"red help",title:a("errors.failedToFetchTitle"),children:a("errors.failedToFetch")}):(0,Z.jsx)("div",{className:n.numberOfPins>=0?"":"gray",children:n.numberOfPins>=0?n.numberOfPins:"".concat(a("app:terms:loading"),"...")})},ge=function(e){var n=e.autoUpload,a=e.visitServiceUrl,s=e.name,t=e.doRemovePinningService,i=e.t,r=e.type,c=e.onToggleModalOpen;return(0,Z.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Z.jsx)("div",{className:n?"":"gray",children:"undefined"!==typeof n?i("autoUploadPolicy."+n):"-"}),"LOCAL"!==r&&(0,Z.jsx)(ve,{doRemovePinningService:t,name:s,t:i,onToggleModalOpen:c,autoUpload:n,visitServiceUrl:a})]})},ve=function(e){var n=e.doRemovePinningService,a=e.name,s=e.visitServiceUrl,t=e.autoUpload,i=e.t,r=e.onToggleModalOpen,l=(0,c.useRef)(),o=(0,c.useState)(!1),d=(0,R.Z)(o,2),p=d[0],u=d[1],h=!a.includes(".");return(0,Z.jsxs)("div",{children:[(0,Z.jsx)("button",{className:"button-inside-focus",onClick:function(){return u(!0)},ref:l,"aria-label":i("showOptions"),children:(0,Z.jsx)(le.Z,{width:24,className:"fill-gray-muted hover-fill-gray transition-all"})}),(0,Z.jsxs)(ie,{className:"pv2 ph1",style:{zIndex:1001},visible:p,target:l,onDismiss:function(){return u(!1)},arrowAlign:"right",children:[h&&(0,Z.jsxs)(ce,{className:"pv2 ph1",onClick:function(){return r(a)},children:[(0,Z.jsx)(pe,{width:"28",className:"fill-aqua"})," ",(0,Z.jsx)("span",{className:"ph1",children:i(t?"pinningServices.removeAutoUpload":"pinningServices.addAutoUpload")})]}),s&&(0,Z.jsx)("a",{className:"link flex items-center",href:s,target:"_blank",rel:"noopener noreferrer",children:(0,Z.jsxs)(ce,{className:"pv2 ph1",onClick:function(){return u(!1)},children:[(0,Z.jsx)(de,{width:"28",className:"fill-aqua"})," ",(0,Z.jsx)("span",{className:"ph1 charcoal",children:i("visitService")})]})}),(0,Z.jsxs)(ce,{className:"pv2 ph1",onClick:function(){n(a),u(!1)},children:[(0,Z.jsx)(oe,{width:"28",className:"fill-aqua"})," ",(0,Z.jsx)("span",{className:"ph1",children:i("remove")})]})]})]})},xe=(0,o.$)("selectIpfsReady","selectLocalPinsSize","selectLocalNumberOfPins","selectPinningServices","selectArePinningServicesSupported","doFetchPinningServices","doFetchPinningServicesStats","doFetchLocalPinsStats","doRemovePinningService",ue),je=a(67239),be=["t","tReady","onCancel","onSubmit","className"],ye=function(e){var n=e.t,a=(e.tReady,e.onCancel),s=e.onSubmit,t=e.className,i=(0,S.Z)(e,be);return(0,Z.jsx)(je.Z,(0,w.Z)({onSubmit:function(e){return s(e.trim())},onChange:function(e){return e.trimStart()},onCancel:a,className:t,title:n("generateKeyModal.title"),description:n("generateKeyModal.description"),Icon:C.Z,submitText:n("app:actions.generate")},i))};ye.defaultProps={className:""};var Ne=ye,we=a(65239),Se=["t","tReady","name","onCancel","onSubmit","className"],ke=function(e){var n=e.t,a=(e.tReady,e.name),s=e.onCancel,t=e.onSubmit,i=e.className,r=(0,S.Z)(e,Se);return(0,Z.jsx)(je.Z,(0,w.Z)({onSubmit:function(e){return t(e.trim())},onChange:function(e){return e.trimStart()},onCancel:s,className:i,title:n("renameKeyModal.title"),description:(0,Z.jsx)("div",{className:"charcoal w-90 center tl mb3",children:(0,Z.jsxs)(d.c,{t:n,i18nKey:"renameKeyModal.description",tOptions:{name:a},children:["Renaming IPNS key ",(0,Z.jsx)("span",{className:"charcoal-muted monospace",children:a}),"."]})}),Icon:we.Z,defaultValue:a,mustBeDifferent:!0,submitText:n("app:actions.rename")},r))};ke.defaultProps={className:""};var Ce=ke,Ze=a(39848),Ae=["t","tReady","name","onCancel","onRemove","className"],Ee=function(e){var n=e.t,a=(e.tReady,e.name),s=e.onCancel,t=e.onRemove,i=e.className,r=(0,S.Z)(e,Ae);return(0,Z.jsxs)(k.u_,(0,w.Z)((0,w.Z)({},r),{},{className:i,onCancel:s,children:[(0,Z.jsx)(k.fe,{title:n("removeKeyModal.title"),Icon:Ze.Z,children:(0,Z.jsx)("div",{className:"charcoal w-100 center tl",children:(0,Z.jsxs)(d.c,{t:n,i18nKey:"removeKeyModal.description",tOptions:{name:a},children:["Are you sure you want to delete the IPNS key ",(0,Z.jsx)("span",{className:"charcoal-muted monospace",children:a}),"?"]})})}),(0,Z.jsxs)(k.nK,{children:[(0,Z.jsx)(x.Z,{className:"ma2 tc",bg:"bg-gray",onClick:s,children:n("app:actions.cancel")}),(0,Z.jsx)(x.Z,{className:"ma2 tc",bg:"bg-red",onClick:t,children:n("app:actions.remove")})]})]}))};Ee.defaultProps={className:""};var Le=Ee,Pe=function(e){var n=e.t,a=e.name,s=e.showRenameKeyModal,t=e.showRemoveKeyModal;return(0,Z.jsx)("div",{className:"flex justify-end",children:"self"!==a&&(0,Z.jsx)(_e,{name:a,t:n,showRenameKeyModal:s,showRemoveKeyModal:t})})},_e=function(e){var n=e.t,a=e.name,s=e.showRenameKeyModal,t=e.showRemoveKeyModal,i=(0,c.useRef)(),r=(0,c.useState)(!1),l=(0,R.Z)(r,2),o=l[0],d=l[1],p=function(e){return function(){e(a),d(!1)}};return(0,Z.jsxs)("div",{children:[(0,Z.jsx)("button",{className:"button-inside-focus",onClick:function(){return d(!0)},ref:i,"aria-label":n("showOptions"),children:(0,Z.jsx)(le.Z,{width:24,className:"fill-gray-muted hover-fill-gray transition-all"})}),(0,Z.jsxs)(ie,{className:"pv2 ph1",style:{zIndex:1001},visible:o,target:i,onDismiss:function(){return d(!1)},arrowAlign:"right",children:[(0,Z.jsxs)(ce,{className:"pv2 ph1",onClick:p(s),children:[(0,Z.jsx)(we.Z,{width:"28",className:"fill-aqua"})," ",(0,Z.jsx)("span",{className:"ph1",children:n("app:actions.rename")})]}),(0,Z.jsxs)(ce,{className:"pv2 ph1",onClick:p(t),children:[(0,Z.jsx)(oe,{width:"28",className:"fill-aqua"})," ",(0,Z.jsx)("span",{className:"ph1",children:n("app:actions.remove")})]})]})]})},Me=function(e){var n=e.t,a=e.ipfsReady,s=e.doFetchIpnsKeys,t=e.doGenerateIpnsKey,i=e.doRenameIpnsKey,r=e.doRemoveIpnsKey,l=e.availableGateway,o=e.ipnsKeys,d=(0,c.useState)(!1),p=(0,R.Z)(d,2),u=p[0],h=p[1],m=function(){return h(!1)},f=(0,c.useState)(""),g=(0,R.Z)(f,2),v=g[0],j=g[1],b=function(e){return j(e)},y=function(){return j("")},w=(0,c.useState)(""),S=(0,R.Z)(w,2),k=S[0],C=S[1],A=function(e){return C(e)},E=function(){return C("")};(0,c.useEffect)((function(){a&&s()}),[a,s]);var L=(0,c.useState)({sortBy:"name",sortDirection:K.Sr.ASC}),P=(0,R.Z)(L,2),_=P[0],M=P[1],D=(0,c.useMemo)((function(){return(o||[]).sort((0,I.hr)(_.sortBy,_.sortDirection===K.Sr.ASC?1:-1))}),[o,_.sortBy,_.sortDirection]);return(0,Z.jsxs)(c.Fragment,{children:[(0,Z.jsxs)("div",{className:"mv4 pinningManager",children:[(0,Z.jsx)("div",{className:"ph1 ph3-l flex items-center bg-white lh-copy charcoal f6 fw5",children:(0,Z.jsx)(K.qj,{disableHeight:!0,children:function(e){var a=e.width;return(0,Z.jsxs)(K.iA,{className:"tl fw4 w-100 f6",headerClassName:"gray ttc fw4 f6 ph2",width:a,height:50*(D.length+1),headerHeight:32,rowHeight:50,rowCount:D.length,rowGetter:function(e){var n=e.index;return D[n]},rowClassName:"bb b--light-gray mt2",sort:function(){return M.apply(void 0,arguments)},sortBy:_.sortBy,sortDirection:_.sortDirection,children:[(0,Z.jsx)(K.sg,{label:n("app:terms.name"),title:n("app:terms.name"),dataKey:"name",width:.3*a,flexShrink:0,flexGrow:1,cellRenderer:function(e){return e.rowData.name},className:"charcoal truncate f6"}),(0,Z.jsx)(K.sg,{label:n("app:terms.id"),title:n("app:terms.id"),dataKey:"id",width:.6*a,className:"charcoal monospace truncate f6 pl2",flexShrink:1,cellRenderer:function(e){var n=e.rowData;return n.published?(0,Z.jsx)("a",{href:"".concat(l,"/ipns/").concat(n.id),target:"_blank",rel:"noopener noreferrer",className:"link blue",children:n.id}):n.id}}),(0,Z.jsx)(K.sg,{dataKey:"options",width:.1*a,flexShrink:1,cellRenderer:function(e){var a=e.rowData;return(0,Z.jsx)(Pe,{t:n,name:a.name,showRenameKeyModal:b,showRemoveKeyModal:A})},className:"pinningManagerColumn charcoal truncate f6 pl2"})]})}})}),(0,Z.jsx)("div",{className:"flex justify-end w-100 mt2",children:(0,Z.jsx)(x.Z,{className:"tc mt2",bg:"bg-navy",onClick:function(){return h(!0)},children:(0,Z.jsxs)("span",{children:[(0,Z.jsx)("span",{className:"aqua",children:"+"})," ",n("actions.generateKey")]})})})]}),(0,Z.jsx)(N.Z,{show:u,onLeave:m,children:(0,Z.jsx)(Ne,{className:"outline-0",onSubmit:function(e){t(e),m()},onCancel:m,t:n})}),(0,Z.jsx)(N.Z,{show:""!==v,onLeave:y,children:(0,Z.jsx)(Ce,{className:"outline-0",name:v,onSubmit:function(e){i(v,e),y()},onCancel:y,t:n})}),(0,Z.jsx)(N.Z,{show:""!==k,onLeave:E,children:(0,Z.jsx)(Le,{className:"outline-0",name:k,onRemove:function(e){r(k),E()},onCancel:E,t:n})})]})};Me.defaultProps={ipnsKeys:[]};var Re=(0,o.$)("selectIpfsReady","selectIpnsKeys","selectAvailableGateway","doFetchIpnsKeys","doGenerateIpnsKey","doRemoveIpnsKey","doRenameIpnsKey",Me),Ke=a(9158),Ie=a(63001),De=a(35224),Ue=(0,o.$)("doUpdatePublicGateway","selectPublicGateway",(0,p.Z)("app")((function(e){var n=e.t,a=e.doUpdatePublicGateway,s=e.publicGateway,t=(0,c.useState)(s),i=(0,R.Z)(t,2),r=i[0],l=i[1],o=!(0,De.Rf)(r),d=(0,c.useState)(o),p=(0,R.Z)(d,2),u=p[0],h=p[1],m=(0,c.useState)(o),f=(0,R.Z)(m,2),g=f[0],v=f[1];(0,c.useEffect)((function(){h(!g)}),[g]),(0,c.useEffect)((function(){var e=(0,De.Rf)(r);v(e),h(!e)}),[r]);var j=function(){var e=(0,U.Z)((0,D.Z)().mark((function e(n){return(0,D.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,(0,De.Dp)(r);case 4:e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(1),h(!0),e.abrupt("return");case 10:a(r);case 11:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(n){return e.apply(this,arguments)}}(),b=function(){var e=(0,U.Z)((0,D.Z)().mark((function e(n){return(0,D.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),l(De.KG),a(De.KG);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,Z.jsxs)("form",{onSubmit:j,children:[(0,Z.jsx)("input",{id:"public-gateway","aria-label":n("terms.publicGateway"),placeholder:n("publicGatewayForm.placeholder"),type:"text",className:"w-100 lh-copy monospace f5 pl1 pv1 mb2 charcoal input-reset ba b--black-20 br1 ".concat(u?"focus-outline-red b--red-muted":"focus-outline-green b--green-muted"),onChange:function(e){return l(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&j(e)},value:r}),(0,Z.jsxs)("div",{className:"tr",children:[(0,Z.jsx)(x.Z,{minWidth:100,height:40,bg:"bg-charcoal",className:"tc",disabled:r===De.KG,onClick:b,children:n("app:actions.reset")}),(0,Z.jsx)(x.Z,{minWidth:100,height:40,className:"mt2 mt0-l ml2-l tc",disabled:!g||r===s,children:n("actions.submit")})]})]})}))),Te=a(76078),Fe=(a(23957),a(29943),function(e){(0,i.Z)(a,e);var n=(0,r.Z)(a);function a(){return(0,s.Z)(this,a),n.apply(this,arguments)}return(0,t.Z)(a,[{key:"render",value:function(){var e=this.props,n=e.value,a=e.readOnly,s=e.onChange,t=Math.max(500,16*n.split("\n").length);return(0,Z.jsx)("div",{className:"pv3 bg-navy br2",children:(0,Z.jsx)(Te.ZP,{value:n,readOnly:a,onChange:s,mode:"json",theme:"ipfs_dark",width:"100%",height:t+"px",fontSize:12,showPrintMargin:!1,showGutter:!0,editorProps:{$blockScrolling:1/0},setOptions:{showLineNumbers:!0,tabSize:2}})})}}]),a}(c.Component)),Oe=Fe,Be=a(66572),Ge=a(1504),ze=(0,o.$)("selectExperiments","doExpToggleAction",(function(e){var n=e.doExpToggleAction,a=e.experiments,s=e.t;if(a&&a.length>0){var t=function(e,n){return s("Experiments.".concat(n?"".concat(n,".").concat(e):"".concat(e)))};return(0,Z.jsxs)(v.Z,{className:"mb3 pa4 lh-copy",children:[(0,Z.jsx)(Ge.Z,{children:s("experiments")}),(0,Z.jsx)("p",{className:"db mv4 f6 charcoal mw7",children:t("description")}),(0,Z.jsx)("div",{className:"flex flex-wrap pb3",children:a.map((function(e){var a=e.key,s=e.actionUrls,i=e.enabled,r=e.blocked;return(0,Z.jsxs)("div",{className:"pa3 mr3 mb3 mw6 br3 bg-white dib f6 ba b1 b--light-gray",children:[(0,Z.jsx)("h3",{children:t("title",a)}),(0,Z.jsx)("p",{className:"charcoal",children:t("description",a)}),(0,Z.jsx)(Be.Z,{className:"dib",disabled:r,onChange:function(){return n(a,i)},checked:i,label:(0,Z.jsx)("span",{className:"fw5 f6",children:t("label",a)})}),s&&(0,Z.jsx)("div",{className:"mv3",children:s.map((function(e,n){return(0,Z.jsx)("a",{target:"_blank",rel:"noopener noreferrer",className:"link blue pr2 ".concat(n>0&&"bl b1 pl2 b--light-gray"),href:e.url,children:t(e.key)},e.key)}))})]},a)}))})]})}return null})),qe=a(28321),Ve=a(74090),He=a(4790),We=a(16782),$e=function(e){var n=e.t,a=e.tReady,s=e.isIpfsConnected,t=e.ipfsPendingFirstConnection,i=e.isIpfsDesktop,r=e.isConfigBlocked,c=e.isLoading,o=e.isSaving,p=e.arePinningServicesSupported,m=e.hasSaveFailed,g=e.hasSaveSucceded,j=e.hasErrors,b=e.hasLocalChanges,y=e.hasExternalChanges,N=e.config,w=e.onChange,S=e.onReset,k=e.onSave,C=e.editorKey,A=e.analyticsEnabled,E=e.doToggleAnalytics,L=e.toursEnabled,P=e.handleJoyrideCallback,M=e.isCliTutorModeEnabled,R=e.doToggleCliTutorMode,K=e.command;return(0,Z.jsxs)("div",{"data-id":"SettingsPage",className:"mw9 center",children:[(0,Z.jsx)(l.ql,{children:(0,Z.jsxs)("title",{children:[n("title")," | IPFS"]})}),t?(0,Z.jsx)("div",{className:"absolute flex items-center justify-center w-100 h-100",style:{background:"rgba(255, 255, 255, 0.5)",zIndex:"10"},children:(0,Z.jsx)(Ve.Z,{})}):null,i?null:(0,Z.jsx)(v.Z,{className:"mb3 pa4-l pa2 joyride-settings-customapi",children:(0,Z.jsxs)("div",{className:"lh-copy charcoal",children:[(0,Z.jsx)(Ge.Z,{children:n("app:terms.apiAddress")}),(0,Z.jsx)(d.c,{i18nKey:"apiDescription",t:n,children:(0,Z.jsxs)("p",{children:["If your node is configured with a ",(0,Z.jsx)("a",{className:"link blue",href:"https://github.com/ipfs/kubo/blob/master/docs/config.md#addresses",target:"_blank",rel:"noopener noreferrer",children:"custom API address"}),", including a port other than the default 5001, enter it here."]})}),(0,Z.jsx)(Ie.Z,{})]})}),(0,Z.jsx)(v.Z,{className:"mb3 pa4-l pa2",children:(0,Z.jsxs)("div",{className:"lh-copy charcoal",children:[(0,Z.jsx)(Ge.Z,{children:n("app:terms.publicGateway")}),(0,Z.jsx)(d.c,{i18nKey:"publicGatewayDescription",t:n,children:(0,Z.jsxs)("p",{children:["Choose which ",(0,Z.jsx)("a",{className:"link blue",href:"http://docs.ipfs.io/concepts/ipfs-gateway/#public-gateways",target:"_blank",rel:"noopener noreferrer",children:"public gateway"})," you want to use to open your files."]})}),(0,Z.jsx)(Ue,{})]})}),(0,Z.jsxs)(v.Z,{className:"mb3 pa4-l pa2",children:[(0,Z.jsx)(Ge.Z,{children:n("ipnsPublishingKeys.title")}),(0,Z.jsxs)("p",{className:"ma0 mr2 lh-copy charcoal f6",children:[n("ipnsPublishingKeys.description"),"\xa0",(0,Z.jsx)("a",{className:"link blue",target:"_blank",rel:"noopener noreferrer",href:"https://docs.ipfs.io/concepts/glossary/#ipns",children:n("learnMoreLink")})]}),(0,Z.jsx)(Re,{t:n})]}),(0,Z.jsxs)(v.Z,{className:"mb3 pa4-l pa2 joyride-settings-pinning",children:[(0,Z.jsx)(Ge.Z,{children:n("pinningServices.title")}),(0,Z.jsxs)("p",{className:"ma0 mr2 lh-copy charcoal f6",children:[n(p?"pinningServices.description":"pinningServices.noPinRemoteDescription"),"\xa0",(0,Z.jsx)("a",{className:"link blue",target:"_blank",rel:"noopener noreferrer",href:"https://docs.ipfs.io/how-to/work-with-pinning-services/",children:n("learnMoreLink")})]}),(0,Z.jsx)(xe,{t:n})]}),(0,Z.jsxs)(v.Z,{className:"mb3 pa4-l pa2",children:[(0,Z.jsxs)("div",{className:"mb4 joyride-settings-language",children:[(0,Z.jsx)(Ge.Z,{children:n("language")}),(0,Z.jsx)(_,{t:n})]}),(0,Z.jsxs)("div",{className:"joyride-settings-analytics",children:[(0,Z.jsx)(Ge.Z,{children:n("analytics")}),(0,Z.jsx)(Ke.Z,{t:n,doToggleAnalytics:E,analyticsEnabled:A})]})]}),(0,Z.jsx)(ze,{t:n}),(0,Z.jsx)(v.Z,{className:"mb3 pa4-l pa2 joyride-settings-tutormode",children:(0,Z.jsxs)("div",{className:"charcoal",children:[(0,Z.jsx)(Ge.Z,{children:n("cliTutorMode")}),(0,Z.jsx)(Be.Z,{className:"dib",onChange:R,checked:M,label:(0,Z.jsx)("span",{className:"f5 lh-copy",children:n("cliToggle.label")})}),(0,Z.jsx)(d.c,{i18nKey:"cliDescription",t:n,children:(0,Z.jsxs)("p",{className:"f6 mv2",children:['Enable this option to display a "view code" ',(0,Z.jsx)(He.Z,{className:"dib v-mid icon mh1 fill-charcoal",viewBox:"14 20 70 66",style:{height:24}})," icon next to common IPFS commands. Clicking it opens a modal with that command's CLI code, so you can paste it into the IPFS command-line interface in your terminal."]})})]})}),s&&(0,Z.jsxs)(v.Z,{className:"mb3 pa4-l pa2",children:[(0,Z.jsxs)("div",{className:"joyride-settings-config",children:[(0,Z.jsx)(Ge.Z,{children:n("config")}),(0,Z.jsxs)("div",{className:"flex pb3",children:[(0,Z.jsx)("div",{className:"flex-auto",children:(0,Z.jsx)("div",{className:"mw7",children:(0,Z.jsx)(Qe,{t:n,tReady:a,config:N,isIpfsConnected:s,isConfigBlocked:r,isLoading:c,hasExternalChanges:y,hasSaveFailed:m,hasSaveSucceded:g})})}),N?(0,Z.jsxs)("div",{className:"flex flex-column justify-center flex-row-l items-center-l",children:[(0,Z.jsx)(qe.Z,{showIcon:!0,config:N,t:n,command:K}),(0,Z.jsx)(x.Z,{minWidth:100,height:40,bg:"bg-charcoal",className:"tc",disabled:o||!b&&!y,onClick:S,children:n("app:actions.reset")}),(0,Z.jsx)(Je,{t:n,tReady:a,hasErrors:j,hasSaveFailed:m,hasSaveSucceded:g,hasLocalChanges:b,hasExternalChanges:y,isSaving:o,onClick:k})]}):null]})]}),N?(0,Z.jsx)(Oe,{value:N,onChange:w,readOnly:o},C):null]}),(0,Z.jsx)(u.ZP,{run:L,steps:h.Qu.getSteps({t:n,Trans:d.c}),styles:h.Qu.styles,callback:P,continuous:!0,scrollToFirstStep:!0,locale:(0,f._)(n),showProgress:!0})]})},Je=function(e){var n=e.t,a=e.hasErrors,s=e.hasSaveFailed,t=e.hasSaveSucceded,i=e.isSaving,r=e.hasLocalChanges,c=e.hasExternalChanges,l=e.onClick,o=t?"bg-green":"bg-teal";return(0,Z.jsx)(x.Z,{minWidth:100,height:40,className:"mt2 mt0-l ml2-l tc",bg:o,disabled:!r||a,danger:s||c,onClick:l,children:t&&!s?(0,Z.jsx)(g.Z,{height:16,className:"fill-snow",style:{transform:"scale(3)"}}):n(i?"app:actions.saving":"app:actions.save")})},Qe=function(e){var n=e.t,a=e.isIpfsConnected,s=e.isConfigBlocked,t=e.hasExternalChanges,i=e.hasSaveFailed,r=e.hasSaveSucceded,c=e.isLoading,l=e.config;return s?(0,Z.jsx)("p",{className:"ma0 lh-copy charcoal f5 mw7",children:n("configApiNotAvailable")}):a?l?t?(0,Z.jsx)("p",{className:"ma0 lh-copy red f5 mw7",children:(0,Z.jsxs)(d.c,{i18nKey:"settingsHaveChanged",t:n,children:["The settings have changed, please click ",(0,Z.jsx)("strong",{children:"Reset"})," to update the editor contents"]})}):i?(0,Z.jsxs)("p",{className:"ma0 lh-copy red fw6 f5 mw7",children:[n("errorOccured"),(0,Z.jsx)("span",{className:"db fw4 f6 charcoal-muted",children:n("checkConsole")})]}):r?(0,Z.jsxs)("p",{className:"ma0 lh-copy green fw6 f5 mw7",children:[n("changesSaved"),(0,Z.jsx)("span",{className:"db fw4 f6 charcoal-muted",children:n("settingsWillBeUsedNextTime")})]}):(0,Z.jsxs)("p",{className:"ma0 mr2 lh-copy charcoal f5",children:[n("ipfsConfigDescription")," ",(0,Z.jsx)("a",{href:"https://github.com/ipfs/kubo/blob/master/docs/config.md",rel:"noopener noreferrer",target:"_blank",className:"link blue",children:n("ipfsConfigHelp")})]}):(0,Z.jsx)("p",{className:"ma0 lh-copy charcoal f5 mw7",children:n(c?"fetchingSettings":"settingsUnavailable")}):(0,Z.jsx)("p",{className:"ma0 lh-copy charcoal f5 mw7",children:n("ipfsDaemonOffline")})},Ye=function(e){(0,i.Z)(a,e);var n=(0,r.Z)(a);function a(){var e;(0,s.Z)(this,a);for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return(e=n.call.apply(n,[this].concat(i))).state={hasErrors:!1,hasLocalChanges:!1,hasExternalChanges:!1,editableConfig:e.props.config,editorKey:Date.now()},e.onChange=function(n){e.setState({hasErrors:!e.isValidJson(n),hasLocalChanges:e.props.config!==n,editableConfig:n})},e.onReset=function(){e.setState({hasErrors:!1,hasLocalChanges:!1,hasExternalChanges:!1,editableConfig:e.props.config,editorKey:Date.now()})},e.onSave=function(){e.props.doSaveConfig(e.state.editableConfig)},e}return(0,t.Z)(a,[{key:"isValidJson",value:function(e){try{return JSON.parse(e),!0}catch(n){return!1}}},{key:"isRecent",value:function(e){return e>Date.now()-3e3}},{key:"componentDidUpdate",value:function(e){var n=this;if(this.props.configSaveLastSuccess!==e.configSaveLastSuccess&&setTimeout((function(){return n.onReset()}),3e3),e.config!==this.props.config){if(!e.config||this.isRecent(this.props.configSaveLastSuccess))return this.setState({editableConfig:this.props.config});if(this.props.config!==this.state.editableConfig)return this.setState({hasExternalChanges:!0})}}},{key:"render",value:function(){var e=this.props,n=e.t,a=e.tReady,s=e.isConfigBlocked,t=e.ipfsConnected,i=e.configIsLoading,r=e.configLastError,c=e.configIsSaving,l=e.arePinningServicesSupported,o=e.configSaveLastSuccess,d=e.configSaveLastError,p=e.isIpfsDesktop,u=e.analyticsEnabled,h=e.doToggleAnalytics,m=e.toursEnabled,f=e.handleJoyrideCallback,g=e.isCliTutorModeEnabled,v=e.doToggleCliTutorMode,x=e.ipfsPendingFirstConnection,j=this.state,b=j.hasErrors,y=j.hasLocalChanges,N=j.hasExternalChanges,w=j.editableConfig,S=j.editorKey,k=this.isRecent(o),C=this.isRecent(d),A=i||!w&&!r;return(0,Z.jsx)($e,{t:n,tReady:a,isIpfsConnected:t,ipfsPendingFirstConnection:x,isConfigBlocked:s,isLoading:A,isSaving:c,arePinningServicesSupported:l,hasSaveFailed:C,hasSaveSucceded:k,hasErrors:b,hasLocalChanges:y,hasExternalChanges:N,config:w,editorKey:S,onChange:this.onChange,onReset:this.onReset,onSave:this.onSave,isIpfsDesktop:p,analyticsEnabled:u,doToggleAnalytics:h,toursEnabled:m,handleJoyrideCallback:f,doToggleCliTutorMode:v,isCliTutorModeEnabled:g,command:We.UL[We.aD.UPDATE_IPFS_CONFIG]()})}}]),a}(c.Component),Xe=(0,p.Z)("settings")(Ye),en=(0,o.$)("selectConfig","selectIpfsConnected","selectIpfsPendingFirstConnection","selectIsConfigBlocked","selectConfigLastError","selectConfigIsLoading","selectConfigIsSaving","selectConfigSaveLastSuccess","selectConfigSaveLastError","selectIsIpfsDesktop","selectToursEnabled","selectAnalyticsEnabled","selectArePinningServicesSupported","doToggleAnalytics","doSaveConfig","selectIsCliTutorModeEnabled","doToggleCliTutorMode",(0,m.Z)(Xe))},29943:function(){ace.define("ace/theme/ipfs_dark",["require","exports","module","ace/lib/dom"],(function(e,n,a){n.isDark=!0,n.cssClass="ace-ipfs-dark",n.cssText="\n  .ace-ipfs-dark .ace_gutter {\n  background: #0b3a53;\n  color: #9ad4db;\n  }\n  .ace-ipfs-dark .ace_print-margin {\n  width: 1px;\n  background: #69c4cd;\n  }\n  .ace-ipfs-dark {\n  background-color: #0b3a53;\n  color: #9ad4db;\n  }\n  .ace-ipfs-dark .ace_entity.ace_other.ace_attribute-name,\n  .ace-ipfs-dark .ace_storage {\n  color: #f7f8fa;\n  }\n  .ace-ipfs-dark .ace_rparen,\n  .ace-ipfs-dark .ace_lparen {\n    color: #9ad4db;\n  }\n  .ace-ipfs-dark .ace_cursor,\n  .ace-ipfs-dark .ace_string.ace_regexp {\n  color: #ea5037\n  }\n  .ace-ipfs-dark .ace_marker-layer .ace_active-line,\n  .ace-ipfs-dark .ace_marker-layer .ace_selection {\n  background: rgba(255, 255, 255, 0.1)\n  }\n  .ace-ipfs-dark.ace_multiselect .ace_selection.ace_start {\n  box-shadow: 0 0 3px 0px #244e66;\n  }\n  .ace-ipfs-dark .ace_marker-layer .ace_step {\n  background: rgb(102, 82, 0)\n  }\n  .ace-ipfs-dark .ace_marker-layer .ace_bracket {\n  margin: -1px 0 0 -1px;\n  border: 1px solid rgba(147, 161, 161, 0.50)\n  }\n  .ace-ipfs-dark .ace_gutter-active-line {\n  background-color: #244e66\n  }\n  .ace-ipfs-dark .ace_marker-layer .ace_selected-word {\n  border: 1px solid #244e66\n  }\n  .ace-ipfs-dark .ace_invisible {\n  color: rgba(147, 161, 161, 0.50)\n  }\n  .ace-ipfs-dark .ace_keyword,\n  .ace-ipfs-dark .ace_meta,\n  .ace-ipfs-dark .ace_support.ace_class,\n  .ace-ipfs-dark .ace_support.ace_type {\n  color: #0aca9f\n  }\n  .ace-ipfs-dark .ace_constant.ace_character,\n  .ace-ipfs-dark .ace_constant.ace_other {\n  color: #f36149\n  }\n  .ace-ipfs-dark .ace_constant.ace_language {\n  color: #f9a13e\n  }\n  .ace-ipfs-dark .ace_constant.ace_numeric {\n  color: #f39021\n  }\n  .ace-ipfs-dark .ace_fold {\n  background-color: #69c4cd;\n  border-color: #93A1A1\n  }\n  .ace-ipfs-dark .ace_entity.ace_name.ace_function,\n  .ace-ipfs-dark .ace_entity.ace_name.ace_tag,\n  .ace-ipfs-dark .ace_support.ace_function,\n  .ace-ipfs-dark .ace_variable,\n  .ace-ipfs-dark .ace_variable.ace_language {\n  color: #edf0f4\n  }\n  .ace-ipfs-dark .ace_string {\n  color: #0aca9f\n  }\n  .ace-ipfs-dark .ace_comment {\n  font-style: italic;\n  color: #657B83\n  }\n  .ace-ipfs-dark .ace_indent-guide {\n  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWNg0Db1ZVCxc/sPAAd4AlUHlLenAAAAAElFTkSuQmCC) right repeat-y\n  }",e("../lib/dom").importCssString(n.cssText,n.cssClass)}))}}]);
//# sourceMappingURL=109.7c23e454.chunk.js.map