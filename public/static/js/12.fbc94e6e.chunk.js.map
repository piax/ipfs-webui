{"version":3,"sources":["../node_modules/@tableflip/react-dropdown/lib/index.js","../node_modules/lodash.isequal/index.js","../../src/editorOptions.ts","../node_modules/ace-builds/src-noconflict/ace.js","../node_modules/webpack/buildin/amd-define.js","../../src/split.tsx","../../src/utils/isHTMLElement.ts","../../src/constants.ts","../../src/logic/attachEventListeners.ts","../../src/utils/isNullOrUndefined.ts","../../src/utils/isObject.ts","../../src/utils/isKey.ts","../../src/utils/compact.ts","../../src/utils/stringToPath.ts","../../src/utils/set.ts","../../src/logic/transformToNestObject.ts","../../src/utils/isUndefined.ts","../../src/utils/get.ts","../../src/logic/focusOnErrorField.ts","../../src/logic/removeAllEventListeners.ts","../../src/logic/getRadioValue.ts","../../src/utils/isRadioInput.ts","../../src/utils/isFileInput.ts","../../src/utils/isCheckBoxInput.ts","../../src/utils/isMultipleSelect.ts","../../src/logic/getCheckboxValue.ts","../../src/logic/getFieldValue.ts","../../src/logic/getMultipleSelectValue.ts","../../src/utils/isDetached.ts","../../src/utils/isEmptyObject.ts","../../src/utils/isBoolean.ts","../../src/utils/unset.ts","../../src/logic/findRemovedFieldAndRemoveListener.ts","../../src/utils/isPrimitive.ts","../../src/utils/deepMerge.ts","../../src/utils/deepEqual.ts","../../src/logic/setFieldArrayDirtyFields.ts","../../src/utils/isString.ts","../../src/logic/getFieldsValues.ts","../../src/logic/isErrorStateChanged.ts","../../src/utils/isRegex.ts","../../src/logic/getValueAndMessage.ts","../../src/utils/isFunction.ts","../../src/utils/isMessage.ts","../../src/logic/getValidateError.ts","../../src/logic/appendErrors.ts","../../src/logic/validateField.ts","../../src/utils/getPath.ts","../../src/logic/assignWatchFields.ts","../../src/logic/skipValidation.ts","../../src/logic/getNodeParentName.ts","../../src/logic/isNameInFieldArray.ts","../../src/utils/isSelectInput.ts","../../src/utils/onDomRemove.ts","../../src/utils/isWeb.ts","../../src/utils/cloneObject.ts","../../src/utils/validationModeChecker.ts","../../src/utils/isRadioOrCheckbox.ts","../../src/useForm.ts","../../src/useFormContext.tsx","../../src/index.ts","../../src/ace.tsx","../../src/diff.tsx","../node_modules/ace-builds/src-noconflict/ext-split.js","../node_modules/lodash.get/index.js","../node_modules/diff-match-patch/index.js","../node_modules/brace/mode/json.js","../node_modules/brace/worker/json.js","../node_modules/webpack/buildin/module.js"],"names":["Dropdown","children","className","React","createElement","Overlay","onClick","zIndex","style","position","top","right","bottom","left","Container","open","display","MenuArrowUp","height","boxShadow","background","align","marginLeft","marginRight","side","Math","round","sqrt","width","textAlign","overflow","transform","borderRadius","MenuArrowDown","MenuPosition","translateX","translateY","Menu","DropdownMenu","arrowHeight","arrowPosition","arrowAlign","arrowMarginLeft","arrowMarginRight","onDismiss","alignRight","baseZIndex","HASH_UNDEFINED","MAX_SAFE_INTEGER","argsTag","arrayTag","boolTag","dateTag","errorTag","funcTag","mapTag","numberTag","objectTag","promiseTag","regexpTag","setTag","stringTag","symbolTag","weakMapTag","arrayBufferTag","dataViewTag","reIsHostCtor","reIsUint","typedArrayTags","freeGlobal","global","Object","freeSelf","self","root","Function","freeExports","exports","nodeType","freeModule","module","moduleExports","freeProcess","process","nodeUtil","binding","e","nodeIsTypedArray","isTypedArray","arraySome","array","predicate","index","length","mapToArray","map","result","Array","size","forEach","value","key","setToArray","set","func","arrayProto","prototype","funcProto","objectProto","coreJsData","funcToString","toString","hasOwnProperty","maskSrcKey","uid","exec","keys","IE_PROTO","nativeObjectToString","reIsNative","RegExp","call","replace","Buffer","undefined","Symbol","Uint8Array","propertyIsEnumerable","splice","symToStringTag","toStringTag","nativeGetSymbols","getOwnPropertySymbols","nativeIsBuffer","isBuffer","nativeKeys","arg","DataView","getNative","Map","Promise","Set","WeakMap","nativeCreate","dataViewCtorString","toSource","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolProto","symbolValueOf","valueOf","Hash","entries","this","clear","entry","ListCache","MapCache","SetCache","values","__data__","add","Stack","data","arrayLikeKeys","inherited","isArr","isArray","isArg","isArguments","isBuff","isType","skipIndexes","n","iteratee","baseTimes","String","isIndex","push","assocIndexOf","eq","baseGetTag","isOwn","tag","unmasked","getRawTag","objectToString","baseIsArguments","isObjectLike","baseIsEqual","other","bitmask","customizer","stack","object","equalFunc","objIsArr","othIsArr","objTag","getTag","othTag","objIsObj","othIsObj","isSameTag","equalArrays","byteLength","byteOffset","buffer","name","message","convert","isPartial","stacked","get","equalByTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","objProps","getAllKeys","objLength","othLength","skipCtor","objValue","othValue","compared","objCtor","constructor","othCtor","equalObjects","baseIsEqualDeep","baseIsNative","isObject","isMasked","isFunction","test","baseKeys","Ctor","proto","isPrototype","arrLength","seen","arrValue","othIndex","has","keysFunc","symbolsFunc","offset","arrayPush","baseGetAllKeys","getSymbols","getMapData","type","isKeyable","getValue","pop","pairs","LARGE_ARRAY_SIZE","resIndex","arrayFilter","symbol","ArrayBuffer","resolve","ctorString","arguments","isLength","baseUnary","window","define","deps","payload","modules","payloads","original","apply","console","error","trace","_require","parentId","callback","lookup","params","i","l","dep","require","packagedModule","normalizeModule","moduleName","indexOf","chunks","split","charAt","slice","join","previous","mod","id","uri","packaged","ns","exportAce","ace","Element","remove","defineProperty","enumerable","writable","configurable","parentNode","removeChild","OS","LINUX","MAC","WINDOWS","getOS","isMac","isLinux","_navigator","navigator","os","platform","toLowerCase","ua","userAgent","appName","isWin","isIE","parseFloat","match","isOldIE","isGecko","isMozilla","isOpera","opera","isWebKit","isChrome","isEdge","isAIR","isAndroid","isChromeOS","isIOS","MSStream","isMobile","useragent","buildDom","arr","parent","refs","txt","document","createTextNode","appendChild","els","ch","el","options","childIndex","val","setAttribute","getDocumentHead","doc","head","getElementsByTagName","documentElement","createElementNS","removeChildren","element","innerHTML","textContent","ownerDocument","createFragment","createDocumentFragment","hasCssClass","addCssClass","removeCssClass","classes","toggleCssClass","setCssClass","node","include","hasCssString","sheets","querySelectorAll","importCssString","cssText","target","container","getRootNode","insertBefore","firstChild","importCssStylsheet","rel","href","scrollbarWidth","inner","minWidth","outer","body","noScrollbar","offsetWidth","withScrollbar","clientWidth","computedStyle","getComputedStyle","setStyle","styles","property","HAS_CSS_ANIMATION","HAS_CSS_TRANSFORMS","HI_DPI","devicePixelRatio","div","animationName","translate","tx","ty","inherits","ctor","superCtor","super_","create","mixin","obj","implement","oop","Keys","ret","MODIFIER_KEYS","16","17","18","224","91","92","93","KEY_MODS","FUNCTION_KEYS","8","9","13","19","27","32","33","34","35","36","37","38","39","40","44","45","46","96","97","98","99","100","101","102","103","104","105","112","113","114","115","116","117","118","119","120","121","122","123","144","145","PRINTABLE_KEYS","48","49","50","51","52","53","54","55","56","57","59","61","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","107","109","110","186","187","188","189","190","191","192","219","220","221","222","111","106","parseInt","enter","escape","esc","del","mods","pow","filter","x","keyCodeToString","keyCode","keyString","fromCharCode","activeListenerOptions","pressedKeys","ts","getListenerOptions","createComment","addEventListener","passive","detectListenerOptionsSupport","EventListener","elem","destroy","removeListener","addListener","destroyer","$toDestroy","removeEventListener","stopEvent","stopPropagation","preventDefault","getButton","ctrlKey","altKey","shiftKey","button","capture","eventHandler","releaseCaptureHandler","onMouseUp","addMouseWheelListener","wheelDeltaX","wheelX","wheelY","wheelDeltaY","wheelDelta","deltaMode","DOM_DELTA_PIXEL","deltaX","deltaY","DOM_DELTA_LINE","DOM_DELTA_PAGE","axis","HORIZONTAL_AXIS","detail","addMultiMouseDownListener","elements","timeouts","callbackName","startX","startY","timer","clicks","eventNames","2","3","4","onMousedown","isNewClick","abs","clientX","clientY","clearTimeout","setTimeout","_clicks","getModifierHash","metaKey","normalizeCommandKeys","hashId","getModifierState","altGr","location","keyLocation","timeStamp","defaultPrevented","resetPressedKeys","getModifierString","addCommandKeyListener","isOldGecko","lastKeyDownKeyCode","lastDefaultPrevented","postMessage","postMessageId","nextTick","win","messageName","listener","$idleBlocked","onIdle","cb","timeout","handler","$idleBlockId","blockIdle","delay","nextFrame","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","oRequestAnimationFrame","bind","Range","startRow","startColumn","endRow","endColumn","start","row","column","end","isEqual","range","contains","compare","compareRange","cmp","comparePoint","p","containsRange","intersects","isEnd","isStart","setStart","setEnd","inside","insideStart","insideEnd","isMultiLine","compareStart","compareEnd","compareInside","clipRows","firstRow","lastRow","fromPoints","extend","isEmpty","clone","collapseRows","max","toScreenRange","session","screenPosStart","documentToScreenPosition","screenPosEnd","moveBy","comparePoints","p1","p2","last","a","stringReverse","string","reverse","stringRepeat","count","trimBeginRegexp","trimEndRegexp","stringTrimLeft","stringTrimRight","copyObject","copy","copyArray","deepCopy","arrayToMap","createMap","props","arrayRemove","escapeRegExp","str","escapeHTML","getMatchOffsets","regExp","matches","deferredCall","fcn","deferred","cancel","schedule","isPending","delayedCall","defaultTimeout","_self","$cancelT","lineMode","pasteCancelled","Date","now","event","dom","lang","clipboard","BROKEN_SETDATA","USE_IE_MIME_TYPE","HAS_FOCUS_ARGS","MAX_LINE_LENGTH","KEYS","MODS","valueResetRegex","TextInput","host","text","opacity","copied","pasted","inComposition","sendingText","tempStyle","fontSize","commandMode","ignoreFocusEvents","lastValue","lastSelectionStart","lastSelectionEnd","lastRestoreEnd","isFocused","activeElement","onBlur","hasFocus","onFocus","resetSelection","$focusScroll","focus","preventScroll","isTransformed","getBoundingClientRect","ancestors","t","parentElement","removeAttribute","blur","on","curOp","commandName","command","isUserAction","docChanged","selectionChanged","onCompositionEnd","newValue","selectionEnd","selection","setSelectionRange","afterContextMenu","selectionStart","line","getRange","cursor","getLine","prevLine","nextLine","inputHandler","setInputHandler","getInputHandler","sendText","fromInput","onPaste","extendLeft","extendRight","inserted","restoreStart","restoreEnd","endIndex","shouldReset","onTextInput","onInput","onCompositionUpdate","inputType","execCommand","handleClipboardData","forceIEMime","clipboardData","mime","setData","getData","doCopy","isCut","getCopyText","onCut","onCopy","select","onCommandKey","isAllSelected","selectAll","$readOnly","cancelComposition","useTextareaForIME","markerRange","context","compositionStartOffset","off","closeTimeout","syncComposition","onContextMenuClose","renderer","$isMousePressed","$keepTextAreaAtCursor","$moveTextAreaToCursor","onCompositionStart","_signal","getSelectionRange","msGetInputContext","getInputContext","getElement","setCommandMode","readOnly","setReadOnly","setCopyWithEmptySelection","onContextMenu","_emit","domEvent","moveToMouse","bringToFront","characterWidth","rect","borderTopWidth","borderLeftWidth","maxTop","clientHeight","move","min","textInput","scroller","typingResetTimeout","typing","detectArrowKeys","$mouseHandler","isMousePressed","modifier","up","home","option","down","shift","commands","findKeyCommand","addIosSelectionHandler","$setUserAgentForTests","_isMobile","_isIOS","DefaultHandlers","mouseHandler","$clickSelection","editor","setDefaultHandler","onMouseDown","onDoubleClick","onTripleClick","onQuadClick","onMouseWheel","selectByLines","extendSelectionBy","selectByWords","calcRangeOrientation","anchor","ev","inSelection","pos","getDocumentPosition","mousedownEvent","moveToPosition","time","$focusTimeout","inMultiSelectMode","captureMouse","startSelect","setState","waitForClickSelection","screenToTextCoordinates","y","getShiftKey","selectToPosition","setCapture","orientedRange","setSelectionAnchor","scrollCursorIntoView","unitName","cmpStart","cmpEnd","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","unsetStyle","releaseCapture","focusWait","ax","ay","bx","by","distance","getBracketRange","getWordRange","getLineRange","getAccelKey","$lastScroll","vx","vy","allowed","prevScroll","dt","direction","canScroll","isScrollableBy","speed","scrollBy","stop","Tooltip","isOpen","$element","$parentNode","$init","setText","setHtml","html","setPosition","setClassName","show","hide","getHeight","offsetHeight","getWidth","GutterTooltip","windowWidth","innerWidth","windowHeight","innerHeight","GutterHandler","tooltipTimeout","mouseEvent","tooltipAnnotation","gutter","$gutterLayer","tooltip","hideTooltip","moveTooltip","getRegion","selectTo","srcElement","$tooltipFollowsMouse","annotation","$annotations","getLength","screenRow","pixelToScreenCoordinates","$pos","documentToScreenRow","showTooltip","$gutter","MouseEvent","$inSelection","propagationStopped","selectionRange","DragdropHandler","blankImage","src","dragSelectionMarker","timerId","dragCursor","dragOperation","isInternal","autoScrollStartTime","cursorMovedTime","cursorPointOnCaretMoved","mouseTarget","counter","onDragInterval","prevCursor","vMovement","hMovement","moveCursorToPosition","calcDistance","lineHeight","layerConfig","editorRect","offsets","nearestXOffset","nearestYOffset","scrollCursor","vScroll","hScroll","autoScroll","addDragMarker","toOrientedRange","addMarker","getSelectionStyle","clearSelection","$cursorLayer","setBlinking","clearInterval","setInterval","onMouseMove","clearDragMarker","removeMarker","fromOrientedRange","$resetCursorStyle","onDragStart","cancelDrag","draggable","dataTransfer","effectAllowed","getReadOnly","scrollTop","setDragImage","clearData","getTextRange","onDragEnd","dropEffect","setCursorStyle","onDragEnter","canAccept","getDropEffect","onDragOver","onMouseMoveTimer","onDragLeave","onDrop","moveText","dropData","insert","types","some","copyAllowed","copyModifierState","dragWait","getDragDelay","startDrag","dragWaitEnd","dragReadyEnd","cursorStyle","onMouseDrag","state","dragDrop","$dragEnabled","eventTarget","unselectable","addTouchListeners","touchStartT","lastT","longTouchTimer","animationTimer","pressed","contextMenu","mode","animationSteps","clickCount","vX","vY","createContextMenu","handleClick","action","getAttribute","selected","hasUndo","getUndoManager","replaceChild","class","updateMenu","readText","then","writeText","ontouchstart","ontouchend","onclick","showContextMenu","pagePos","textToScreenCoordinates","leftOffset","pageX","scrollLeft","pageY","hideContextMenu","handleLongTap","selectWord","touches","h","w","touchObj","setRange","switchToSelectionMode","cursorPos","getPixelPosition","anchorPos","offsetTop","offsetLeft","weightedDistance","diff1","diff2","oldScrollTop","getScrollTop","url","xhr","XMLHttpRequest","onreadystatechange","readyState","responseText","send","loadScript","path","s","onload","_","isAbort","qualifyURL","EventEmitter","_dispatchEvent","eventName","_eventRegistry","_defaultHandlers","listeners","defaultHandler","once","newCallback","handlers","_disabled_","old","disabled","removeDefaultHandler","capturing","removeAllListeners","optionsProvider","setOptions","optList","setOption","getOptions","optionNames","$options","hidden","getOption","opt","warn","forwardTo","handlesSet","reportError","msg","Error","AppConfig","$defaultOptions","defineOptions","initialValue","resetOptions","setDefaultValue","opts","setDefaultValues","optionHash","net","workerPath","modePath","themePath","basePath","suffix","$moduleUrls","loadWorkerFromBlob","sharedPopups","all","$modes","moduleUrl","component","parts","sep","base","re","setModuleUrl","subst","$loading","loadModule","onLoad","moduleType","afterLoad","reportErrorIfPathIsNotConfigured","init","scriptOptions","scriptUrl","currentScript","_currentScript","scripts","script","attributes","j","attr","m","m1","toUpperCase","version","DefaultGutterHandler","config","MouseHandler","focusEditor","getMouseEventTarget","onMouseEvent","scrollBarV","scrollBarH","Boolean","gutterEl","$dragDelay","character","mousemove","$scrollSpeed","mouseMoveHandler","which","releaseMouse","$mouseMoved","onCaptureEnd","onOperationEnd","onCaptureInterval","$onCaptureMouseMove","endOperation","startOperation","cancelContextMenu","scrollSpeed","dragDelay","dragEnabled","focusTimeout","tooltipFollowsMouse","FoldHandler","fold","getFoldAt","removeFold","expandFold","getUseWrapMode","foldWidgets","onFoldWidgetClick","getParentFoldRangeData","firstRange","addFold","keyUtil","KeyBinding","$editor","$data","$handlers","kb","removeKeyboardHandler","$defaultHandler","addKeyboardHandler","setKeyboardHandler","handleKeyboard","attach","detach","getKeyboardHandler","getStatusText","$callKeyboardHandlers","toExecute","success","args","passEvent","dir","hiLevel","lastArabic","hasUBAT_B","hasUBAT_S","impTab_LTR","impTab_RTL","ET","BN","UnicodeTBL00","UnicodeTBL20","_invertLevel","lev","levels","_array","lo","hi","tmp","len","_getCharClass","chars","ix","wType","nType","cType","c","rtlCandidate","_getCharacterType","uc","charCodeAt","L","R","EN","ON_R","AN","R_H","B","RLE","DOT","doBidiReorder","textCharTypes","isRtl","logicalFromVisual","bidiLevels","charTypes","impTab","prevState","newClass","newLevel","newState","condPos","_computeLevels","hasBidiCharacters","getVisualFromLogicalIdx","logIdx","rowMap","bidiUtil","bidiRE","BidiHandler","bidiMap","currentRow","charWidths","EOL","showInvisibles","isRtlDir","$isRtl","wrapIndent","EOF","contentWidth","fontMetrics","rtlLineOffset","wrapOffset","isMoveLeftOperation","seenBidi","isBidiRow","docRow","splitIndex","updateRowLine","updateBidiMap","onChange","delta","lines","getDocumentRow","rowCache","$screenRowCache","$getRowCacheIndex","$docRowCache","getSplitIndex","currentIndex","prevIndex","endOfLine","$useWrapMode","splits","$wrapData","indent","substring","isFullWidth","getScreenTabSize","$main","substr","markAsDirty","updateCharacterWidths","$characterSize","bidiCharWidth","$measureCharWidth","setShowInvisibles","setEolChar","eolChar","setContentWidth","isRtlLine","setRtlDirection","getCursorPosition","getSelectionAnchor","$bidiHandler","removeInLine","getPosLeft","col","leftBoundary","logicalIdx","getOverwrite","visualIdx","getSelections","startCol","endCol","level","selections","selColMin","selColMax","isSelected","isSelectedPrev","visIdx","offsetToCol","posX","charWidth","Selection","getDocument","lead","createAnchor","$silent","$cursorChanged","$isEmpty","$keepDesiredColumnOnChange","$desiredColumn","$anchorChanged","getCursor","getPosition","getAnchor","getSelectionLead","isBackwards","$setSelection","Number","MAX_VALUE","anchorRow","anchorColumn","cursorRow","cursorColumn","wasEmpty","wasMultiselect","$moveSelection","mover","moveCursorTo","moveTo","selectUp","moveCursorUp","selectDown","moveCursorDown","selectRight","moveCursorRight","selectLeft","moveCursorLeft","selectLineStart","moveCursorLineStart","selectLineEnd","moveCursorLineEnd","selectFileEnd","moveCursorFileEnd","selectFileStart","moveCursorFileStart","selectWordRight","moveCursorWordRight","selectWordLeft","moveCursorWordLeft","selectAWord","getAWordRange","excludeLastChar","rowEnd","rowStart","foldLine","getFoldLine","selectLine","moveCursorBy","wouldMoveIntoSoftTab","tabSize","isTabStop","getTabSize","getNavigateWithinSoftTabs","firstColumnPosition","screenToDocumentPosition","leadingSpace","getDisplayLine","$useEmacsStyleLineStart","lineEnd","getDocumentLastRowColumnPosition","textEnd","search","moveCursorLongWordRight","rightOfCursor","nonTokenRe","lastIndex","tokenRe","moveCursorLongWordLeft","getFoldStringAt","leftOfCursor","$shortWordEndIndex","whitespaceRe","moveCursorShortWordRight","moveCursorShortWordLeft","$selectLongWords","rows","offsetX","screenPos","lineWidgets","widget","rowsAbove","rowCount","docPos","keepDesiredColumn","moveCursorToScreen","desiredColumn","r","getRangeOfMovements","toJSON","rangeCount","ranges","r1","fromJSON","rangeList","toSingleRange","addRange","MAX_TOKEN_COUNT","Tokenizer","rules","states","regExps","matchMappings","ruleRegExps","matchTotal","mapping","defaultToken","flag","splitterRurles","rule","caseInsensitive","regex","adjustedregex","matchcount","token","groupCount","tokenArray","onMatch","$arrayTokens","$applyToken","digit","removeCapturingGroups","splitRegex","createSplitterRegexp","$setMaxTokenCount","tokens","inChClass","lastCapture","parenOpen","parenClose","square","getLineTokens","startState","currentState","matchAttempts","skipped","next","consumeLineEnd","merge","unshift","TextHighlightRules","$rules","addRules","prefix","nextState","getRules","embedRules","HighlightRules","escapeRules","append","$embeds","getEmbeds","pushState","popState","normalizeRules","processState","processed","toInsert","stateName","includeName","concat","noEscape","keywordMap","createKeywordMapper","ignoreCase","splitChar","keywords","$keywordList","list","word","getKeywords","$keywords","Behaviour","$behaviours","addBehaviours","behaviours","inherit","getBehaviours","TokenIterator","initialRow","initialColumn","$session","$row","$rowTokens","getTokens","getTokenAt","$tokenIndex","stepBackward","stepForward","getCurrentToken","getCurrentTokenRow","getCurrentTokenColumn","rowTokens","tokenIndex","getCurrentTokenPosition","getCurrentTokenRange","SAFE_INSERT_IN_TOKENS","SAFE_INSERT_BEFORE_TOKENS","contextCache","defaultQuotes","initContext","multiSelect","autoInsertedBrackets","autoInsertedRow","autoInsertedLineEnd","maybeInsertedBrackets","maybeInsertedRow","maybeInsertedLineStart","maybeInsertedLineEnd","getWrapped","opening","closing","rowDiff","CstyleBehaviour","getWrapBehavioursEnabled","isSaneInsertion","braces","recordAutoInsert","recordMaybeInsert","$findOpeningBracket","isAutoInsertedClosing","popAutoInsertedClosing","isMaybeInsertedClosing","clearMaybeInsertedClosing","openBracePos","findMatchingBracket","next_indent","$getIndent","getTabString","quotes","$mode","$quotes","lineCommentStart","quote","leftChar","rightChar","rightToken","pair","stringBefore","stringAfter","wordRe","isWordBefore","isWordAfter","charBefore","iterator","$matchTokenType","iterator2","bracket","wordChars","code","unicode","Mode","$defaultBehaviour","getTokenizer","$tokenizer","$highlightRules","$highlightRuleConfig","blockComment","toggleCommentLines","ignoreBlankLines","shouldRemove","minIndent","Infinity","insertAtTabStop","regexpStart","getUseSoftTabs","uncomment","shouldInsertSpace","commentWithSpace","comment","insertInLine","testRemove","before","after","spaces","lineCommentEnd","regexpEnd","iter","fun","minEmptyLength","floor","toggleBlockComment","colDiff","initialRange","startRange","endRange","getNextLineIndent","tab","checkOutdent","input","autoOutdent","createWorker","createModeDelegates","$id","delegations","scope","functionName","$delegator","method","language","transformAction","param","$behaviour","completionKeywords","ruleItr","aLength","$createKeywordList","getCompletions","score","meta","applyDelta","docLines","doNotValidate","Anchor","$onChange","$pointsInOrder","point1","point2","equalPointsInOrder","bColIsAfter","$clipPositionToDocument","$insertRight","point","moveIfEqual","deltaIsInsert","deltaRowShift","deltaColShift","deltaStart","deltaEnd","$getTransformedPoint","noClip","Document","textOrLines","$lines","insertMergedLines","setValue","getAllLines","getNewLineCharacter","$split","$detectNewLine","$autoNewLine","$newLineMode","setNewLineMode","newLineMode","getNewLineMode","isNewLine","getLines","getLinesForRange","insertLines","insertFullLines","removeLines","removeFullLines","insertNewLine","clippedPos","clonePos","$clipPosition","deleteFirstNewLine","deleteLastNewLine","deletedLines","removeNewLine","applyDeltas","deltas","revertDeltas","revertDelta","isInsert","$splitAndapplyLargeDelta","$safeApplyDelta","docLength","MAX","from","to","chunk","indexToPosition","newlineLength","positionToIndex","BackgroundTokenizer","tokenizer","running","currentLine","$worker","workerStart","endLine","startLine","processedLines","$tokenizeRow","fireUpdateEvent","setTokenizer","setDocument","first","scheduleStart","$updateOnChange","getState","SearchHighlight","clazz","setRegexp","MAX_RANGES","cache","update","markerLayer","drawSingleLineMarker","FoldLine","foldData","folds","setFoldLine","shiftRow","sameRow","sort","b","containsRow","walk","lastEnd","isNewRow","placeholder","getNextFoldTo","kind","addRemoveChars","log","foldBefore","newFoldLine","foldLineNext","idxToPosition","idx","lastFoldEndColumn","RangeList","$bias","pointIndex","excludeEdges","startIndex","addList","removed","substractPoint","containsPoint","rangeAtPoint","clipped","removeAll","lineDif","Fold","subFolds","consumePoint","restorePoint","subFold","collapseChildren","addSubFold","afterStart","firstConsumed","consumedFolds","k","restoreRange","Folding","getFoldsInRange","foldLines","$foldData","foundFolds","getFoldsInRangeList","getAllFolds","trim","lastFold","startFoldLine","getNextFoldLine","getFoldedRowCount","$addFoldLine","added","$clipRangeToDocument","startFold","endFold","removeFolds","$updateWrapData","$updateRowLengthCache","$modified","addFolds","$updating","cloneFolds","foldAll","expandFolds","unfold","expandInner","isRowFolded","startFoldRow","getRowFoldEnd","getRowFoldStart","getFoldDisplayLine","textLine","lastColumn","$cloneFoldData","fd","toggleFold","tryToUnfold","bracketPos","getCommentFoldRange","depth","getFoldWidget","getFoldWidgetRange","foldToLevel","foldAllComments","$foldStyles","$foldStyle","setFoldStyle","$foldMode","$setFolding","foldMode","$updateFoldWidgets","$tokenizerUpdateFoldWidgets","updateFoldWidgets","tokenizerUpdateFoldWidgets","ignoreCurrent","fw","siblings","$toggleFoldWidget","toggleFoldWidget","toggleParent","BracketMatch","chr","charBeforeCursor","$findClosingBracket","getMatchingBracketRanges","$brackets","typeRe","openBracket","valueIndex","closingBracket","valueLength","TextMode","EditSession","$breakpoints","$decorations","$frontMarkers","$backMarkers","$markerId","$undoSelect","$uid","onChangeFold","setMode","bgTokenizer","resetCaches","$resetRowCache","cacheArray","low","mid","$rowLengthCache","removedFolds","$updateInternalDataOnChange","$fromUndo","$undoManager","mergeUndoDeltas","$informUndoManager","setUndoManager","reset","getSelection","undoManager","addSession","$syncInformUndoManager","markUndoGroup","$defaultUndoManager","undo","redo","hasRedo","addSelection","startNewGroup","setUseSoftTabs","$useSoftTabs","$indentWithTabs","setTabSize","$tabSize","setNavigateWithinSoftTabs","navigateWithinSoftTabs","$navigateWithinSoftTabs","$overwrite","setOverwrite","overwrite","toggleOverwrite","addGutterDecoration","removeGutterDecoration","getBreakpoints","setBreakpoints","clearBreakpoints","setBreakpoint","clearBreakpoint","inFront","marker","addDynamicMarker","markerId","getMarkers","highlight","$searchHighlight","highlightLines","setAnnotations","annotations","getAnnotations","clearAnnotations","inToken","wordRange","setUseWorker","useWorker","getUseWorker","$useWorker","onReloadTokenizer","$modeId","$onChangeMode","$isPlaceholder","oldMode","$stopWorker","$startWorker","attachToSession","wrapMethod","$wrapMethod","foldingRules","terminate","getMode","$scrollTop","setScrollTop","isNaN","$scrollLeft","setScrollLeft","getScrollLeft","getScreenWidth","$computeWidth","getLineWidgetMaxWidth","screenWidth","lineWidgetsWidth","lineWidgetWidth","force","$wrapLimit","longestScreenLine","foldIndex","foldStart","$getStringScreenWidth","undoChanges","dontSelect","selectionBefore","$getUndoSelection","redoChanges","selectionAfter","setUndoSelect","enable","isUndo","fromRange","toPosition","toRange","collDiff","oldStart","newStart","indentRows","indentString","outdentRows","rowRange","deleteRange","$moveLines","diff","$clipRowToDocument","moveLinesUp","moveLinesDown","duplicateLines","$clipColumnToRow","$wrapLimitRange","setUseWrapMode","useWrapMode","setWrapLimitRange","adjustWrapLimit","desiredLimit","$printMargin","limits","wrapLimit","$constrainWrapLimit","getWrapLimit","setWrapLimit","limit","getWrapLimitRange","foldLineBefore","wrapData","walkTokens","$getDisplayTokens","PLACEHOLDER_START","PLACEHOLDER_BODY","$computeWrapSplits","displayLength","lastSplit","lastDocSplit","isCode","$wrapAsCode","indentedSoftWrap","$indentedSoftWrap","maxIndent","addSplit","indentation","getWrapIndent","minSplit","maxScreenColumn","screenColumn","getRowLength","getRowLineCount","getRowWrapIndent","getScreenLastRowColumn","documentToScreenColumn","getDocumentLastRowColumn","docColumn","getRowSplitData","screenToDocumentRow","screenToDocumentColumn","rowLength","doCache","maxRow","foldStartRow","wrapRow","screenRowOffset","getScreenLength","screenRows","$getWidgetScreenLength","$setFontMetrics","fm","$enableVarChar","getCharacterWidth","wrap","$wrap","firstLineNumber","useSoftTabs","foldStyle","Search","find","$matchIterator","sr","sc","er","ec","skipCurrent","findAll","needle","$assembleRegExp","$isMultiLine","prevRange","replacement","preserveCase","$disableFakeMultiline","wholeWord","wordBoundary","addWordBoundary","caseSensitive","$assembleMultilineRegExp","backwards","forEachInLine","HashHandler","commandKeyBinding","addCommands","$singleCommand","MultiHashHandler","bindKey","isDefault","addCommand","removeCommand","_buildKeyHash","keepCommand","ckb","keyId","cmdGroup","keyPart","chain","parseKeys","_addCommandToBinding","removeCommands","bindKeys","keyList","$keyChain","CommandManager","byName","$checkCommandState","isAvailable","returnValue","toggleRecording","$inReplay","recording","macro","$addCommandToMacro","oldMacro","replay","trimMacro","mac","showSettingsMenu","showErrorMarker","scrollIntoView","description","centerSelection","gotoLine","prompt","$type","multiSelectAction","getAllRanges","findNext","findPrevious","aceCommandGroup","navigateFileStart","navigateUp","times","navigateFileEnd","navigateDown","navigateWordLeft","navigateLineStart","navigateLeft","navigateWordRight","navigateLineEnd","navigateRight","selectPageDown","scrollPageDown","gotoPageDown","selectPageUp","scrollPageUp","gotoPageUp","jumpToMatching","$copyWithEmptySelection","$handlePaste","duplicateSelection","sortLines","modifyNumber","copyLinesUp","copyLinesDown","removeToLineStart","removeToLineEnd","removeWordLeft","removeWordRight","blockOutdent","blockIndent","splitLine","transposeLetters","transposeSelections","autoIndent","firstLineEndCol","selectedCount","insertLine","curLine","newRanges","exitMultiSelectMode","defaultCommands","Editor","getContainerElement","getTextAreaContainer","textarea","keyBinding","$search","$historyTracker","$initOperationListeners","_$emitInputEvent","setSession","$opResetTimer","$lastSel","prevOp","commandEvent","previousCommand","scrollSelectionIntoView","animateScrolling","sel","$mergeableCommands","$mergeUndoDeltas","prev","mergeableCommands","shouldMerge","mergeNextCommand","sequenceStartTime","keyboardHandler","$keybindingId","oldSession","$onDocumentChange","$onTokenizerUpdate","$onChangeTabSize","$onChangeWrapLimit","$onChangeWrapMode","$onChangeFold","$onChangeFrontMarker","$onChangeBackMarker","$onChangeBreakpoint","$onChangeAnnotation","$onCursorChange","$onScrollTopChange","$onScrollLeftChange","$onSelectionChange","onDocumentChange","onChangeMode","onTokenizerUpdate","onChangeTabSize","onChangeWrapLimit","onChangeWrapMode","onChangeFrontMarker","onChangeBackMarker","onChangeBreakpoint","onChangeAnnotation","onCursorChange","onScrollTopChange","onScrollLeftChange","onSelectionChange","updateFull","oldEditor","getSession","resize","onResize","setTheme","theme","getTheme","getFontSize","setFontSize","$highlightBrackets","$highlightPending","$bracketHighlight","markerIds","getMatching","markerType","$highlightTags","$highlightTagPending","$tagHighlight","currentTag","prevToken","stepCount","tmpToken","sbm","$isFocused","showCursor","visualizeFocus","hideCursor","visualizeBlur","$cursorChange","updateCursor","$updateHighlightActiveLine","updateLines","scrollToY","scrollToX","$highlightActiveLine","$selectionStyle","$selectionColorConflict","$maxLines","$minLines","$highlightLineMarker","$selectionMarker","$highlightSelectedWord","$getSelectionHighLightRegexp","wordWithBoundary","updateFrontMarkers","updateBackMarkers","updateBreakpoints","updateText","getSelectedText","nl","copyLine","inVirtualSelectionMode","isFullLine","getBehavioursEnabled","d","lineState","shouldOutdent","$enableAutoIndent","lineIndent","selectedRange","currIndent","prevLineState","composition","applyComposition","forEachSelection","setScrollSpeed","getScrollSpeed","setDragDelay","setSelectionStyle","setHighlightActiveLine","shouldHighlight","getHighlightActiveLine","setHighlightGutterLine","getHighlightGutterLine","setHighlightSelectedWord","getHighlightSelectedWord","setAnimatedScroll","shouldAnimate","getAnimatedScroll","getShowInvisibles","setDisplayIndentGuides","getDisplayIndentGuides","setShowPrintMargin","showPrintMargin","getShowPrintMargin","setPrintMarginColumn","getPrintMarginColumn","setBehavioursEnabled","enabled","setWrapBehavioursEnabled","setShowFoldWidgets","getShowFoldWidgets","setFadeFoldWidgets","fade","getFadeFoldWidgets","new_range","swap","originalRange","$getSelectedRows","getNumberAt","_numberRx","amount","charRange","isFinite","nr","fp","decimals","nnr","toFixed","replaceRange","toggleWord","$toggleWordPairs","currWordStart","wordParts","curLength","itLength","that","item","reg","wordPairs","negate","firstCondition","res","endPoint","moved","totalDiff","rangeIndex","subRows","compositionState","showComposition","setCompositionText","hideComposition","getFirstVisibleRow","getLastVisibleRow","isRowVisible","isRowFullyVisible","getFirstFullyVisibleRow","getLastFullyVisibleRow","$getVisibleRowCount","getScrollBottomRow","getScrollTopRow","$moveByPage","scrollToRow","scrollToLine","center","animate","alignCursor","getCursorPositionScreen","expand","matchType","bracketType","found","brackets","lineNumber","navigateTo","replaced","$tryReplace","replaceAll","getLastSearchOptions","newRange","revealRange","setAutoScrollEditorIntoView","shouldScroll","$scrollAnchor","scrollAnchor","onChangeSelection","onBeforeRender","onAfterRender","searchBox","$pixelPos","$cursorStyle","cursorLayer","setSmoothBlinking","isBlinking","selectionStyle","highlightActiveLine","highlightSelectedWord","copyWithEmptySelection","behavioursEnabled","wrapBehavioursEnabled","enableAutoIndent","autoScrollEditorIntoView","showLineNumbers","setShowLineNumbers","$loop","CHANGE_GUTTER","$relativeLineNumbers","relativeNumberRenderer","relativeLineNumbers","$showLineNumbers","$updatePlaceholder","$composition","placeholderNode","$placeholder","content","hScrollBarAlwaysVisible","vScrollBarAlwaysVisible","highlightGutterLine","animatedScroll","printMarginColumn","printMargin","fadeFoldWidgets","showFoldWidgets","displayIndentGuides","showGutter","fontFamily","maxLines","minLines","scrollPastEnd","fixedWidthGutter","hasCssTransforms","maxPixelHeight","getText","lastLineNumber","$renderer","UndoManager","$maxRev","allowMerge","$lastDelta","$keepRedoStack","$redoStack","lastDeltas","$undoStack","$rev","rev","markIgnored","ignore","getRevision","getDeltas","getChangedRanges","getChangedLines","deltaSet","swapped","swapGroups","rearrangeUndoStack","$redoStackBaseRev","undoSelectionRange","$syncRev","redoStack","deltaSets","moveDeltasByOne","rebaseRedoStack","redoSelectionRange","nextDelta","mark","canUndo","canRedo","bookmark","isAtBookmark","isClean","markClean","$prettyPrint","stringifyDelta","stringifyRange","d1","d2","i1","i2","ds1","ds2","xform","c1","splitDelta","shiftPos","rowsBefore","otherLines","cloneDelta","xformed","Lines","canvasHeight","cells","cellCache","$offsetCoefficient","moveContainer","firstRowScreen","pageChanged","oldConfig","newConfig","computeLineTop","screenTop","screenPage","computeLineHeight","$cacheCell","cell","fragment","insertAdjacentElement","createCell","initElement","Gutter","parentEl","$showFoldWidgets","gutterWidth","$updateAnnotations","onCreateCell","textNode","foldWidget","rowInfo","annoText","gutterOffset","oldLastRow","$updateCursorRow","$renderCell","$updateGutterWidth","gutterRenderer","$firstLineNumber","lastLineText","$fixedWidth","padding","$padding","$computePadding","ceil","$highlightGutterLine","$cursorRow","updateLineHighlight","$cursorCell","scrollLines","$renderLines","childNodes","breakpoints","decorations","foldHeight","getShowLineNumbers","paddingLeft","borderRightWidth","paddingRight","Marker","setPadding","setMarkers","markers","elt","css","$getTop","drawFullLineMarker","drawScreenLineMarker","drawTextMarker","drawMultiLineMarker","childElementCount","lastChild","stringBuilder","extraStyle","curr","lineRange","range1","drawBidiSingleLineMarker","radiusClass","extraLength","Text","$updateEolChar","EOF_CHAR","EOL_CHAR_LF","EOL_CHAR_CRLF","EOL_CHAR","TAB_CHAR","SPACE_CHAR","margin","getLineHeight","$fontMetrics","measure","$pollSizeChanges","checkForSizeChanges","$pollSizeChangesTimer","$computeTabString","showSpaces","showTabs","showEOL","$tabStrings","tabStr","span","$indentGuideRe","spaceClass","spaceContent","tabClass","tabContent","lineElements","lineElementsIdx","heightChanged","lineElement","$renderLine","$renderLinesFragment","lineEl","$useLineGroups","$textToken","$renderToken","valueFragment","simpleSpace","controlCharacter","cjkSpace","cjk","cloneNode","com","renderIndentGuide","cols","$createLineElement","$renderWrappedLine","splitChars","$renderOverflowMessage","$renderSimpleLine","overflowEl","$getFoldLineTokens","lastLineEl","invisibleEl","renderTokens","addTokens","Cursor","isVisible","blinkInterval","smoothBlinking","cursors","addCursor","$updateCursors","$updateOpacity","$startCssAnimation","animationDuration","$stopCssAnimation","blinking","restartTimer","setBlinkInterval","removeCursor","intervalId","timeoutId","blink","onScreen","isCursorInView","pixelPos","maxHeight","$selectionMarkers","cursorIndex","drawCursor","$setOverwrite","MAX_SCROLL_H","ScrollBar","classSuffix","setVisible","skipEvent","onScroll","coeff","VScrollBar","scrollHeight","$scrollbarWidth","$minWidth","setHeight","setInnerHeight","setScrollHeight","HScrollBar","setWidth","setInnerWidth","setScrollWidth","ScrollBarV","ScrollBarH","RenderLoop","onRender","pending","changes","$recursionLimit","_flush","change","CHAR_COUNT","USE_OBSERVER","ResizeObserver","FontMetrics","$setMeasureNodeStyles","$measureNode","$addObserver","isRoot","visibility","whiteSpace","font","$measureSizes","fontWeight","boldSize","charSizes","allowBoldFonts","$observer","observe","setPolling","disconnect","$getZoom","getZoom","zoom","$initTransformMeasureNodes","transformCoordinates","clientPos","elPos","mul","solve","l1","l2","det","sub","m2","ut","u","f","GutterLayer","MarkerLayer","TextLayer","CursorLayer","editorCss","HIDE_TEXTAREA","VirtualRenderer","onGutterResize","$markerBack","textLayer","$textLayer","canvas","$markerFront","$horizScroll","$vScroll","scrollBar","$scrollAnimation","scrollMargin","updateCharacterSize","$size","scrollerHeight","scrollerWidth","$dirty","minHeight","v","$renderChanges","defaultView","CHANGE_FULL","CHANGE_CURSOR","CHANGE_MARKER","CHANGE_SCROLL","CHANGE_LINES","CHANGE_TEXT","CHANGE_SIZE","CHANGE_MARKER_BACK","CHANGE_MARKER_FRONT","CHANGE_H_SCROLL","$allowBoldFonts","$updatePrintMargin","onChangeNewLineMode","$changedLines","updateFontSize","$changes","$updateSizeAsync","resizing","scrollWidth","$updateCachedSize","$extraHeight","oldSize","$showGutter","$computeLayerConfig","availableWidth","$showPrintMargin","$printMarginColumn","$animatedScroll","getShowGutter","setShowGutter","$printMarginEl","containerEl","posTop","posLeft","setScrollMargin","sm","setMargin","getHScrollBarAlwaysVisible","$hScrollBarAlwaysVisible","setHScrollBarAlwaysVisible","alwaysVisible","getVScrollBarAlwaysVisible","$vScrollBarAlwaysVisible","setVScrollBarAlwaysVisible","$updateScrollBarV","$scrollPastEnd","$updateScrollBarH","$frozen","freeze","unfreeze","st","$updateLines","$autosize","desiredHeight","$maxPixelHeight","$gutterWidth","hideScrollbars","longestLine","$getLongestLine","horizScroll","hScrollChanged","vScrollBefore","vScrollChanged","firstRowHeight","lineCount","charCount","$viewMargin","topMargin","bottomMargin","alignment","STEPS","$calcSteps","fromValue","toValue","x_min","steps","initialScroll","oldSteps","$timer","scrollTo","canvasPos","$hasCssTransforms","$blockCursor","$useTextareaForIME","addToken","removeExtraToken","newToken","$themeId","cssClass","$theme","isDark","setMouseCursor","attachToShadowRoot","workerUrl","Worker","blob","Blob","blobBuilder","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","getBlob","$workerBlob","blobURL","URL","webkitURL","createObjectURL","WorkerClient","worker","$createWorkerFromOldConfig","$sendDeltaQueue","changeListener","onMessage","callbackId","callbacks","onmessage","topLevelNamespaces","classname","importScripts","nameToUrl","toUrl","normalizePath","$normalizePath","tlns","err","deltaQueue","$doc","cmd","emit","ex","attachToDocument","q","UIWorkerClient","main","emitSync","sender","messageBuffer","workerClient","processNext","setEmitSync","Main","PlaceHolder","others","mainClass","othersClass","$onUpdate","onUpdate","$others","undoStack","$undostack","$undoStackDepth","setup","showOtherMarkers","othersActive","hideOtherMarkers","updateAnchors","lengthDiff","inMainRange","distanceFromStart","newPos","otherPos","updateMarkers","updateMarker","undosRequired","isSamePoint","alt","ctrl","accel","selectionMode","isMultiSelect","mouseX","mouseY","screenAnchor","screenCursor","$enableJumpToDef","$blockSelectEnabled","addSelectionMarker","oldRange","removeSelectionMarker","tmpSel","rectSel","blockSelect","newCursor","removeSelectionMarkers","rectangularRangeBlock","updateSelectionMarkers","onSelectionInterval","selectMoreLines","selectMore","joinSelections","splitIntoLines","alignCursors","multiSelectCommands","getSelectionMarkers","$blockChangeEvents","$onAddRange","$onRemoveRange","mergeOverlappingRanges","lastRange","$initRangeList","toggleBlockSelection","includeEmptyLines","xBackwards","startOffsetX","endOffsetX","docEnd","yBackwards","MultiSelect","$multiselectOnSessionChange","$onMultiSelect","$onSingleSelect","onSessionChange","$checkMultiselectChange","altCursor","altDown","addAltCursorListeners","selectionMarkerCount","markerList","$onMultiSelectExec","inVirtualMode","keepOrder","$byLines","cmdResult","anim","buf","additive","skip","screenLead","toRemove","words","stopAtFirst","sameRowRanges","maxCol","minSpace","spaceOffsets","spaceOffset","fr","lr","guessRange","$reAlignText","forceLeft","startW","textW","endW","isLeftAligned","isRightAligned","alignLeft","enableMultiselect","enableBlockSelect","FoldMode","foldingStartMarker","foldingStopMarker","indentationBlock","startLevel","openingBracketBlock","closingBracketBlock","LineWidgets","widgetManager","updateOnChange","renderWidgets","measureWidgets","_changedWidgets","$onChangeEditor","updateOnFold","_inDocument","removeLineWidget","$updateRows","noWidgets","$oldWidget","$registerLineWidget","addLineWidget","coverGutter","pixelHeight","$fold","onWidgetChanged","w1","getWidgetsAtRow","changedWidgets","fixedWidth","coverLine","fullWidth","oldWidget","gutterAnno","comparator","binarySearch","matched","findAnnotations","arrow","onmousedown","Renderer","edit","_id","getElementById","env","tagName","oldNode","createEditSession","HTMLElement","EVENTS","VALIDATION_MODE","SELECT","UNDEFINED","INPUT_VALIDATION_RULES","attachEventListeners","shouldAttachChangeEvent","handleChange","ref","isHTMLElement","isObjectType","isNullOrUndefined","compact","tempPath","isKey","stringToPath","defaultValue","reduce","isUndefined","fields","fieldErrors","field","validateWithStateUpdate","defaultReturn","isValid","checked","defaultResult","validResult","getFieldValue","fieldsRef","shallowFieldsStateRef","excludeDisabled","current","valueAsNumber","valueAsDate","setValueAs","isFileInput","files","isRadioInput","getRadioValue","isMultipleSelect","isCheckBox","getCheckboxValue","isDetached","Node","DOCUMENT_NODE","unset","previousObjRef","updatePath","childObject","baseGet","objectRef","currentPaths","currentPathsLength","isEmptyObject","isBoolean","isSameRef","fieldValue","findRemovedFieldAndRemoveListener","shouldUnregister","forceDelete","fieldRef","isCheckBoxInput","removeAllEventListeners","deepMerge","source","isPrimitive","targetValue","sourceValue","deepEqual","object1","object2","isErrorObject","React.isValidElement","keys1","keys2","val1","val2","setDirtyFields","defaultValues","dirtyFields","parentName","shallowFieldsState","output","isString","startsWith","transformToNestObject","errors","validFields","fieldsWithValidation","previousError","validationData","isRegex","getValidateError","isMessage","validateAllFieldCriteria","required","maxLength","minLength","pattern","validate","isRadio","isRadioOrCheckbox","appendErrorsCurry","appendErrors","getMinMaxMessage","exceedMax","maxLengthMessage","minLengthMessage","maxType","minType","getValueAndMessage","maxOutput","minOutput","valueDate","exceedMin","valueNumber","maxLengthOutput","minLengthOutput","patternValue","getFieldsValue","validateRef","validateError","validationResult","validateFunction","validateResult","getPath","rootPath","paths","rootName","fieldValues","fieldName","watchFields","inputValue","isSingleField","isOnBlur","isOnChange","isOnTouch","isTouched","isReValidateOnBlur","isReValidateOnChange","isBlurEvent","isSubmitted","isOnAll","isMatchFieldArrayName","searchName","names","onDomRemove","removeFieldEventListenerAndRef","observer","MutationObserver","childList","subtree","cloneObject","isWeb","File","getTime","isOnSubmit","isWindowUndefined","isProxyEnabled","Proxy","useForm","reValidateMode","resolver","shouldFocusError","criteriaMode","React.useRef","fieldArrayDefaultValuesRef","fieldArrayValuesRef","watchFieldsRef","useWatchFieldsRef","useWatchRenderFunctionsRef","fieldsWithValidationRef","validFieldsRef","defaultValuesRef","isUnMount","isWatchAllRef","handleChangeRef","resetFieldArrayFunctionRef","contextRef","resolverRef","fieldArrayNamesRef","modeRef","modeChecker","isValidateAllFieldCriteria","React.useState","isDirty","isValidating","submitCount","touched","isSubmitting","isSubmitSuccessful","formState","setFormState","readFormStateRef","formStateRef","observerRef","updateFormState","React.useCallback","updateIsValidating","shouldRenderBaseOnError","shouldRender","shouldReRender","isErrorStateChanged","setFieldValue","rawValue","radioRef","selectRef","includes","checkboxRef","isFormDirty","formValues","getValues","updateAndGetDirtyState","isFieldDirty","isDirtyFieldExist","previousIsDirty","isChanged","executeValidation","skipReRender","validateField","executeSchemaOrResolverValidation","previousFormIsValid","isInputsValid","every","trigger","setInternalValues","shouldDirty","shouldValidate","setInternalValue","getNodeParentName","setFieldArrayDirtyFields","isFieldWatched","renderWatchedInputs","setFieldArrayDefaultValues","getFieldsValues","shouldSkipValidation","skipValidation","parentNodeName","currentError","validateResolver","removeFieldEventListener","updateWatchedValue","clearErrors","inputName","setError","shouldFocus","watchInternal","fieldNames","watchId","fieldArrayValue","assignWatchFields","combinedDefaultValues","watch","unregister","registerFieldRef","fieldRefAndValidationOptions","isRadioOrCheckboxFunction","isFieldArray","isNameInFieldArray","compareRef","currentRef","isEmptyDefaultValue","isEmptyUnmountFields","isSelectInput","register","refOrRegisterOptions","handleSubmit","onValid","onInvalid","persist","fieldError","focusOnErrorField","resetRefs","omitResetState","inputRef","closest","resetFieldArray","React.useEffect","commonProps","prop","control","React.useMemo","FormContext","React.createContext","displayName","Split","BELOW","BESIDE","$container","$splits","$editorCSS","$editors","$orientation","setSplits","$cEditor","$createEditor","$fontSize","getSplits","getEditor","getCurrentEditor","keybinding","$cloneSession","getOrientation","setOrientation","orientation","editorWidth","editorHeight","genTag","reIsDeepProp","reIsPlainProp","reLeadingDot","rePropName","reEscapeChar","symbolToString","isSymbol","toKey","isHostObject","memoize","baseToString","number","TypeError","memoized","Cache","diff_match_patch","Diff_Timeout","Diff_EditCost","Match_Threshold","Match_Distance","Patch_DeleteThreshold","Patch_Margin","Match_MaxBits","DIFF_DELETE","Diff","op","diff_main","text1","text2","opt_checklines","opt_deadline","deadline","checklines","commonlength","diff_commonPrefix","commonprefix","diff_commonSuffix","commonsuffix","diffs","diff_compute_","diff_cleanupMerge","longtext","shorttext","hm","diff_halfMatch_","text1_a","text1_b","text2_a","text2_b","mid_common","diffs_a","diffs_b","diff_lineMode_","diff_bisect_","diff_linesToChars_","chars1","chars2","linearray","lineArray","diff_charsToLines_","diff_cleanupSemantic","pointer","count_delete","count_insert","text_delete","text_insert","subDiff","text1_length","text2_length","max_d","v_offset","v_length","v1","v2","front","k1start","k1end","k2start","k2end","k1","k1_offset","y1","x1","k2_offset","x2","diff_bisectSplit_","k2","y2","text1a","text2a","text1b","text2b","diffsb","lineHash","diff_linesToCharsMunge_","lineStart","lineArrayLength","pointermin","pointermax","pointermid","pointerstart","pointerend","diff_commonOverlap_","text_length","best","dmp","diff_halfMatchI_","best_longtext_a","best_longtext_b","best_shorttext_a","best_shorttext_b","seed","best_common","prefixLength","suffixLength","hm1","hm2","equalities","equalitiesLength","lastEquality","length_insertions1","length_deletions1","length_insertions2","length_deletions2","diff_cleanupSemanticLossless","deletion","insertion","overlap_length1","overlap_length2","diff_cleanupSemanticScore_","one","two","char1","char2","nonAlphaNumeric1","nonAlphaNumericRegex_","nonAlphaNumeric2","whitespace1","whitespaceRegex_","whitespace2","lineBreak1","linebreakRegex_","lineBreak2","blankLine1","blanklineEndRegex_","blankLine2","blanklineStartRegex_","equality1","equality2","commonOffset","commonString","bestEquality1","bestEdit","bestEquality2","bestScore","diff_cleanupEfficiency","pre_ins","pre_del","post_ins","post_del","diff_xIndex","loc","last_chars1","last_chars2","diff_prettyHtml","pattern_amp","pattern_lt","pattern_gt","pattern_para","diff_text1","diff_text2","diff_levenshtein","levenshtein","insertions","deletions","diff_toDelta","encodeURI","diff_fromDelta","diffsLength","decodeURI","match_main","match_bitap_","match_alphabet_","match_bitapScore_","accuracy","proximity","score_threshold","best_loc","lastIndexOf","bin_min","bin_mid","matchmask","last_rd","bin_max","finish","rd","charMatch","patch_addContext_","patch","start2","length1","start1","length2","patch_make","opt_b","opt_c","patches","patch_obj","patchDiffLength","char_count1","char_count2","prepatch_text","postpatch_text","diff_type","diff_text","patch_deepCopy","patchesCopy","patchCopy","patch_apply","nullPadding","patch_addPadding","patch_splitMax","results","start_loc","expected_loc","end_loc","index2","index1","paddingLength","patch_size","bigpatch","precontext","empty","postcontext","patch_toText","patch_fromText","textline","textPointer","patchHeader","sign","acequire","JsonHighlightRules","MatchingBraceOutdent","BaseFoldMode","commentRegex","singleLineBlockCommentRe","tripleStarBlockCommentRe","startRegionRe","_getFoldWidgetBase","forceMultiline","getCommentRegionBlock","getSectionRange","startIndent","subRange","CStyleFoldMode","$outdent","webpackPolyfill","deprecate"],"mappings":"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AAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG,EAAE,GAAG,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,GAAG,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,GAAG,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,EAAE,GAAG,GAAG,IAAI,GAAG,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,KAAK,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,E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","file":"static/js/12.fbc94e6e.chunk.js","sourcesContent":["import React from 'react';\n/*\n * Dropdown & DropdownMenu\n *\n * Usage:\n *   <Dropdown>\n *     <button onClick={() => this.setState({open: true})}>Fire!</button>\n *     <DropdownMenu width={200} open={this.state.open}>\n *      <div>Option 1</div>\n *      <div>Option 2</div>\n *     </DropdownMenu>\n *   </Dropdown>\n */\n\nexport const Dropdown = ({\n  children,\n  className\n}) => React.createElement(\"div\", {\n  className: `inline-block align-top ${className}`\n}, children); // Invisible click grabber, to detect when the user clicks away.\n\nconst Overlay = ({\n  onClick,\n  zIndex\n}) => {\n  return React.createElement(\"div\", {\n    onClick: onClick,\n    style: {\n      position: 'fixed',\n      zIndex,\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0\n    },\n    \"data-id\": \"dropdown-overlay\"\n  });\n}; // `open` is used to show and hide the menu\n// `top` is used to move the menu and arrow down.\n\n\nconst Container = ({\n  open,\n  top = 0,\n  children\n}) => React.createElement(\"div\", {\n  style: {\n    display: open ? null : 'none',\n    position: 'relative',\n    top\n  },\n  \"data-id\": \"dropdown-menu\"\n}, children); // An arrow tip that appears at the top middle of the dropdown menu\n\n\nconst MenuArrowUp = ({\n  height,\n  boxShadow = '0px 1px 10px 0px rgba(0,0,0,0.20)',\n  background = 'white',\n  align = 'center',\n  marginLeft = 'auto',\n  marginRight = 'auto'\n}) => {\n  const side = Math.round(Math.sqrt(2) * height);\n  return React.createElement(\"div\", {\n    style: {\n      position: 'absolute',\n      width: '100%',\n      height: `${height}px`,\n      top: `-${height}px`,\n      textAlign: align,\n      overflow: 'hidden',\n      zIndex: 1\n    }\n  }, React.createElement(\"div\", {\n    style: {\n      display: 'inline-block',\n      position: 'relative',\n      width: `${side}px`,\n      height: `${side}px`,\n      transform: `translate(0, ${height / 2}px) rotate(45deg)`,\n      borderRadius: '2px 0 0 0',\n      background: background,\n      left: marginLeft,\n      right: marginRight,\n      boxShadow: boxShadow\n    }\n  }));\n}; // An arrow tip that appears at the bottom middle of the dropdown menu\n\n\nconst MenuArrowDown = ({\n  height,\n  boxShadow = '0px 1px 10px 0px rgba(0,0,0,0.20)',\n  background = 'white',\n  align = 'center',\n  marginLeft = 'auto',\n  marginRight = 'auto'\n}) => {\n  const side = Math.round(Math.sqrt(2) * height);\n  return React.createElement(\"div\", {\n    style: {\n      width: '100%',\n      height: `${height + 5}px`,\n      textAlign: align,\n      overflow: 'hidden',\n      zIndex: 1\n    }\n  }, React.createElement(\"div\", {\n    style: {\n      display: 'inline-block',\n      position: 'relative',\n      width: `${side}px`,\n      height: `${side}px`,\n      transform: `translate(0, ${height / 2}px) rotate(45deg)`,\n      borderRadius: '2px 0 0 0',\n      background: background,\n      boxShadow: boxShadow,\n      top: `-${height + 2}px`,\n      left: marginLeft,\n      right: marginRight\n    }\n  }));\n}; // `width` forces the width of the Menu.\n//         width is required to make other calculaitons possible.\n// `left` is the pixels from the left edge of the trigger element...\n//        centered by default.\n//        `left={0}` would make the left of the menu inline with the left of the\n//         trigger element.\n\n\nconst MenuPosition = ({\n  width,\n  left = `calc(50% - ${width / 2}px)`,\n  translateX,\n  translateY,\n  children,\n  zIndex\n}) => React.createElement(\"div\", {\n  style: {\n    position: 'absolute',\n    width: `${width}px`,\n    left,\n    transform: `translateX(${translateX}px) translateY(${translateY}px)`,\n    zIndex\n  }\n}, children); // Styling for the dropdown box and shadow, and reset positon to relative.\n\n\nconst Menu = ({\n  boxShadow = '0px 1px 10px 0px rgba(0,0,0,0.20)',\n  background = 'white',\n  className,\n  children\n}) => React.createElement(\"div\", {\n  style: {\n    position: 'relative',\n    textAlign: 'left',\n    background: background,\n    boxShadow: boxShadow\n  },\n  className: className\n}, children);\n\nexport const DropdownMenu = ({\n  open,\n  boxShadow,\n  className,\n  background,\n  translateX = 0,\n  translateY = 0,\n  width,\n  left,\n  top = 0,\n  arrowHeight = 12,\n  arrowPosition = 'top',\n  arrowAlign,\n  arrowMarginLeft,\n  arrowMarginRight,\n  onDismiss,\n  alignRight,\n  children,\n  baseZIndex = 100\n}) => {\n  if (alignRight) {\n    left = `calc(100% - ${width}px)`;\n    arrowAlign = 'right';\n    arrowMarginRight = arrowMarginRight || '13px';\n  }\n\n  return React.createElement(Container, {\n    open: open,\n    top: top + arrowHeight\n  }, React.createElement(Overlay, {\n    onClick: onDismiss,\n    zIndex: baseZIndex\n  }), React.createElement(MenuPosition, {\n    zIndex: baseZIndex + 1,\n    width: width,\n    left: left,\n    translateX: translateX,\n    translateY: translateY\n  }, arrowPosition === 'top' && React.createElement(MenuArrowUp, {\n    boxShadow: boxShadow,\n    background: background,\n    height: arrowHeight,\n    align: arrowAlign,\n    marginLeft: arrowMarginLeft,\n    marginRight: arrowMarginRight\n  }), React.createElement(Menu, {\n    className: className,\n    boxShadow: boxShadow,\n    background: background\n  }, open ? children : null), arrowPosition === 'bottom' && React.createElement(MenuArrowDown, {\n    boxShadow: boxShadow,\n    background: background,\n    height: arrowHeight,\n    align: arrowAlign,\n    marginLeft: arrowMarginLeft,\n    marginRight: arrowMarginRight\n  })));\n};","/**\n * Lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright JS Foundation and other contributors <https://js.foundation/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    asyncTag = '[object AsyncFunction]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    nullTag = '[object Null]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    proxyTag = '[object Proxy]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    undefinedTag = '[object Undefined]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = isEqual;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar editorOptions = [\n    \"minLines\",\n    \"maxLines\",\n    \"readOnly\",\n    \"highlightActiveLine\",\n    \"tabSize\",\n    \"enableBasicAutocompletion\",\n    \"enableLiveAutocompletion\",\n    \"enableSnippets\"\n];\nexports.editorOptions = editorOptions;\nvar editorEvents = [\n    \"onChange\",\n    \"onFocus\",\n    \"onInput\",\n    \"onBlur\",\n    \"onCopy\",\n    \"onPaste\",\n    \"onSelectionChange\",\n    \"onCursorChange\",\n    \"onScroll\",\n    \"handleOptions\",\n    \"updateRef\"\n];\nexports.editorEvents = editorEvents;\nvar getAceInstance = function () {\n    var ace;\n    // Fallback for ace.require when vanilla ACE is hosted over a CDN\n    if (window.ace) {\n        ace = window.ace;\n        ace.acequire = window.ace.require || window.ace.acequire;\n    }\n    else {\n        ace = require(\"ace-builds\");\n    }\n    return ace;\n};\nexports.getAceInstance = getAceInstance;\nvar debounce = function (fn, delay) {\n    var timer = null;\n    return function () {\n        var context = this;\n        var args = arguments;\n        clearTimeout(timer);\n        timer = setTimeout(function () {\n            fn.apply(context, args);\n        }, delay);\n    };\n};\nexports.debounce = debounce;\n//# sourceMappingURL=editorOptions.js.map","/* ***** BEGIN LICENSE BLOCK *****\n * Distributed under the BSD license:\n *\n * Copyright (c) 2010, Ajax.org B.V.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of Ajax.org B.V. nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * ***** END LICENSE BLOCK ***** */\n\n/**\n * Define a module along with a payload\n * @param module a name for the payload\n * @param payload a function to call with (require, exports, module) params\n */\n\n(function() {\n\nvar ACE_NAMESPACE = \"ace\";\n\nvar global = (function() { return this; })();\nif (!global && typeof window != \"undefined\") global = window; // strict mode\n\n\nif (!ACE_NAMESPACE && typeof requirejs !== \"undefined\")\n    return;\n\n\nvar define = function(module, deps, payload) {\n    if (typeof module !== \"string\") {\n        if (define.original)\n            define.original.apply(this, arguments);\n        else {\n            console.error(\"dropping module because define wasn\\'t a string.\");\n            console.trace();\n        }\n        return;\n    }\n    if (arguments.length == 2)\n        payload = deps;\n    if (!define.modules[module]) {\n        define.payloads[module] = payload;\n        define.modules[module] = null;\n    }\n};\n\ndefine.modules = {};\ndefine.payloads = {};\n\n/**\n * Get at functionality define()ed using the function above\n */\nvar _require = function(parentId, module, callback) {\n    if (typeof module === \"string\") {\n        var payload = lookup(parentId, module);\n        if (payload != undefined) {\n            callback && callback();\n            return payload;\n        }\n    } else if (Object.prototype.toString.call(module) === \"[object Array]\") {\n        var params = [];\n        for (var i = 0, l = module.length; i < l; ++i) {\n            var dep = lookup(parentId, module[i]);\n            if (dep == undefined && require.original)\n                return;\n            params.push(dep);\n        }\n        return callback && callback.apply(null, params) || true;\n    }\n};\n\nvar require = function(module, callback) {\n    var packagedModule = _require(\"\", module, callback);\n    if (packagedModule == undefined && require.original)\n        return require.original.apply(this, arguments);\n    return packagedModule;\n};\n\nvar normalizeModule = function(parentId, moduleName) {\n    // normalize plugin requires\n    if (moduleName.indexOf(\"!\") !== -1) {\n        var chunks = moduleName.split(\"!\");\n        return normalizeModule(parentId, chunks[0]) + \"!\" + normalizeModule(parentId, chunks[1]);\n    }\n    // normalize relative requires\n    if (moduleName.charAt(0) == \".\") {\n        var base = parentId.split(\"/\").slice(0, -1).join(\"/\");\n        moduleName = base + \"/\" + moduleName;\n\n        while(moduleName.indexOf(\".\") !== -1 && previous != moduleName) {\n            var previous = moduleName;\n            moduleName = moduleName.replace(/\\/\\.\\//, \"/\").replace(/[^\\/]+\\/\\.\\.\\//, \"\");\n        }\n    }\n    return moduleName;\n};\n\n/**\n * Internal function to lookup moduleNames and resolve them by calling the\n * definition function if needed.\n */\nvar lookup = function(parentId, moduleName) {\n    moduleName = normalizeModule(parentId, moduleName);\n\n    var module = define.modules[moduleName];\n    if (!module) {\n        module = define.payloads[moduleName];\n        if (typeof module === 'function') {\n            var exports = {};\n            var mod = {\n                id: moduleName,\n                uri: '',\n                exports: exports,\n                packaged: true\n            };\n\n            var req = function(module, callback) {\n                return _require(moduleName, module, callback);\n            };\n\n            var returnValue = module(req, exports, mod);\n            exports = returnValue || mod.exports;\n            define.modules[moduleName] = exports;\n            delete define.payloads[moduleName];\n        }\n        module = define.modules[moduleName] = exports || module;\n    }\n    return module;\n};\n\nfunction exportAce(ns) {\n    var root = global;\n    if (ns) {\n        if (!global[ns])\n            global[ns] = {};\n        root = global[ns];\n    }\n\n    if (!root.define || !root.define.packaged) {\n        define.original = root.define;\n        root.define = define;\n        root.define.packaged = true;\n    }\n\n    if (!root.require || !root.require.packaged) {\n        require.original = root.require;\n        root.require = require;\n        root.require.packaged = true;\n    }\n}\n\nexportAce(ACE_NAMESPACE);\n\n})();\n\nace.define(\"ace/lib/fixoldbrowsers\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\nif (typeof Element != \"undefined\" && !Element.prototype.remove) {\n    Object.defineProperty(Element.prototype, \"remove\", {\n        enumerable: false,\n        writable: true,\n        configurable: true,\n        value: function() { this.parentNode && this.parentNode.removeChild(this); }\n    });\n}\n\n\n});\n\nace.define(\"ace/lib/useragent\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\nexports.OS = {\n    LINUX: \"LINUX\",\n    MAC: \"MAC\",\n    WINDOWS: \"WINDOWS\"\n};\nexports.getOS = function() {\n    if (exports.isMac) {\n        return exports.OS.MAC;\n    } else if (exports.isLinux) {\n        return exports.OS.LINUX;\n    } else {\n        return exports.OS.WINDOWS;\n    }\n};\nvar _navigator = typeof navigator == \"object\" ? navigator : {};\n\nvar os = (/mac|win|linux/i.exec(_navigator.platform) || [\"other\"])[0].toLowerCase();\nvar ua = _navigator.userAgent || \"\";\nvar appName = _navigator.appName || \"\";\nexports.isWin = (os == \"win\");\nexports.isMac = (os == \"mac\");\nexports.isLinux = (os == \"linux\");\nexports.isIE = \n    (appName == \"Microsoft Internet Explorer\" || appName.indexOf(\"MSAppHost\") >= 0)\n    ? parseFloat((ua.match(/(?:MSIE |Trident\\/[0-9]+[\\.0-9]+;.*rv:)([0-9]+[\\.0-9]+)/)||[])[1])\n    : parseFloat((ua.match(/(?:Trident\\/[0-9]+[\\.0-9]+;.*rv:)([0-9]+[\\.0-9]+)/)||[])[1]); // for ie\n    \nexports.isOldIE = exports.isIE && exports.isIE < 9;\nexports.isGecko = exports.isMozilla = ua.match(/ Gecko\\/\\d+/);\nexports.isOpera = typeof opera == \"object\" && Object.prototype.toString.call(window.opera) == \"[object Opera]\";\nexports.isWebKit = parseFloat(ua.split(\"WebKit/\")[1]) || undefined;\n\nexports.isChrome = parseFloat(ua.split(\" Chrome/\")[1]) || undefined;\n\nexports.isEdge = parseFloat(ua.split(\" Edge/\")[1]) || undefined;\n\nexports.isAIR = ua.indexOf(\"AdobeAIR\") >= 0;\n\nexports.isAndroid = ua.indexOf(\"Android\") >= 0;\n\nexports.isChromeOS = ua.indexOf(\" CrOS \") >= 0;\n\nexports.isIOS = /iPad|iPhone|iPod/.test(ua) && !window.MSStream;\n\nif (exports.isIOS) exports.isMac = true;\n\nexports.isMobile = exports.isIOS || exports.isAndroid;\n\n});\n\nace.define(\"ace/lib/dom\",[\"require\",\"exports\",\"module\",\"ace/lib/useragent\"], function(require, exports, module) {\n\"use strict\";\n\nvar useragent = require(\"./useragent\"); \nvar XHTML_NS = \"http://www.w3.org/1999/xhtml\";\n\nexports.buildDom = function buildDom(arr, parent, refs) {\n    if (typeof arr == \"string\" && arr) {\n        var txt = document.createTextNode(arr);\n        if (parent)\n            parent.appendChild(txt);\n        return txt;\n    }\n    \n    if (!Array.isArray(arr)) {\n        if (arr && arr.appendChild && parent)\n            parent.appendChild(arr);\n        return arr;\n    }\n    if (typeof arr[0] != \"string\" || !arr[0]) {\n        var els = [];\n        for (var i = 0; i < arr.length; i++) {\n            var ch = buildDom(arr[i], parent, refs);\n            ch && els.push(ch);\n        }\n        return els;\n    }\n    \n    var el = document.createElement(arr[0]);\n    var options = arr[1];\n    var childIndex = 1;\n    if (options && typeof options == \"object\" && !Array.isArray(options))\n        childIndex = 2;\n    for (var i = childIndex; i < arr.length; i++)\n        buildDom(arr[i], el, refs);\n    if (childIndex == 2) {\n        Object.keys(options).forEach(function(n) {\n            var val = options[n];\n            if (n === \"class\") {\n                el.className = Array.isArray(val) ? val.join(\" \") : val;\n            } else if (typeof val == \"function\" || n == \"value\" || n[0] == \"$\") {\n                el[n] = val;\n            } else if (n === \"ref\") {\n                if (refs) refs[val] = el;\n            } else if (val != null) {\n                el.setAttribute(n, val);\n            }\n        });\n    }\n    if (parent)\n        parent.appendChild(el);\n    return el;\n};\n\nexports.getDocumentHead = function(doc) {\n    if (!doc)\n        doc = document;\n    return doc.head || doc.getElementsByTagName(\"head\")[0] || doc.documentElement;\n};\n\nexports.createElement = function(tag, ns) {\n    return document.createElementNS ?\n           document.createElementNS(ns || XHTML_NS, tag) :\n           document.createElement(tag);\n};\n\nexports.removeChildren = function(element) {\n    element.innerHTML = \"\";\n};\n\nexports.createTextNode = function(textContent, element) {\n    var doc = element ? element.ownerDocument : document;\n    return doc.createTextNode(textContent);\n};\n\nexports.createFragment = function(element) {\n    var doc = element ? element.ownerDocument : document;\n    return doc.createDocumentFragment();\n};\n\nexports.hasCssClass = function(el, name) {\n    var classes = (el.className + \"\").split(/\\s+/g);\n    return classes.indexOf(name) !== -1;\n};\nexports.addCssClass = function(el, name) {\n    if (!exports.hasCssClass(el, name)) {\n        el.className += \" \" + name;\n    }\n};\nexports.removeCssClass = function(el, name) {\n    var classes = el.className.split(/\\s+/g);\n    while (true) {\n        var index = classes.indexOf(name);\n        if (index == -1) {\n            break;\n        }\n        classes.splice(index, 1);\n    }\n    el.className = classes.join(\" \");\n};\n\nexports.toggleCssClass = function(el, name) {\n    var classes = el.className.split(/\\s+/g), add = true;\n    while (true) {\n        var index = classes.indexOf(name);\n        if (index == -1) {\n            break;\n        }\n        add = false;\n        classes.splice(index, 1);\n    }\n    if (add)\n        classes.push(name);\n\n    el.className = classes.join(\" \");\n    return add;\n};\nexports.setCssClass = function(node, className, include) {\n    if (include) {\n        exports.addCssClass(node, className);\n    } else {\n        exports.removeCssClass(node, className);\n    }\n};\n\nexports.hasCssString = function(id, doc) {\n    var index = 0, sheets;\n    doc = doc || document;\n    if ((sheets = doc.querySelectorAll(\"style\"))) {\n        while (index < sheets.length)\n            if (sheets[index++].id === id)\n                return true;\n    }\n};\n\nexports.importCssString = function importCssString(cssText, id, target) {\n    var container = target;\n    if (!target || !target.getRootNode) {\n        container = document;\n    } else {\n        container = target.getRootNode();\n        if (!container || container == target)\n            container = document;\n    }\n    \n    var doc = container.ownerDocument || container;\n    if (id && exports.hasCssString(id, container))\n        return null;\n    \n    if (id)\n        cssText += \"\\n/*# sourceURL=ace/css/\" + id + \" */\";\n    \n    var style = exports.createElement(\"style\");\n    style.appendChild(doc.createTextNode(cssText));\n    if (id)\n        style.id = id;\n\n    if (container == doc)\n        container = exports.getDocumentHead(doc);\n    container.insertBefore(style, container.firstChild);\n};\n\nexports.importCssStylsheet = function(uri, doc) {\n    exports.buildDom([\"link\", {rel: \"stylesheet\", href: uri}], exports.getDocumentHead(doc));\n};\nexports.scrollbarWidth = function(document) {\n    var inner = exports.createElement(\"ace_inner\");\n    inner.style.width = \"100%\";\n    inner.style.minWidth = \"0px\";\n    inner.style.height = \"200px\";\n    inner.style.display = \"block\";\n\n    var outer = exports.createElement(\"ace_outer\");\n    var style = outer.style;\n\n    style.position = \"absolute\";\n    style.left = \"-10000px\";\n    style.overflow = \"hidden\";\n    style.width = \"200px\";\n    style.minWidth = \"0px\";\n    style.height = \"150px\";\n    style.display = \"block\";\n\n    outer.appendChild(inner);\n\n    var body = document.documentElement;\n    body.appendChild(outer);\n\n    var noScrollbar = inner.offsetWidth;\n\n    style.overflow = \"scroll\";\n    var withScrollbar = inner.offsetWidth;\n\n    if (noScrollbar == withScrollbar) {\n        withScrollbar = outer.clientWidth;\n    }\n\n    body.removeChild(outer);\n\n    return noScrollbar-withScrollbar;\n};\n\nif (typeof document == \"undefined\") {\n    exports.importCssString = function() {};\n}\n\nexports.computedStyle = function(element, style) {\n    return window.getComputedStyle(element, \"\") || {};\n};\n\nexports.setStyle = function(styles, property, value) {\n    if (styles[property] !== value) {\n        styles[property] = value;\n    }\n};\n\nexports.HAS_CSS_ANIMATION = false;\nexports.HAS_CSS_TRANSFORMS = false;\nexports.HI_DPI = useragent.isWin\n    ? typeof window !== \"undefined\" && window.devicePixelRatio >= 1.5\n    : true;\n\nif (typeof document !== \"undefined\") {\n    var div = document.createElement(\"div\");\n    if (exports.HI_DPI && div.style.transform  !== undefined)\n        exports.HAS_CSS_TRANSFORMS = true;\n    if (!useragent.isEdge && typeof div.style.animationName !== \"undefined\")\n        exports.HAS_CSS_ANIMATION = true;\n    div = null;\n}\n\nif (exports.HAS_CSS_TRANSFORMS) {\n    exports.translate = function(element, tx, ty) {\n        element.style.transform = \"translate(\" + Math.round(tx) + \"px, \" + Math.round(ty) +\"px)\";\n    };\n} else {\n    exports.translate = function(element, tx, ty) {\n        element.style.top = Math.round(ty) + \"px\";\n        element.style.left = Math.round(tx) + \"px\";\n    };\n}\n\n});\n\nace.define(\"ace/lib/oop\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nexports.inherits = function(ctor, superCtor) {\n    ctor.super_ = superCtor;\n    ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n            value: ctor,\n            enumerable: false,\n            writable: true,\n            configurable: true\n        }\n    });\n};\n\nexports.mixin = function(obj, mixin) {\n    for (var key in mixin) {\n        obj[key] = mixin[key];\n    }\n    return obj;\n};\n\nexports.implement = function(proto, mixin) {\n    exports.mixin(proto, mixin);\n};\n\n});\n\nace.define(\"ace/lib/keys\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./oop\");\nvar Keys = (function() {\n    var ret = {\n        MODIFIER_KEYS: {\n            16: 'Shift', 17: 'Ctrl', 18: 'Alt', 224: 'Meta',\n            91: 'MetaLeft', 92: 'MetaRight', 93: 'ContextMenu'\n        },\n\n        KEY_MODS: {\n            \"ctrl\": 1, \"alt\": 2, \"option\" : 2, \"shift\": 4,\n            \"super\": 8, \"meta\": 8, \"command\": 8, \"cmd\": 8, \n            \"control\": 1\n        },\n\n        FUNCTION_KEYS : {\n            8  : \"Backspace\",\n            9  : \"Tab\",\n            13 : \"Return\",\n            19 : \"Pause\",\n            27 : \"Esc\",\n            32 : \"Space\",\n            33 : \"PageUp\",\n            34 : \"PageDown\",\n            35 : \"End\",\n            36 : \"Home\",\n            37 : \"Left\",\n            38 : \"Up\",\n            39 : \"Right\",\n            40 : \"Down\",\n            44 : \"Print\",\n            45 : \"Insert\",\n            46 : \"Delete\",\n            96 : \"Numpad0\",\n            97 : \"Numpad1\",\n            98 : \"Numpad2\",\n            99 : \"Numpad3\",\n            100: \"Numpad4\",\n            101: \"Numpad5\",\n            102: \"Numpad6\",\n            103: \"Numpad7\",\n            104: \"Numpad8\",\n            105: \"Numpad9\",\n            '-13': \"NumpadEnter\",\n            112: \"F1\",\n            113: \"F2\",\n            114: \"F3\",\n            115: \"F4\",\n            116: \"F5\",\n            117: \"F6\",\n            118: \"F7\",\n            119: \"F8\",\n            120: \"F9\",\n            121: \"F10\",\n            122: \"F11\",\n            123: \"F12\",\n            144: \"Numlock\",\n            145: \"Scrolllock\"\n        },\n\n        PRINTABLE_KEYS: {\n           32: ' ',  48: '0',  49: '1',  50: '2',  51: '3',  52: '4', 53:  '5',\n           54: '6',  55: '7',  56: '8',  57: '9',  59: ';',  61: '=', 65:  'a',\n           66: 'b',  67: 'c',  68: 'd',  69: 'e',  70: 'f',  71: 'g', 72:  'h',\n           73: 'i',  74: 'j',  75: 'k',  76: 'l',  77: 'm',  78: 'n', 79:  'o',\n           80: 'p',  81: 'q',  82: 'r',  83: 's',  84: 't',  85: 'u', 86:  'v',\n           87: 'w',  88: 'x',  89: 'y',  90: 'z', 107: '+', 109: '-', 110: '.',\n          186: ';', 187: '=', 188: ',', 189: '-', 190: '.', 191: '/', 192: '`',\n          219: '[', 220: '\\\\',221: ']', 222: \"'\", 111: '/', 106: '*'\n        }\n    };\n    var name, i;\n    for (i in ret.FUNCTION_KEYS) {\n        name = ret.FUNCTION_KEYS[i].toLowerCase();\n        ret[name] = parseInt(i, 10);\n    }\n    for (i in ret.PRINTABLE_KEYS) {\n        name = ret.PRINTABLE_KEYS[i].toLowerCase();\n        ret[name] = parseInt(i, 10);\n    }\n    oop.mixin(ret, ret.MODIFIER_KEYS);\n    oop.mixin(ret, ret.PRINTABLE_KEYS);\n    oop.mixin(ret, ret.FUNCTION_KEYS);\n    ret.enter = ret[\"return\"];\n    ret.escape = ret.esc;\n    ret.del = ret[\"delete\"];\n    ret[173] = '-';\n    \n    (function() {\n        var mods = [\"cmd\", \"ctrl\", \"alt\", \"shift\"];\n        for (var i = Math.pow(2, mods.length); i--;) {            \n            ret.KEY_MODS[i] = mods.filter(function(x) {\n                return i & ret.KEY_MODS[x];\n            }).join(\"-\") + \"-\";\n        }\n    })();\n\n    ret.KEY_MODS[0] = \"\";\n    ret.KEY_MODS[-1] = \"input-\";\n\n    return ret;\n})();\noop.mixin(exports, Keys);\n\nexports.keyCodeToString = function(keyCode) {\n    var keyString = Keys[keyCode];\n    if (typeof keyString != \"string\")\n        keyString = String.fromCharCode(keyCode);\n    return keyString.toLowerCase();\n};\n\n});\n\nace.define(\"ace/lib/event\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/lib/useragent\"], function(require, exports, module) {\n\"use strict\";\n\nvar keys = require(\"./keys\");\nvar useragent = require(\"./useragent\");\n\nvar pressedKeys = null;\nvar ts = 0;\n\nvar activeListenerOptions;\nfunction detectListenerOptionsSupport() {\n    activeListenerOptions = false;\n    try {\n        document.createComment(\"\").addEventListener(\"test\", function() {}, { \n            get passive() { \n                activeListenerOptions = {passive: false};\n            }\n        });\n    } catch(e) {}\n}\n\nfunction getListenerOptions() {\n    if (activeListenerOptions == undefined)\n        detectListenerOptionsSupport();\n    return activeListenerOptions;\n}\n\nfunction EventListener(elem, type, callback) {\n    this.elem = elem;\n    this.type = type;\n    this.callback = callback;\n}\nEventListener.prototype.destroy = function() {\n    removeListener(this.elem, this.type, this.callback);\n    this.elem = this.type = this.callback = undefined;\n};\n\nvar addListener = exports.addListener = function(elem, type, callback, destroyer) {\n    elem.addEventListener(type, callback, getListenerOptions());\n    if (destroyer)\n        destroyer.$toDestroy.push(new EventListener(elem, type, callback));\n};\n\nvar removeListener = exports.removeListener = function(elem, type, callback) {\n    elem.removeEventListener(type, callback, getListenerOptions());\n};\nexports.stopEvent = function(e) {\n    exports.stopPropagation(e);\n    exports.preventDefault(e);\n    return false;\n};\n\nexports.stopPropagation = function(e) {\n    if (e.stopPropagation)\n        e.stopPropagation();\n};\n\nexports.preventDefault = function(e) {\n    if (e.preventDefault)\n        e.preventDefault();\n};\nexports.getButton = function(e) {\n    if (e.type == \"dblclick\")\n        return 0;\n    if (e.type == \"contextmenu\" || (useragent.isMac && (e.ctrlKey && !e.altKey && !e.shiftKey)))\n        return 2;\n    return e.button;\n};\n\nexports.capture = function(el, eventHandler, releaseCaptureHandler) {\n    var ownerDocument = el && el.ownerDocument || document;\n    function onMouseUp(e) {\n        eventHandler && eventHandler(e);\n        releaseCaptureHandler && releaseCaptureHandler(e);\n\n        removeListener(ownerDocument, \"mousemove\", eventHandler);\n        removeListener(ownerDocument, \"mouseup\", onMouseUp);\n        removeListener(ownerDocument, \"dragstart\", onMouseUp);\n    }\n\n    addListener(ownerDocument, \"mousemove\", eventHandler);\n    addListener(ownerDocument, \"mouseup\", onMouseUp);\n    addListener(ownerDocument, \"dragstart\", onMouseUp);\n    \n    return onMouseUp;\n};\n\nexports.addMouseWheelListener = function(el, callback, destroyer) {\n    if (\"onmousewheel\" in el) {\n        addListener(el, \"mousewheel\", function(e) {\n            var factor = 8;\n            if (e.wheelDeltaX !== undefined) {\n                e.wheelX = -e.wheelDeltaX / factor;\n                e.wheelY = -e.wheelDeltaY / factor;\n            } else {\n                e.wheelX = 0;\n                e.wheelY = -e.wheelDelta / factor;\n            }\n            callback(e);\n        }, destroyer);\n    } else if (\"onwheel\" in el) {\n        addListener(el, \"wheel\",  function(e) {\n            var factor = 0.35;\n            switch (e.deltaMode) {\n                case e.DOM_DELTA_PIXEL:\n                    e.wheelX = e.deltaX * factor || 0;\n                    e.wheelY = e.deltaY * factor || 0;\n                    break;\n                case e.DOM_DELTA_LINE:\n                case e.DOM_DELTA_PAGE:\n                    e.wheelX = (e.deltaX || 0) * 5;\n                    e.wheelY = (e.deltaY || 0) * 5;\n                    break;\n            }\n            \n            callback(e);\n        }, destroyer);\n    } else {\n        addListener(el, \"DOMMouseScroll\", function(e) {\n            if (e.axis && e.axis == e.HORIZONTAL_AXIS) {\n                e.wheelX = (e.detail || 0) * 5;\n                e.wheelY = 0;\n            } else {\n                e.wheelX = 0;\n                e.wheelY = (e.detail || 0) * 5;\n            }\n            callback(e);\n        }, destroyer);\n    }\n};\n\nexports.addMultiMouseDownListener = function(elements, timeouts, eventHandler, callbackName, destroyer) {\n    var clicks = 0;\n    var startX, startY, timer; \n    var eventNames = {\n        2: \"dblclick\",\n        3: \"tripleclick\",\n        4: \"quadclick\"\n    };\n\n    function onMousedown(e) {\n        if (exports.getButton(e) !== 0) {\n            clicks = 0;\n        } else if (e.detail > 1) {\n            clicks++;\n            if (clicks > 4)\n                clicks = 1;\n        } else {\n            clicks = 1;\n        }\n        if (useragent.isIE) {\n            var isNewClick = Math.abs(e.clientX - startX) > 5 || Math.abs(e.clientY - startY) > 5;\n            if (!timer || isNewClick)\n                clicks = 1;\n            if (timer)\n                clearTimeout(timer);\n            timer = setTimeout(function() {timer = null;}, timeouts[clicks - 1] || 600);\n\n            if (clicks == 1) {\n                startX = e.clientX;\n                startY = e.clientY;\n            }\n        }\n        \n        e._clicks = clicks;\n\n        eventHandler[callbackName](\"mousedown\", e);\n\n        if (clicks > 4)\n            clicks = 0;\n        else if (clicks > 1)\n            return eventHandler[callbackName](eventNames[clicks], e);\n    }\n    if (!Array.isArray(elements))\n        elements = [elements];\n    elements.forEach(function(el) {\n        addListener(el, \"mousedown\", onMousedown, destroyer);\n    });\n};\n\nvar getModifierHash = function(e) {\n    return 0 | (e.ctrlKey ? 1 : 0) | (e.altKey ? 2 : 0) | (e.shiftKey ? 4 : 0) | (e.metaKey ? 8 : 0);\n};\n\nexports.getModifierString = function(e) {\n    return keys.KEY_MODS[getModifierHash(e)];\n};\n\nfunction normalizeCommandKeys(callback, e, keyCode) {\n    var hashId = getModifierHash(e);\n\n    if (!useragent.isMac && pressedKeys) {\n        if (e.getModifierState && (e.getModifierState(\"OS\") || e.getModifierState(\"Win\")))\n            hashId |= 8;\n        if (pressedKeys.altGr) {\n            if ((3 & hashId) != 3)\n                pressedKeys.altGr = 0;\n            else\n                return;\n        }\n        if (keyCode === 18 || keyCode === 17) {\n            var location = \"location\" in e ? e.location : e.keyLocation;\n            if (keyCode === 17 && location === 1) {\n                if (pressedKeys[keyCode] == 1)\n                    ts = e.timeStamp;\n            } else if (keyCode === 18 && hashId === 3 && location === 2) {\n                var dt = e.timeStamp - ts;\n                if (dt < 50)\n                    pressedKeys.altGr = true;\n            }\n        }\n    }\n    \n    if (keyCode in keys.MODIFIER_KEYS) {\n        keyCode = -1;\n    }\n    \n    if (!hashId && keyCode === 13) {\n        var location = \"location\" in e ? e.location : e.keyLocation;\n        if (location === 3) {\n            callback(e, hashId, -keyCode);\n            if (e.defaultPrevented)\n                return;\n        }\n    }\n    \n    if (useragent.isChromeOS && hashId & 8) {\n        callback(e, hashId, keyCode);\n        if (e.defaultPrevented)\n            return;\n        else\n            hashId &= ~8;\n    }\n    if (!hashId && !(keyCode in keys.FUNCTION_KEYS) && !(keyCode in keys.PRINTABLE_KEYS)) {\n        return false;\n    }\n    \n    return callback(e, hashId, keyCode);\n}\n\n\nexports.addCommandKeyListener = function(el, callback, destroyer) {\n    if (useragent.isOldGecko || (useragent.isOpera && !(\"KeyboardEvent\" in window))) {\n        var lastKeyDownKeyCode = null;\n        addListener(el, \"keydown\", function(e) {\n            lastKeyDownKeyCode = e.keyCode;\n        }, destroyer);\n        addListener(el, \"keypress\", function(e) {\n            return normalizeCommandKeys(callback, e, lastKeyDownKeyCode);\n        }, destroyer);\n    } else {\n        var lastDefaultPrevented = null;\n\n        addListener(el, \"keydown\", function(e) {\n            pressedKeys[e.keyCode] = (pressedKeys[e.keyCode] || 0) + 1;\n            var result = normalizeCommandKeys(callback, e, e.keyCode);\n            lastDefaultPrevented = e.defaultPrevented;\n            return result;\n        }, destroyer);\n\n        addListener(el, \"keypress\", function(e) {\n            if (lastDefaultPrevented && (e.ctrlKey || e.altKey || e.shiftKey || e.metaKey)) {\n                exports.stopEvent(e);\n                lastDefaultPrevented = null;\n            }\n        }, destroyer);\n\n        addListener(el, \"keyup\", function(e) {\n            pressedKeys[e.keyCode] = null;\n        }, destroyer);\n\n        if (!pressedKeys) {\n            resetPressedKeys();\n            addListener(window, \"focus\", resetPressedKeys);\n        }\n    }\n};\nfunction resetPressedKeys() {\n    pressedKeys = Object.create(null);\n}\n\nif (typeof window == \"object\" && window.postMessage && !useragent.isOldIE) {\n    var postMessageId = 1;\n    exports.nextTick = function(callback, win) {\n        win = win || window;\n        var messageName = \"zero-timeout-message-\" + (postMessageId++);\n        \n        var listener = function(e) {\n            if (e.data == messageName) {\n                exports.stopPropagation(e);\n                removeListener(win, \"message\", listener);\n                callback();\n            }\n        };\n        \n        addListener(win, \"message\", listener);\n        win.postMessage(messageName, \"*\");\n    };\n}\n\nexports.$idleBlocked = false;\nexports.onIdle = function(cb, timeout) {\n    return setTimeout(function handler() {\n        if (!exports.$idleBlocked) {\n            cb();\n        } else {\n            setTimeout(handler, 100);\n        }\n    }, timeout);\n};\n\nexports.$idleBlockId = null;\nexports.blockIdle = function(delay) {\n    if (exports.$idleBlockId)\n        clearTimeout(exports.$idleBlockId);\n        \n    exports.$idleBlocked = true;\n    exports.$idleBlockId = setTimeout(function() {\n        exports.$idleBlocked = false;\n    }, delay || 100);\n};\n\nexports.nextFrame = typeof window == \"object\" && (window.requestAnimationFrame\n    || window.mozRequestAnimationFrame\n    || window.webkitRequestAnimationFrame\n    || window.msRequestAnimationFrame\n    || window.oRequestAnimationFrame);\n\nif (exports.nextFrame)\n    exports.nextFrame = exports.nextFrame.bind(window);\nelse\n    exports.nextFrame = function(callback) {\n        setTimeout(callback, 17);\n    };\n});\n\nace.define(\"ace/range\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\nvar comparePoints = function(p1, p2) {\n    return p1.row - p2.row || p1.column - p2.column;\n};\nvar Range = function(startRow, startColumn, endRow, endColumn) {\n    this.start = {\n        row: startRow,\n        column: startColumn\n    };\n\n    this.end = {\n        row: endRow,\n        column: endColumn\n    };\n};\n\n(function() {\n    this.isEqual = function(range) {\n        return this.start.row === range.start.row &&\n            this.end.row === range.end.row &&\n            this.start.column === range.start.column &&\n            this.end.column === range.end.column;\n    };\n    this.toString = function() {\n        return (\"Range: [\" + this.start.row + \"/\" + this.start.column +\n            \"] -> [\" + this.end.row + \"/\" + this.end.column + \"]\");\n    };\n\n    this.contains = function(row, column) {\n        return this.compare(row, column) == 0;\n    };\n    this.compareRange = function(range) {\n        var cmp,\n            end = range.end,\n            start = range.start;\n\n        cmp = this.compare(end.row, end.column);\n        if (cmp == 1) {\n            cmp = this.compare(start.row, start.column);\n            if (cmp == 1) {\n                return 2;\n            } else if (cmp == 0) {\n                return 1;\n            } else {\n                return 0;\n            }\n        } else if (cmp == -1) {\n            return -2;\n        } else {\n            cmp = this.compare(start.row, start.column);\n            if (cmp == -1) {\n                return -1;\n            } else if (cmp == 1) {\n                return 42;\n            } else {\n                return 0;\n            }\n        }\n    };\n    this.comparePoint = function(p) {\n        return this.compare(p.row, p.column);\n    };\n    this.containsRange = function(range) {\n        return this.comparePoint(range.start) == 0 && this.comparePoint(range.end) == 0;\n    };\n    this.intersects = function(range) {\n        var cmp = this.compareRange(range);\n        return (cmp == -1 || cmp == 0 || cmp == 1);\n    };\n    this.isEnd = function(row, column) {\n        return this.end.row == row && this.end.column == column;\n    };\n    this.isStart = function(row, column) {\n        return this.start.row == row && this.start.column == column;\n    };\n    this.setStart = function(row, column) {\n        if (typeof row == \"object\") {\n            this.start.column = row.column;\n            this.start.row = row.row;\n        } else {\n            this.start.row = row;\n            this.start.column = column;\n        }\n    };\n    this.setEnd = function(row, column) {\n        if (typeof row == \"object\") {\n            this.end.column = row.column;\n            this.end.row = row.row;\n        } else {\n            this.end.row = row;\n            this.end.column = column;\n        }\n    };\n    this.inside = function(row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isEnd(row, column) || this.isStart(row, column)) {\n                return false;\n            } else {\n                return true;\n            }\n        }\n        return false;\n    };\n    this.insideStart = function(row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isEnd(row, column)) {\n                return false;\n            } else {\n                return true;\n            }\n        }\n        return false;\n    };\n    this.insideEnd = function(row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isStart(row, column)) {\n                return false;\n            } else {\n                return true;\n            }\n        }\n        return false;\n    };\n    this.compare = function(row, column) {\n        if (!this.isMultiLine()) {\n            if (row === this.start.row) {\n                return column < this.start.column ? -1 : (column > this.end.column ? 1 : 0);\n            }\n        }\n\n        if (row < this.start.row)\n            return -1;\n\n        if (row > this.end.row)\n            return 1;\n\n        if (this.start.row === row)\n            return column >= this.start.column ? 0 : -1;\n\n        if (this.end.row === row)\n            return column <= this.end.column ? 0 : 1;\n\n        return 0;\n    };\n    this.compareStart = function(row, column) {\n        if (this.start.row == row && this.start.column == column) {\n            return -1;\n        } else {\n            return this.compare(row, column);\n        }\n    };\n    this.compareEnd = function(row, column) {\n        if (this.end.row == row && this.end.column == column) {\n            return 1;\n        } else {\n            return this.compare(row, column);\n        }\n    };\n    this.compareInside = function(row, column) {\n        if (this.end.row == row && this.end.column == column) {\n            return 1;\n        } else if (this.start.row == row && this.start.column == column) {\n            return -1;\n        } else {\n            return this.compare(row, column);\n        }\n    };\n    this.clipRows = function(firstRow, lastRow) {\n        if (this.end.row > lastRow)\n            var end = {row: lastRow + 1, column: 0};\n        else if (this.end.row < firstRow)\n            var end = {row: firstRow, column: 0};\n\n        if (this.start.row > lastRow)\n            var start = {row: lastRow + 1, column: 0};\n        else if (this.start.row < firstRow)\n            var start = {row: firstRow, column: 0};\n\n        return Range.fromPoints(start || this.start, end || this.end);\n    };\n    this.extend = function(row, column) {\n        var cmp = this.compare(row, column);\n\n        if (cmp == 0)\n            return this;\n        else if (cmp == -1)\n            var start = {row: row, column: column};\n        else\n            var end = {row: row, column: column};\n\n        return Range.fromPoints(start || this.start, end || this.end);\n    };\n\n    this.isEmpty = function() {\n        return (this.start.row === this.end.row && this.start.column === this.end.column);\n    };\n    this.isMultiLine = function() {\n        return (this.start.row !== this.end.row);\n    };\n    this.clone = function() {\n        return Range.fromPoints(this.start, this.end);\n    };\n    this.collapseRows = function() {\n        if (this.end.column == 0)\n            return new Range(this.start.row, 0, Math.max(this.start.row, this.end.row-1), 0);\n        else\n            return new Range(this.start.row, 0, this.end.row, 0);\n    };\n    this.toScreenRange = function(session) {\n        var screenPosStart = session.documentToScreenPosition(this.start);\n        var screenPosEnd = session.documentToScreenPosition(this.end);\n\n        return new Range(\n            screenPosStart.row, screenPosStart.column,\n            screenPosEnd.row, screenPosEnd.column\n        );\n    };\n    this.moveBy = function(row, column) {\n        this.start.row += row;\n        this.start.column += column;\n        this.end.row += row;\n        this.end.column += column;\n    };\n\n}).call(Range.prototype);\nRange.fromPoints = function(start, end) {\n    return new Range(start.row, start.column, end.row, end.column);\n};\nRange.comparePoints = comparePoints;\n\nRange.comparePoints = function(p1, p2) {\n    return p1.row - p2.row || p1.column - p2.column;\n};\n\n\nexports.Range = Range;\n});\n\nace.define(\"ace/lib/lang\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nexports.last = function(a) {\n    return a[a.length - 1];\n};\n\nexports.stringReverse = function(string) {\n    return string.split(\"\").reverse().join(\"\");\n};\n\nexports.stringRepeat = function (string, count) {\n    var result = '';\n    while (count > 0) {\n        if (count & 1)\n            result += string;\n\n        if (count >>= 1)\n            string += string;\n    }\n    return result;\n};\n\nvar trimBeginRegexp = /^\\s\\s*/;\nvar trimEndRegexp = /\\s\\s*$/;\n\nexports.stringTrimLeft = function (string) {\n    return string.replace(trimBeginRegexp, '');\n};\n\nexports.stringTrimRight = function (string) {\n    return string.replace(trimEndRegexp, '');\n};\n\nexports.copyObject = function(obj) {\n    var copy = {};\n    for (var key in obj) {\n        copy[key] = obj[key];\n    }\n    return copy;\n};\n\nexports.copyArray = function(array){\n    var copy = [];\n    for (var i=0, l=array.length; i<l; i++) {\n        if (array[i] && typeof array[i] == \"object\")\n            copy[i] = this.copyObject(array[i]);\n        else \n            copy[i] = array[i];\n    }\n    return copy;\n};\n\nexports.deepCopy = function deepCopy(obj) {\n    if (typeof obj !== \"object\" || !obj)\n        return obj;\n    var copy;\n    if (Array.isArray(obj)) {\n        copy = [];\n        for (var key = 0; key < obj.length; key++) {\n            copy[key] = deepCopy(obj[key]);\n        }\n        return copy;\n    }\n    if (Object.prototype.toString.call(obj) !== \"[object Object]\")\n        return obj;\n    \n    copy = {};\n    for (var key in obj)\n        copy[key] = deepCopy(obj[key]);\n    return copy;\n};\n\nexports.arrayToMap = function(arr) {\n    var map = {};\n    for (var i=0; i<arr.length; i++) {\n        map[arr[i]] = 1;\n    }\n    return map;\n\n};\n\nexports.createMap = function(props) {\n    var map = Object.create(null);\n    for (var i in props) {\n        map[i] = props[i];\n    }\n    return map;\n};\nexports.arrayRemove = function(array, value) {\n  for (var i = 0; i <= array.length; i++) {\n    if (value === array[i]) {\n      array.splice(i, 1);\n    }\n  }\n};\n\nexports.escapeRegExp = function(str) {\n    return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g, '\\\\$1');\n};\n\nexports.escapeHTML = function(str) {\n    return (\"\" + str).replace(/&/g, \"&#38;\").replace(/\"/g, \"&#34;\").replace(/'/g, \"&#39;\").replace(/</g, \"&#60;\");\n};\n\nexports.getMatchOffsets = function(string, regExp) {\n    var matches = [];\n\n    string.replace(regExp, function(str) {\n        matches.push({\n            offset: arguments[arguments.length-2],\n            length: str.length\n        });\n    });\n\n    return matches;\n};\nexports.deferredCall = function(fcn) {\n    var timer = null;\n    var callback = function() {\n        timer = null;\n        fcn();\n    };\n\n    var deferred = function(timeout) {\n        deferred.cancel();\n        timer = setTimeout(callback, timeout || 0);\n        return deferred;\n    };\n\n    deferred.schedule = deferred;\n\n    deferred.call = function() {\n        this.cancel();\n        fcn();\n        return deferred;\n    };\n\n    deferred.cancel = function() {\n        clearTimeout(timer);\n        timer = null;\n        return deferred;\n    };\n    \n    deferred.isPending = function() {\n        return timer;\n    };\n\n    return deferred;\n};\n\n\nexports.delayedCall = function(fcn, defaultTimeout) {\n    var timer = null;\n    var callback = function() {\n        timer = null;\n        fcn();\n    };\n\n    var _self = function(timeout) {\n        if (timer == null)\n            timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n\n    _self.delay = function(timeout) {\n        timer && clearTimeout(timer);\n        timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n    _self.schedule = _self;\n\n    _self.call = function() {\n        this.cancel();\n        fcn();\n    };\n\n    _self.cancel = function() {\n        timer && clearTimeout(timer);\n        timer = null;\n    };\n\n    _self.isPending = function() {\n        return timer;\n    };\n\n    return _self;\n};\n});\n\nace.define(\"ace/clipboard\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nvar $cancelT;\nmodule.exports = { \n    lineMode: false,\n    pasteCancelled: function() {\n        if ($cancelT && $cancelT > Date.now() - 50)\n            return true;\n        return $cancelT = false;\n    },\n    cancel: function() {\n        $cancelT = Date.now();\n    }\n};\n\n});\n\nace.define(\"ace/keyboard/textinput\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/clipboard\",\"ace/lib/keys\"], function(require, exports, module) {\n\"use strict\";\n\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar dom = require(\"../lib/dom\");\nvar lang = require(\"../lib/lang\");\nvar clipboard = require(\"../clipboard\");\nvar BROKEN_SETDATA = useragent.isChrome < 18;\nvar USE_IE_MIME_TYPE =  useragent.isIE;\nvar HAS_FOCUS_ARGS = useragent.isChrome > 63;\nvar MAX_LINE_LENGTH = 400;\n\nvar KEYS = require(\"../lib/keys\");\nvar MODS = KEYS.KEY_MODS;\nvar isIOS = useragent.isIOS;\nvar valueResetRegex = isIOS ? /\\s/ : /\\n/;\nvar isMobile = useragent.isMobile;\n\nvar TextInput = function(parentNode, host) {\n    var text = dom.createElement(\"textarea\");\n    text.className = \"ace_text-input\";\n\n    text.setAttribute(\"wrap\", \"off\");\n    text.setAttribute(\"autocorrect\", \"off\");\n    text.setAttribute(\"autocapitalize\", \"off\");\n    text.setAttribute(\"spellcheck\", false);\n\n    text.style.opacity = \"0\";\n    parentNode.insertBefore(text, parentNode.firstChild);\n\n    var copied = false;\n    var pasted = false;\n    var inComposition = false;\n    var sendingText = false;\n    var tempStyle = '';\n    \n    if (!isMobile)\n        text.style.fontSize = \"1px\";\n\n    var commandMode = false;\n    var ignoreFocusEvents = false;\n    \n    var lastValue = \"\";\n    var lastSelectionStart = 0;\n    var lastSelectionEnd = 0;\n    var lastRestoreEnd = 0;\n    try { var isFocused = document.activeElement === text; } catch(e) {}\n    \n    event.addListener(text, \"blur\", function(e) {\n        if (ignoreFocusEvents) return;\n        host.onBlur(e);\n        isFocused = false;\n    }, host);\n    event.addListener(text, \"focus\", function(e) {\n        if (ignoreFocusEvents) return;\n        isFocused = true;\n        if (useragent.isEdge) {\n            try {\n                if (!document.hasFocus())\n                    return;\n            } catch(e) {}\n        }\n        host.onFocus(e);\n        if (useragent.isEdge)\n            setTimeout(resetSelection);\n        else\n            resetSelection();\n    }, host);\n    this.$focusScroll = false;\n    this.focus = function() {\n        if (tempStyle || HAS_FOCUS_ARGS || this.$focusScroll == \"browser\")\n            return text.focus({ preventScroll: true });\n\n        var top = text.style.top;\n        text.style.position = \"fixed\";\n        text.style.top = \"0px\";\n        try {\n            var isTransformed = text.getBoundingClientRect().top != 0;\n        } catch(e) {\n            return;\n        }\n        var ancestors = [];\n        if (isTransformed) {\n            var t = text.parentElement;\n            while (t && t.nodeType == 1) {\n                ancestors.push(t);\n                t.setAttribute(\"ace_nocontext\", true);\n                if (!t.parentElement && t.getRootNode)\n                    t = t.getRootNode().host;\n                else\n                    t = t.parentElement;\n            }\n        }\n        text.focus({ preventScroll: true });\n        if (isTransformed) {\n            ancestors.forEach(function(p) {\n                p.removeAttribute(\"ace_nocontext\");\n            });\n        }\n        setTimeout(function() {\n            text.style.position = \"\";\n            if (text.style.top == \"0px\")\n                text.style.top = top;\n        }, 0);\n    };\n    this.blur = function() {\n        text.blur();\n    };\n    this.isFocused = function() {\n        return isFocused;\n    };\n    \n    host.on(\"beforeEndOperation\", function() {\n        var curOp = host.curOp;\n        var commandName = curOp && curOp.command && curOp.command.name;\n        if (commandName == \"insertstring\")\n            return;\n        var isUserAction = commandName && (curOp.docChanged || curOp.selectionChanged);\n        if (inComposition && isUserAction) {\n            lastValue = text.value = \"\";\n            onCompositionEnd();\n        }\n        resetSelection();\n    });\n    \n    var resetSelection = isIOS\n    ? function(value) {\n        if (!isFocused || (copied && !value) || sendingText) return;\n        if (!value) \n            value = \"\";\n        var newValue = \"\\n ab\" + value + \"cde fg\\n\";\n        if (newValue != text.value)\n            text.value = lastValue = newValue;\n        \n        var selectionStart = 4;\n        var selectionEnd = 4 + (value.length || (host.selection.isEmpty() ? 0 : 1));\n\n        if (lastSelectionStart != selectionStart || lastSelectionEnd != selectionEnd) {\n            text.setSelectionRange(selectionStart, selectionEnd);\n        }\n        lastSelectionStart = selectionStart;\n        lastSelectionEnd = selectionEnd;\n    }\n    : function() {\n        if (inComposition || sendingText)\n            return;\n        if (!isFocused && !afterContextMenu)\n            return;\n        inComposition = true;\n        \n        var selectionStart = 0;\n        var selectionEnd = 0;\n        var line = \"\";\n\n        if (host.session) {\n            var selection = host.selection;\n            var range = selection.getRange();\n            var row = selection.cursor.row;\n            selectionStart = range.start.column;\n            selectionEnd = range.end.column;\n            line = host.session.getLine(row);\n\n            if (range.start.row != row) {\n                var prevLine = host.session.getLine(row - 1);\n                selectionStart = range.start.row < row - 1 ? 0 : selectionStart;\n                selectionEnd += prevLine.length + 1;\n                line = prevLine + \"\\n\" + line;\n            }\n            else if (range.end.row != row) {\n                var nextLine = host.session.getLine(row + 1);\n                selectionEnd = range.end.row > row  + 1 ? nextLine.length : selectionEnd;\n                selectionEnd += line.length + 1;\n                line = line + \"\\n\" + nextLine;\n            }\n            else if (isMobile && row > 0) {\n                line = \"\\n\" + line;\n                selectionEnd += 1;\n                selectionStart += 1;\n            }\n\n            if (line.length > MAX_LINE_LENGTH) {\n                if (selectionStart < MAX_LINE_LENGTH && selectionEnd < MAX_LINE_LENGTH) {\n                    line = line.slice(0, MAX_LINE_LENGTH);\n                } else {\n                    line = \"\\n\";\n                    if (selectionStart == selectionEnd) {\n                        selectionStart = selectionEnd = 0;\n                    }\n                    else {\n                        selectionStart = 0;\n                        selectionEnd = 1;\n                    }\n                }\n            }\n        }\n\n        var newValue = line + \"\\n\\n\";\n        if (newValue != lastValue) {\n            text.value = lastValue = newValue;\n            lastSelectionStart = lastSelectionEnd = newValue.length;\n        }\n        if (afterContextMenu) {\n            lastSelectionStart = text.selectionStart;\n            lastSelectionEnd = text.selectionEnd;\n        }\n        if (\n            lastSelectionEnd != selectionEnd \n            || lastSelectionStart != selectionStart \n            || text.selectionEnd != lastSelectionEnd // on ie edge selectionEnd changes silently after the initialization\n        ) {\n            try {\n                text.setSelectionRange(selectionStart, selectionEnd);\n                lastSelectionStart = selectionStart;\n                lastSelectionEnd = selectionEnd;\n            } catch(e){}\n        }\n        inComposition = false;\n    };\n    this.resetSelection = resetSelection;\n\n    if (isFocused)\n        host.onFocus();\n\n\n    var isAllSelected = function(text) {\n        return text.selectionStart === 0 && text.selectionEnd >= lastValue.length\n            && text.value === lastValue && lastValue\n            && text.selectionEnd !== lastSelectionEnd;\n    };\n\n    var onSelect = function(e) {\n        if (inComposition)\n            return;\n        if (copied) {\n            copied = false;\n        } else if (isAllSelected(text)) {\n            host.selectAll();\n            resetSelection();\n        } else if (isMobile && text.selectionStart != lastSelectionStart) {\n            resetSelection();\n        }\n    };\n\n    var inputHandler = null;\n    this.setInputHandler = function(cb) {inputHandler = cb;};\n    this.getInputHandler = function() {return inputHandler;};\n    var afterContextMenu = false;\n    \n    var sendText = function(value, fromInput) {\n        if (afterContextMenu)\n            afterContextMenu = false;\n        if (pasted) {\n            resetSelection();\n            if (value)\n                host.onPaste(value);\n            pasted = false;\n            return \"\";\n        } else {\n            var selectionStart = text.selectionStart;\n            var selectionEnd = text.selectionEnd;\n        \n            var extendLeft = lastSelectionStart;\n            var extendRight = lastValue.length - lastSelectionEnd;\n            \n            var inserted = value;\n            var restoreStart = value.length - selectionStart;\n            var restoreEnd = value.length - selectionEnd;\n        \n            var i = 0;\n            while (extendLeft > 0 && lastValue[i] == value[i]) {\n                i++;\n                extendLeft--;\n            }\n            inserted = inserted.slice(i);\n            i = 1;\n            while (extendRight > 0 && lastValue.length - i > lastSelectionStart - 1  && lastValue[lastValue.length - i] == value[value.length - i]) {\n                i++;\n                extendRight--;\n            }\n            restoreStart -= i-1;\n            restoreEnd -= i-1;\n            var endIndex = inserted.length - i + 1;\n            if (endIndex < 0) {\n                extendLeft = -endIndex;\n                endIndex = 0;\n            } \n            inserted = inserted.slice(0, endIndex);\n            if (!fromInput && !inserted && !restoreStart && !extendLeft && !extendRight && !restoreEnd)\n                return \"\";\n            sendingText = true;\n            var shouldReset = false;\n            if (useragent.isAndroid && inserted == \". \") {\n                inserted = \"  \";\n                shouldReset = true;\n            }\n            \n            if (inserted && !extendLeft && !extendRight && !restoreStart && !restoreEnd || commandMode) {\n                host.onTextInput(inserted);\n            } else {\n                host.onTextInput(inserted, {\n                    extendLeft: extendLeft,\n                    extendRight: extendRight,\n                    restoreStart: restoreStart,\n                    restoreEnd: restoreEnd\n                });\n            }\n            sendingText = false;\n            \n            lastValue = value;\n            lastSelectionStart = selectionStart;\n            lastSelectionEnd = selectionEnd;\n            lastRestoreEnd = restoreEnd;\n            return shouldReset ? \"\\n\" : inserted;\n        }\n    };\n    var onInput = function(e) {\n        if (inComposition)\n            return onCompositionUpdate();\n        if (e && e.inputType) {\n            if (e.inputType == \"historyUndo\") return host.execCommand(\"undo\");\n            if (e.inputType == \"historyRedo\") return host.execCommand(\"redo\");\n        }\n        var data = text.value;\n        var inserted = sendText(data, true);\n        if (\n            data.length > MAX_LINE_LENGTH + 100 \n            || valueResetRegex.test(inserted)\n            || isMobile && lastSelectionStart < 1 && lastSelectionStart == lastSelectionEnd\n        ) {\n            resetSelection();\n        }\n    };\n    \n    var handleClipboardData = function(e, data, forceIEMime) {\n        var clipboardData = e.clipboardData || window.clipboardData;\n        if (!clipboardData || BROKEN_SETDATA)\n            return;\n        var mime = USE_IE_MIME_TYPE || forceIEMime ? \"Text\" : \"text/plain\";\n        try {\n            if (data) {\n                return clipboardData.setData(mime, data) !== false;\n            } else {\n                return clipboardData.getData(mime);\n            }\n        } catch(e) {\n            if (!forceIEMime)\n                return handleClipboardData(e, data, true);\n        }\n    };\n\n    var doCopy = function(e, isCut) {\n        var data = host.getCopyText();\n        if (!data)\n            return event.preventDefault(e);\n\n        if (handleClipboardData(e, data)) {\n            if (isIOS) {\n                resetSelection(data);\n                copied = data;\n                setTimeout(function () {\n                    copied = false;\n                }, 10);\n            }\n            isCut ? host.onCut() : host.onCopy();\n            event.preventDefault(e);\n        } else {\n            copied = true;\n            text.value = data;\n            text.select();\n            setTimeout(function(){\n                copied = false;\n                resetSelection();\n                isCut ? host.onCut() : host.onCopy();\n            });\n        }\n    };\n    \n    var onCut = function(e) {\n        doCopy(e, true);\n    };\n    \n    var onCopy = function(e) {\n        doCopy(e, false);\n    };\n    \n    var onPaste = function(e) {\n        var data = handleClipboardData(e);\n        if (clipboard.pasteCancelled())\n            return;\n        if (typeof data == \"string\") {\n            if (data)\n                host.onPaste(data, e);\n            if (useragent.isIE)\n                setTimeout(resetSelection);\n            event.preventDefault(e);\n        }\n        else {\n            text.value = \"\";\n            pasted = true;\n        }\n    };\n\n    event.addCommandKeyListener(text, host.onCommandKey.bind(host), host);\n\n    event.addListener(text, \"select\", onSelect, host);\n    event.addListener(text, \"input\", onInput, host);\n\n    event.addListener(text, \"cut\", onCut, host);\n    event.addListener(text, \"copy\", onCopy, host);\n    event.addListener(text, \"paste\", onPaste, host);\n    if (!('oncut' in text) || !('oncopy' in text) || !('onpaste' in text)) {\n        event.addListener(parentNode, \"keydown\", function(e) {\n            if ((useragent.isMac && !e.metaKey) || !e.ctrlKey)\n                return;\n\n            switch (e.keyCode) {\n                case 67:\n                    onCopy(e);\n                    break;\n                case 86:\n                    onPaste(e);\n                    break;\n                case 88:\n                    onCut(e);\n                    break;\n            }\n        }, host);\n    }\n    var onCompositionStart = function(e) {\n        if (inComposition || !host.onCompositionStart || host.$readOnly) \n            return;\n        \n        inComposition = {};\n\n        if (commandMode)\n            return;\n        \n        if (e.data)\n            inComposition.useTextareaForIME = false;\n        \n        setTimeout(onCompositionUpdate, 0);\n        host._signal(\"compositionStart\");\n        host.on(\"mousedown\", cancelComposition);\n        \n        var range = host.getSelectionRange();\n        range.end.row = range.start.row;\n        range.end.column = range.start.column;\n        inComposition.markerRange = range;\n        inComposition.selectionStart = lastSelectionStart;\n        host.onCompositionStart(inComposition);\n        \n        if (inComposition.useTextareaForIME) {\n            lastValue = text.value = \"\";\n            lastSelectionStart = 0;\n            lastSelectionEnd = 0;\n        }\n        else {\n            if (text.msGetInputContext)\n                inComposition.context = text.msGetInputContext();\n            if (text.getInputContext)\n                inComposition.context = text.getInputContext();\n        }\n    };\n\n    var onCompositionUpdate = function() {\n        if (!inComposition || !host.onCompositionUpdate || host.$readOnly)\n            return;\n        if (commandMode)\n            return cancelComposition();\n        \n        if (inComposition.useTextareaForIME) {\n            host.onCompositionUpdate(text.value);\n        }\n        else {\n            var data = text.value;\n            sendText(data);\n            if (inComposition.markerRange) {\n                if (inComposition.context) {\n                    inComposition.markerRange.start.column = inComposition.selectionStart\n                        = inComposition.context.compositionStartOffset;\n                }\n                inComposition.markerRange.end.column = inComposition.markerRange.start.column\n                    + lastSelectionEnd - inComposition.selectionStart + lastRestoreEnd;\n            }\n        }\n    };\n\n    var onCompositionEnd = function(e) {\n        if (!host.onCompositionEnd || host.$readOnly) return;\n        inComposition = false;\n        host.onCompositionEnd();\n        host.off(\"mousedown\", cancelComposition);\n        if (e) onInput();\n    };\n    \n\n    function cancelComposition() {\n        ignoreFocusEvents = true;\n        text.blur();\n        text.focus();\n        ignoreFocusEvents = false;\n    }\n\n    var syncComposition = lang.delayedCall(onCompositionUpdate, 50).schedule.bind(null, null);\n    \n    function onKeyup(e) {\n        if (e.keyCode == 27 && text.value.length < text.selectionStart) {\n            if (!inComposition)\n                lastValue = text.value;\n            lastSelectionStart = lastSelectionEnd = -1;\n            resetSelection();\n        }\n        syncComposition();\n    }\n\n    event.addListener(text, \"compositionstart\", onCompositionStart, host);\n    event.addListener(text, \"compositionupdate\", onCompositionUpdate, host);\n    event.addListener(text, \"keyup\", onKeyup, host);\n    event.addListener(text, \"keydown\", syncComposition, host);\n    event.addListener(text, \"compositionend\", onCompositionEnd, host);\n\n    this.getElement = function() {\n        return text;\n    };\n    this.setCommandMode = function(value) {\n       commandMode = value;\n       text.readOnly = false;\n    };\n    \n    this.setReadOnly = function(readOnly) {\n        if (!commandMode)\n            text.readOnly = readOnly;\n    };\n\n    this.setCopyWithEmptySelection = function(value) {\n    };\n\n    this.onContextMenu = function(e) {\n        afterContextMenu = true;\n        resetSelection();\n        host._emit(\"nativecontextmenu\", {target: host, domEvent: e});\n        this.moveToMouse(e, true);\n    };\n    \n    this.moveToMouse = function(e, bringToFront) {\n        if (!tempStyle)\n            tempStyle = text.style.cssText;\n        text.style.cssText = (bringToFront ? \"z-index:100000;\" : \"\")\n            + (useragent.isIE ? \"opacity:0.1;\" : \"\")\n            + \"text-indent: -\" + (lastSelectionStart + lastSelectionEnd) * host.renderer.characterWidth * 0.5 + \"px;\";\n\n        var rect = host.container.getBoundingClientRect();\n        var style = dom.computedStyle(host.container);\n        var top = rect.top + (parseInt(style.borderTopWidth) || 0);\n        var left = rect.left + (parseInt(rect.borderLeftWidth) || 0);\n        var maxTop = rect.bottom - top - text.clientHeight -2;\n        var move = function(e) {\n            dom.translate(text, e.clientX - left - 2, Math.min(e.clientY - top - 2, maxTop));\n        }; \n        move(e);\n\n        if (e.type != \"mousedown\")\n            return;\n\n        host.renderer.$isMousePressed = true;\n\n        clearTimeout(closeTimeout);\n        if (useragent.isWin)\n            event.capture(host.container, move, onContextMenuClose);\n    };\n\n    this.onContextMenuClose = onContextMenuClose;\n    var closeTimeout;\n    function onContextMenuClose() {\n        clearTimeout(closeTimeout);\n        closeTimeout = setTimeout(function () {\n            if (tempStyle) {\n                text.style.cssText = tempStyle;\n                tempStyle = '';\n            }\n            host.renderer.$isMousePressed = false;\n            if (host.renderer.$keepTextAreaAtCursor)\n                host.renderer.$moveTextAreaToCursor();\n        }, 0);\n    }\n\n    var onContextMenu = function(e) {\n        host.textInput.onContextMenu(e);\n        onContextMenuClose();\n    };\n    event.addListener(text, \"mouseup\", onContextMenu, host);\n    event.addListener(text, \"mousedown\", function(e) {\n        e.preventDefault();\n        onContextMenuClose();\n    }, host);\n    event.addListener(host.renderer.scroller, \"contextmenu\", onContextMenu, host);\n    event.addListener(text, \"contextmenu\", onContextMenu, host);\n    \n    if (isIOS)\n        addIosSelectionHandler(parentNode, host, text);\n\n    function addIosSelectionHandler(parentNode, host, text) {\n        var typingResetTimeout = null;\n        var typing = false;\n \n        text.addEventListener(\"keydown\", function (e) {\n            if (typingResetTimeout) clearTimeout(typingResetTimeout);\n            typing = true;\n        }, true);\n\n        text.addEventListener(\"keyup\", function (e) {\n            typingResetTimeout = setTimeout(function () {\n                typing = false;\n            }, 100);\n        }, true);\n        var detectArrowKeys = function(e) {\n            if (document.activeElement !== text) return;\n            if (typing || inComposition || host.$mouseHandler.isMousePressed) return;\n\n            if (copied) {\n                return;\n            }\n            var selectionStart = text.selectionStart;\n            var selectionEnd = text.selectionEnd;\n            \n            var key = null;\n            var modifier = 0;\n            if (selectionStart == 0) {\n                key = KEYS.up;\n            } else if (selectionStart == 1) {\n                key = KEYS.home;\n            } else if (selectionEnd > lastSelectionEnd && lastValue[selectionEnd] == \"\\n\") {\n                key = KEYS.end;\n            } else if (selectionStart < lastSelectionStart && lastValue[selectionStart - 1] == \" \") {\n                key = KEYS.left;\n                modifier = MODS.option;\n            } else if (\n                selectionStart < lastSelectionStart\n                || (\n                    selectionStart == lastSelectionStart \n                    && lastSelectionEnd != lastSelectionStart\n                    && selectionStart == selectionEnd\n                )\n            ) {\n                key = KEYS.left;\n            } else if (selectionEnd > lastSelectionEnd && lastValue.slice(0, selectionEnd).split(\"\\n\").length > 2) {\n                key = KEYS.down;\n            } else if (selectionEnd > lastSelectionEnd && lastValue[selectionEnd - 1] == \" \") {\n                key = KEYS.right;\n                modifier = MODS.option;\n            } else if (\n                selectionEnd > lastSelectionEnd\n                || (\n                    selectionEnd == lastSelectionEnd \n                    && lastSelectionEnd != lastSelectionStart\n                    && selectionStart == selectionEnd\n                )\n            ) {\n                key = KEYS.right;\n            }\n            \n            if (selectionStart !== selectionEnd)\n                modifier |= MODS.shift;\n\n            if (key) {\n                var result = host.onCommandKey({}, modifier, key);\n                if (!result && host.commands) {\n                    key = KEYS.keyCodeToString(key);\n                    var command = host.commands.findKeyCommand(modifier, key);\n                    if (command)\n                        host.execCommand(command);\n                }\n                lastSelectionStart = selectionStart;\n                lastSelectionEnd = selectionEnd;\n                resetSelection(\"\");\n            }\n        };\n        document.addEventListener(\"selectionchange\", detectArrowKeys);\n        host.on(\"destroy\", function() {\n            document.removeEventListener(\"selectionchange\", detectArrowKeys);\n        });\n    }\n};\n\nexports.TextInput = TextInput;\nexports.$setUserAgentForTests = function(_isMobile, _isIOS) {\n    isMobile = _isMobile;\n    isIOS = _isIOS;\n};\n});\n\nace.define(\"ace/mouse/default_handlers\",[\"require\",\"exports\",\"module\",\"ace/lib/useragent\"], function(require, exports, module) {\n\"use strict\";\n\nvar useragent = require(\"../lib/useragent\");\n\nvar DRAG_OFFSET = 0; // pixels\nvar SCROLL_COOLDOWN_T = 550; // milliseconds\n\nfunction DefaultHandlers(mouseHandler) {\n    mouseHandler.$clickSelection = null;\n\n    var editor = mouseHandler.editor;\n    editor.setDefaultHandler(\"mousedown\", this.onMouseDown.bind(mouseHandler));\n    editor.setDefaultHandler(\"dblclick\", this.onDoubleClick.bind(mouseHandler));\n    editor.setDefaultHandler(\"tripleclick\", this.onTripleClick.bind(mouseHandler));\n    editor.setDefaultHandler(\"quadclick\", this.onQuadClick.bind(mouseHandler));\n    editor.setDefaultHandler(\"mousewheel\", this.onMouseWheel.bind(mouseHandler));\n\n    var exports = [\"select\", \"startSelect\", \"selectEnd\", \"selectAllEnd\", \"selectByWordsEnd\",\n        \"selectByLinesEnd\", \"dragWait\", \"dragWaitEnd\", \"focusWait\"];\n\n    exports.forEach(function(x) {\n        mouseHandler[x] = this[x];\n    }, this);\n\n    mouseHandler.selectByLines = this.extendSelectionBy.bind(mouseHandler, \"getLineRange\");\n    mouseHandler.selectByWords = this.extendSelectionBy.bind(mouseHandler, \"getWordRange\");\n}\n\n(function() {\n\n    this.onMouseDown = function(ev) {\n        var inSelection = ev.inSelection();\n        var pos = ev.getDocumentPosition();\n        this.mousedownEvent = ev;\n        var editor = this.editor;\n\n        var button = ev.getButton();\n        if (button !== 0) {\n            var selectionRange = editor.getSelectionRange();\n            var selectionEmpty = selectionRange.isEmpty();\n            if (selectionEmpty || button == 1)\n                editor.selection.moveToPosition(pos);\n            if (button == 2) {\n                editor.textInput.onContextMenu(ev.domEvent);\n                if (!useragent.isMozilla)\n                    ev.preventDefault();\n            }\n            return;\n        }\n\n        this.mousedownEvent.time = Date.now();\n        if (inSelection && !editor.isFocused()) {\n            editor.focus();\n            if (this.$focusTimeout && !this.$clickSelection && !editor.inMultiSelectMode) {\n                this.setState(\"focusWait\");\n                this.captureMouse(ev);\n                return;\n            }\n        }\n\n        this.captureMouse(ev);\n        this.startSelect(pos, ev.domEvent._clicks > 1);\n        return ev.preventDefault();\n    };\n\n    this.startSelect = function(pos, waitForClickSelection) {\n        pos = pos || this.editor.renderer.screenToTextCoordinates(this.x, this.y);\n        var editor = this.editor;\n        if (!this.mousedownEvent) return;\n        if (this.mousedownEvent.getShiftKey())\n            editor.selection.selectToPosition(pos);\n        else if (!waitForClickSelection)\n            editor.selection.moveToPosition(pos);\n        if (!waitForClickSelection)\n            this.select();\n        if (editor.renderer.scroller.setCapture) {\n            editor.renderer.scroller.setCapture();\n        }\n        editor.setStyle(\"ace_selecting\");\n        this.setState(\"select\");\n    };\n\n    this.select = function() {\n        var anchor, editor = this.editor;\n        var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);\n        if (this.$clickSelection) {\n            var cmp = this.$clickSelection.comparePoint(cursor);\n\n            if (cmp == -1) {\n                anchor = this.$clickSelection.end;\n            } else if (cmp == 1) {\n                anchor = this.$clickSelection.start;\n            } else {\n                var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);\n                cursor = orientedRange.cursor;\n                anchor = orientedRange.anchor;\n            }\n            editor.selection.setSelectionAnchor(anchor.row, anchor.column);\n        }\n        editor.selection.selectToPosition(cursor);\n        editor.renderer.scrollCursorIntoView();\n    };\n\n    this.extendSelectionBy = function(unitName) {\n        var anchor, editor = this.editor;\n        var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);\n        var range = editor.selection[unitName](cursor.row, cursor.column);\n        if (this.$clickSelection) {\n            var cmpStart = this.$clickSelection.comparePoint(range.start);\n            var cmpEnd = this.$clickSelection.comparePoint(range.end);\n\n            if (cmpStart == -1 && cmpEnd <= 0) {\n                anchor = this.$clickSelection.end;\n                if (range.end.row != cursor.row || range.end.column != cursor.column)\n                    cursor = range.start;\n            } else if (cmpEnd == 1 && cmpStart >= 0) {\n                anchor = this.$clickSelection.start;\n                if (range.start.row != cursor.row || range.start.column != cursor.column)\n                    cursor = range.end;\n            } else if (cmpStart == -1 && cmpEnd == 1) {\n                cursor = range.end;\n                anchor = range.start;\n            } else {\n                var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);\n                cursor = orientedRange.cursor;\n                anchor = orientedRange.anchor;\n            }\n            editor.selection.setSelectionAnchor(anchor.row, anchor.column);\n        }\n        editor.selection.selectToPosition(cursor);\n        editor.renderer.scrollCursorIntoView();\n    };\n\n    this.selectEnd =\n    this.selectAllEnd =\n    this.selectByWordsEnd =\n    this.selectByLinesEnd = function() {\n        this.$clickSelection = null;\n        this.editor.unsetStyle(\"ace_selecting\");\n        if (this.editor.renderer.scroller.releaseCapture) {\n            this.editor.renderer.scroller.releaseCapture();\n        }\n    };\n\n    this.focusWait = function() {\n        var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n        var time = Date.now();\n\n        if (distance > DRAG_OFFSET || time - this.mousedownEvent.time > this.$focusTimeout)\n            this.startSelect(this.mousedownEvent.getDocumentPosition());\n    };\n\n    this.onDoubleClick = function(ev) {\n        var pos = ev.getDocumentPosition();\n        var editor = this.editor;\n        var session = editor.session;\n\n        var range = session.getBracketRange(pos);\n        if (range) {\n            if (range.isEmpty()) {\n                range.start.column--;\n                range.end.column++;\n            }\n            this.setState(\"select\");\n        } else {\n            range = editor.selection.getWordRange(pos.row, pos.column);\n            this.setState(\"selectByWords\");\n        }\n        this.$clickSelection = range;\n        this.select();\n    };\n\n    this.onTripleClick = function(ev) {\n        var pos = ev.getDocumentPosition();\n        var editor = this.editor;\n\n        this.setState(\"selectByLines\");\n        var range = editor.getSelectionRange();\n        if (range.isMultiLine() && range.contains(pos.row, pos.column)) {\n            this.$clickSelection = editor.selection.getLineRange(range.start.row);\n            this.$clickSelection.end = editor.selection.getLineRange(range.end.row).end;\n        } else {\n            this.$clickSelection = editor.selection.getLineRange(pos.row);\n        }\n        this.select();\n    };\n\n    this.onQuadClick = function(ev) {\n        var editor = this.editor;\n\n        editor.selectAll();\n        this.$clickSelection = editor.getSelectionRange();\n        this.setState(\"selectAll\");\n    };\n\n    this.onMouseWheel = function(ev) {\n        if (ev.getAccelKey())\n            return;\n        if (ev.getShiftKey() && ev.wheelY && !ev.wheelX) {\n            ev.wheelX = ev.wheelY;\n            ev.wheelY = 0;\n        }\n        \n        var editor = this.editor;\n        \n        if (!this.$lastScroll)\n            this.$lastScroll = { t: 0, vx: 0, vy: 0, allowed: 0 };\n        \n        var prevScroll = this.$lastScroll;\n        var t = ev.domEvent.timeStamp;\n        var dt = t - prevScroll.t;\n        var vx = dt ? ev.wheelX / dt : prevScroll.vx;\n        var vy = dt ? ev.wheelY / dt : prevScroll.vy;\n        if (dt < SCROLL_COOLDOWN_T) {\n            vx = (vx + prevScroll.vx) / 2;\n            vy = (vy + prevScroll.vy) / 2;\n        }\n        \n        var direction = Math.abs(vx / vy);\n        \n        var canScroll = false;\n        if (direction >= 1 && editor.renderer.isScrollableBy(ev.wheelX * ev.speed, 0))\n            canScroll = true;\n        if (direction <= 1 && editor.renderer.isScrollableBy(0, ev.wheelY * ev.speed))\n            canScroll = true;\n            \n        if (canScroll) {\n            prevScroll.allowed = t;\n        } else if (t - prevScroll.allowed < SCROLL_COOLDOWN_T) {\n            var isSlower = Math.abs(vx) <= 1.5 * Math.abs(prevScroll.vx)\n                && Math.abs(vy) <= 1.5 * Math.abs(prevScroll.vy);\n            if (isSlower) {\n                canScroll = true;\n                prevScroll.allowed = t;\n            }\n            else {\n                prevScroll.allowed = 0;\n            }\n        }\n        \n        prevScroll.t = t;\n        prevScroll.vx = vx;\n        prevScroll.vy = vy;\n\n        if (canScroll) {\n            editor.renderer.scrollBy(ev.wheelX * ev.speed, ev.wheelY * ev.speed);\n            return ev.stop();\n        }\n    };\n\n}).call(DefaultHandlers.prototype);\n\nexports.DefaultHandlers = DefaultHandlers;\n\nfunction calcDistance(ax, ay, bx, by) {\n    return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));\n}\n\nfunction calcRangeOrientation(range, cursor) {\n    if (range.start.row == range.end.row)\n        var cmp = 2 * cursor.column - range.start.column - range.end.column;\n    else if (range.start.row == range.end.row - 1 && !range.start.column && !range.end.column)\n        var cmp = cursor.column - 4;\n    else\n        var cmp = 2 * cursor.row - range.start.row - range.end.row;\n\n    if (cmp < 0)\n        return {cursor: range.start, anchor: range.end};\n    else\n        return {cursor: range.end, anchor: range.start};\n}\n\n});\n\nace.define(\"ace/tooltip\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nfunction Tooltip (parentNode) {\n    this.isOpen = false;\n    this.$element = null;\n    this.$parentNode = parentNode;\n}\n\n(function() {\n    this.$init = function() {\n        this.$element = dom.createElement(\"div\");\n        this.$element.className = \"ace_tooltip\";\n        this.$element.style.display = \"none\";\n        this.$parentNode.appendChild(this.$element);\n        return this.$element;\n    };\n    this.getElement = function() {\n        return this.$element || this.$init();\n    };\n    this.setText = function(text) {\n        this.getElement().textContent = text;\n    };\n    this.setHtml = function(html) {\n        this.getElement().innerHTML = html;\n    };\n    this.setPosition = function(x, y) {\n        this.getElement().style.left = x + \"px\";\n        this.getElement().style.top = y + \"px\";\n    };\n    this.setClassName = function(className) {\n        dom.addCssClass(this.getElement(), className);\n    };\n    this.show = function(text, x, y) {\n        if (text != null)\n            this.setText(text);\n        if (x != null && y != null)\n            this.setPosition(x, y);\n        if (!this.isOpen) {\n            this.getElement().style.display = \"block\";\n            this.isOpen = true;\n        }\n    };\n\n    this.hide = function() {\n        if (this.isOpen) {\n            this.getElement().style.display = \"none\";\n            this.isOpen = false;\n        }\n    };\n    this.getHeight = function() {\n        return this.getElement().offsetHeight;\n    };\n    this.getWidth = function() {\n        return this.getElement().offsetWidth;\n    };\n    \n    this.destroy = function() {\n        this.isOpen = false;\n        if (this.$element && this.$element.parentNode) {\n            this.$element.parentNode.removeChild(this.$element);\n        }\n    };\n\n}).call(Tooltip.prototype);\n\nexports.Tooltip = Tooltip;\n});\n\nace.define(\"ace/mouse/default_gutter_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/oop\",\"ace/lib/event\",\"ace/tooltip\"], function(require, exports, module) {\n\"use strict\";\nvar dom = require(\"../lib/dom\");\nvar oop = require(\"../lib/oop\");\nvar event = require(\"../lib/event\");\nvar Tooltip = require(\"../tooltip\").Tooltip;\n\nfunction GutterHandler(mouseHandler) {\n    var editor = mouseHandler.editor;\n    var gutter = editor.renderer.$gutterLayer;\n    var tooltip = new GutterTooltip(editor.container);\n\n    mouseHandler.editor.setDefaultHandler(\"guttermousedown\", function(e) {\n        if (!editor.isFocused() || e.getButton() != 0)\n            return;\n        var gutterRegion = gutter.getRegion(e);\n\n        if (gutterRegion == \"foldWidgets\")\n            return;\n\n        var row = e.getDocumentPosition().row;\n        var selection = editor.session.selection;\n\n        if (e.getShiftKey())\n            selection.selectTo(row, 0);\n        else {\n            if (e.domEvent.detail == 2) {\n                editor.selectAll();\n                return e.preventDefault();\n            }\n            mouseHandler.$clickSelection = editor.selection.getLineRange(row);\n        }\n        mouseHandler.setState(\"selectByLines\");\n        mouseHandler.captureMouse(e);\n        return e.preventDefault();\n    });\n\n\n    var tooltipTimeout, mouseEvent, tooltipAnnotation;\n\n    function showTooltip() {\n        var row = mouseEvent.getDocumentPosition().row;\n        var annotation = gutter.$annotations[row];\n        if (!annotation)\n            return hideTooltip();\n\n        var maxRow = editor.session.getLength();\n        if (row == maxRow) {\n            var screenRow = editor.renderer.pixelToScreenCoordinates(0, mouseEvent.y).row;\n            var pos = mouseEvent.$pos;\n            if (screenRow > editor.session.documentToScreenRow(pos.row, pos.column))\n                return hideTooltip();\n        }\n\n        if (tooltipAnnotation == annotation)\n            return;\n        tooltipAnnotation = annotation.text.join(\"<br/>\");\n\n        tooltip.setHtml(tooltipAnnotation);\n        tooltip.show();\n        editor._signal(\"showGutterTooltip\", tooltip);\n        editor.on(\"mousewheel\", hideTooltip);\n\n        if (mouseHandler.$tooltipFollowsMouse) {\n            moveTooltip(mouseEvent);\n        } else {\n            var gutterElement = mouseEvent.domEvent.target;\n            var rect = gutterElement.getBoundingClientRect();\n            var style = tooltip.getElement().style;\n            style.left = rect.right + \"px\";\n            style.top = rect.bottom + \"px\";\n        }\n    }\n\n    function hideTooltip() {\n        if (tooltipTimeout)\n            tooltipTimeout = clearTimeout(tooltipTimeout);\n        if (tooltipAnnotation) {\n            tooltip.hide();\n            tooltipAnnotation = null;\n            editor._signal(\"hideGutterTooltip\", tooltip);\n            editor.off(\"mousewheel\", hideTooltip);\n        }\n    }\n\n    function moveTooltip(e) {\n        tooltip.setPosition(e.x, e.y);\n    }\n\n    mouseHandler.editor.setDefaultHandler(\"guttermousemove\", function(e) {\n        var target = e.domEvent.target || e.domEvent.srcElement;\n        if (dom.hasCssClass(target, \"ace_fold-widget\"))\n            return hideTooltip();\n\n        if (tooltipAnnotation && mouseHandler.$tooltipFollowsMouse)\n            moveTooltip(e);\n\n        mouseEvent = e;\n        if (tooltipTimeout)\n            return;\n        tooltipTimeout = setTimeout(function() {\n            tooltipTimeout = null;\n            if (mouseEvent && !mouseHandler.isMousePressed)\n                showTooltip();\n            else\n                hideTooltip();\n        }, 50);\n    });\n\n    event.addListener(editor.renderer.$gutter, \"mouseout\", function(e) {\n        mouseEvent = null;\n        if (!tooltipAnnotation || tooltipTimeout)\n            return;\n\n        tooltipTimeout = setTimeout(function() {\n            tooltipTimeout = null;\n            hideTooltip();\n        }, 50);\n    }, editor);\n    \n    editor.on(\"changeSession\", hideTooltip);\n}\n\nfunction GutterTooltip(parentNode) {\n    Tooltip.call(this, parentNode);\n}\n\noop.inherits(GutterTooltip, Tooltip);\n\n(function(){\n    this.setPosition = function(x, y) {\n        var windowWidth = window.innerWidth || document.documentElement.clientWidth;\n        var windowHeight = window.innerHeight || document.documentElement.clientHeight;\n        var width = this.getWidth();\n        var height = this.getHeight();\n        x += 15;\n        y += 15;\n        if (x + width > windowWidth) {\n            x -= (x + width) - windowWidth;\n        }\n        if (y + height > windowHeight) {\n            y -= 20 + height;\n        }\n        Tooltip.prototype.setPosition.call(this, x, y);\n    };\n\n}).call(GutterTooltip.prototype);\n\n\n\nexports.GutterHandler = GutterHandler;\n\n});\n\nace.define(\"ace/mouse/mouse_event\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\"], function(require, exports, module) {\n\"use strict\";\n\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar MouseEvent = exports.MouseEvent = function(domEvent, editor) {\n    this.domEvent = domEvent;\n    this.editor = editor;\n    \n    this.x = this.clientX = domEvent.clientX;\n    this.y = this.clientY = domEvent.clientY;\n\n    this.$pos = null;\n    this.$inSelection = null;\n    \n    this.propagationStopped = false;\n    this.defaultPrevented = false;\n};\n\n(function() {  \n    \n    this.stopPropagation = function() {\n        event.stopPropagation(this.domEvent);\n        this.propagationStopped = true;\n    };\n    \n    this.preventDefault = function() {\n        event.preventDefault(this.domEvent);\n        this.defaultPrevented = true;\n    };\n    \n    this.stop = function() {\n        this.stopPropagation();\n        this.preventDefault();\n    };\n    this.getDocumentPosition = function() {\n        if (this.$pos)\n            return this.$pos;\n        \n        this.$pos = this.editor.renderer.screenToTextCoordinates(this.clientX, this.clientY);\n        return this.$pos;\n    };\n    this.inSelection = function() {\n        if (this.$inSelection !== null)\n            return this.$inSelection;\n            \n        var editor = this.editor;\n        \n\n        var selectionRange = editor.getSelectionRange();\n        if (selectionRange.isEmpty())\n            this.$inSelection = false;\n        else {\n            var pos = this.getDocumentPosition();\n            this.$inSelection = selectionRange.contains(pos.row, pos.column);\n        }\n\n        return this.$inSelection;\n    };\n    this.getButton = function() {\n        return event.getButton(this.domEvent);\n    };\n    this.getShiftKey = function() {\n        return this.domEvent.shiftKey;\n    };\n    \n    this.getAccelKey = useragent.isMac\n        ? function() { return this.domEvent.metaKey; }\n        : function() { return this.domEvent.ctrlKey; };\n    \n}).call(MouseEvent.prototype);\n\n});\n\nace.define(\"ace/mouse/dragdrop_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/lib/useragent\"], function(require, exports, module) {\n\"use strict\";\n\nvar dom = require(\"../lib/dom\");\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\n\nvar AUTOSCROLL_DELAY = 200;\nvar SCROLL_CURSOR_DELAY = 200;\nvar SCROLL_CURSOR_HYSTERESIS = 5;\n\nfunction DragdropHandler(mouseHandler) {\n\n    var editor = mouseHandler.editor;\n\n    var blankImage = dom.createElement(\"img\");\n    blankImage.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n    if (useragent.isOpera)\n        blankImage.style.cssText = \"width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;\";\n\n    var exports = [\"dragWait\", \"dragWaitEnd\", \"startDrag\", \"dragReadyEnd\", \"onMouseDrag\"];\n\n     exports.forEach(function(x) {\n         mouseHandler[x] = this[x];\n    }, this);\n    editor.on(\"mousedown\", this.onMouseDown.bind(mouseHandler));\n\n\n    var mouseTarget = editor.container;\n    var dragSelectionMarker, x, y;\n    var timerId, range;\n    var dragCursor, counter = 0;\n    var dragOperation;\n    var isInternal;\n    var autoScrollStartTime;\n    var cursorMovedTime;\n    var cursorPointOnCaretMoved;\n\n    this.onDragStart = function(e) {\n        if (this.cancelDrag || !mouseTarget.draggable) {\n            var self = this;\n            setTimeout(function(){\n                self.startSelect();\n                self.captureMouse(e);\n            }, 0);\n            return e.preventDefault();\n        }\n        range = editor.getSelectionRange();\n\n        var dataTransfer = e.dataTransfer;\n        dataTransfer.effectAllowed = editor.getReadOnly() ? \"copy\" : \"copyMove\";\n        if (useragent.isOpera) {\n            editor.container.appendChild(blankImage);\n            blankImage.scrollTop = 0;\n        }\n        dataTransfer.setDragImage && dataTransfer.setDragImage(blankImage, 0, 0);\n        if (useragent.isOpera) {\n            editor.container.removeChild(blankImage);\n        }\n        dataTransfer.clearData();\n        dataTransfer.setData(\"Text\", editor.session.getTextRange());\n\n        isInternal = true;\n        this.setState(\"drag\");\n    };\n\n    this.onDragEnd = function(e) {\n        mouseTarget.draggable = false;\n        isInternal = false;\n        this.setState(null);\n        if (!editor.getReadOnly()) {\n            var dropEffect = e.dataTransfer.dropEffect;\n            if (!dragOperation && dropEffect == \"move\")\n                editor.session.remove(editor.getSelectionRange());\n            editor.$resetCursorStyle();\n        }\n        this.editor.unsetStyle(\"ace_dragging\");\n        this.editor.renderer.setCursorStyle(\"\");\n    };\n\n    this.onDragEnter = function(e) {\n        if (editor.getReadOnly() || !canAccept(e.dataTransfer))\n            return;\n        x = e.clientX;\n        y = e.clientY;\n        if (!dragSelectionMarker)\n            addDragMarker();\n        counter++;\n        e.dataTransfer.dropEffect = dragOperation = getDropEffect(e);\n        return event.preventDefault(e);\n    };\n\n    this.onDragOver = function(e) {\n        if (editor.getReadOnly() || !canAccept(e.dataTransfer))\n            return;\n        x = e.clientX;\n        y = e.clientY;\n        if (!dragSelectionMarker) {\n            addDragMarker();\n            counter++;\n        }\n        if (onMouseMoveTimer !== null)\n            onMouseMoveTimer = null;\n\n        e.dataTransfer.dropEffect = dragOperation = getDropEffect(e);\n        return event.preventDefault(e);\n    };\n\n    this.onDragLeave = function(e) {\n        counter--;\n        if (counter <= 0 && dragSelectionMarker) {\n            clearDragMarker();\n            dragOperation = null;\n            return event.preventDefault(e);\n        }\n    };\n\n    this.onDrop = function(e) {\n        if (!dragCursor)\n            return;\n        var dataTransfer = e.dataTransfer;\n        if (isInternal) {\n            switch (dragOperation) {\n                case \"move\":\n                    if (range.contains(dragCursor.row, dragCursor.column)) {\n                        range = {\n                            start: dragCursor,\n                            end: dragCursor\n                        };\n                    } else {\n                        range = editor.moveText(range, dragCursor);\n                    }\n                    break;\n                case \"copy\":\n                    range = editor.moveText(range, dragCursor, true);\n                    break;\n            }\n        } else {\n            var dropData = dataTransfer.getData('Text');\n            range = {\n                start: dragCursor,\n                end: editor.session.insert(dragCursor, dropData)\n            };\n            editor.focus();\n            dragOperation = null;\n        }\n        clearDragMarker();\n        return event.preventDefault(e);\n    };\n\n    event.addListener(mouseTarget, \"dragstart\", this.onDragStart.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"dragend\", this.onDragEnd.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"dragenter\", this.onDragEnter.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"dragover\", this.onDragOver.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"dragleave\", this.onDragLeave.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"drop\", this.onDrop.bind(mouseHandler), editor);\n\n    function scrollCursorIntoView(cursor, prevCursor) {\n        var now = Date.now();\n        var vMovement = !prevCursor || cursor.row != prevCursor.row;\n        var hMovement = !prevCursor || cursor.column != prevCursor.column;\n        if (!cursorMovedTime || vMovement || hMovement) {\n            editor.moveCursorToPosition(cursor);\n            cursorMovedTime = now;\n            cursorPointOnCaretMoved = {x: x, y: y};\n        } else {\n            var distance = calcDistance(cursorPointOnCaretMoved.x, cursorPointOnCaretMoved.y, x, y);\n            if (distance > SCROLL_CURSOR_HYSTERESIS) {\n                cursorMovedTime = null;\n            } else if (now - cursorMovedTime >= SCROLL_CURSOR_DELAY) {\n                editor.renderer.scrollCursorIntoView();\n                cursorMovedTime = null;\n            }\n        }\n    }\n\n    function autoScroll(cursor, prevCursor) {\n        var now = Date.now();\n        var lineHeight = editor.renderer.layerConfig.lineHeight;\n        var characterWidth = editor.renderer.layerConfig.characterWidth;\n        var editorRect = editor.renderer.scroller.getBoundingClientRect();\n        var offsets = {\n           x: {\n               left: x - editorRect.left,\n               right: editorRect.right - x\n           },\n           y: {\n               top: y - editorRect.top,\n               bottom: editorRect.bottom - y\n           }\n        };\n        var nearestXOffset = Math.min(offsets.x.left, offsets.x.right);\n        var nearestYOffset = Math.min(offsets.y.top, offsets.y.bottom);\n        var scrollCursor = {row: cursor.row, column: cursor.column};\n        if (nearestXOffset / characterWidth <= 2) {\n            scrollCursor.column += (offsets.x.left < offsets.x.right ? -3 : +2);\n        }\n        if (nearestYOffset / lineHeight <= 1) {\n            scrollCursor.row += (offsets.y.top < offsets.y.bottom ? -1 : +1);\n        }\n        var vScroll = cursor.row != scrollCursor.row;\n        var hScroll = cursor.column != scrollCursor.column;\n        var vMovement = !prevCursor || cursor.row != prevCursor.row;\n        if (vScroll || (hScroll && !vMovement)) {\n            if (!autoScrollStartTime)\n                autoScrollStartTime = now;\n            else if (now - autoScrollStartTime >= AUTOSCROLL_DELAY)\n                editor.renderer.scrollCursorIntoView(scrollCursor);\n        } else {\n            autoScrollStartTime = null;\n        }\n    }\n\n    function onDragInterval() {\n        var prevCursor = dragCursor;\n        dragCursor = editor.renderer.screenToTextCoordinates(x, y);\n        scrollCursorIntoView(dragCursor, prevCursor);\n        autoScroll(dragCursor, prevCursor);\n    }\n\n    function addDragMarker() {\n        range = editor.selection.toOrientedRange();\n        dragSelectionMarker = editor.session.addMarker(range, \"ace_selection\", editor.getSelectionStyle());\n        editor.clearSelection();\n        if (editor.isFocused())\n            editor.renderer.$cursorLayer.setBlinking(false);\n        clearInterval(timerId);\n        onDragInterval();\n        timerId = setInterval(onDragInterval, 20);\n        counter = 0;\n        event.addListener(document, \"mousemove\", onMouseMove);\n    }\n\n    function clearDragMarker() {\n        clearInterval(timerId);\n        editor.session.removeMarker(dragSelectionMarker);\n        dragSelectionMarker = null;\n        editor.selection.fromOrientedRange(range);\n        if (editor.isFocused() && !isInternal)\n            editor.$resetCursorStyle();\n        range = null;\n        dragCursor = null;\n        counter = 0;\n        autoScrollStartTime = null;\n        cursorMovedTime = null;\n        event.removeListener(document, \"mousemove\", onMouseMove);\n    }\n    var onMouseMoveTimer = null;\n    function onMouseMove() {\n        if (onMouseMoveTimer == null) {\n            onMouseMoveTimer = setTimeout(function() {\n                if (onMouseMoveTimer != null && dragSelectionMarker)\n                    clearDragMarker();\n            }, 20);\n        }\n    }\n\n    function canAccept(dataTransfer) {\n        var types = dataTransfer.types;\n        return !types || Array.prototype.some.call(types, function(type) {\n            return type == 'text/plain' || type == 'Text';\n        });\n    }\n\n    function getDropEffect(e) {\n        var copyAllowed = ['copy', 'copymove', 'all', 'uninitialized'];\n        var moveAllowed = ['move', 'copymove', 'linkmove', 'all', 'uninitialized'];\n\n        var copyModifierState = useragent.isMac ? e.altKey : e.ctrlKey;\n        var effectAllowed = \"uninitialized\";\n        try {\n            effectAllowed = e.dataTransfer.effectAllowed.toLowerCase();\n        } catch (e) {}\n        var dropEffect = \"none\";\n\n        if (copyModifierState && copyAllowed.indexOf(effectAllowed) >= 0)\n            dropEffect = \"copy\";\n        else if (moveAllowed.indexOf(effectAllowed) >= 0)\n            dropEffect = \"move\";\n        else if (copyAllowed.indexOf(effectAllowed) >= 0)\n            dropEffect = \"copy\";\n\n        return dropEffect;\n    }\n}\n\n(function() {\n\n    this.dragWait = function() {\n        var interval = Date.now() - this.mousedownEvent.time;\n        if (interval > this.editor.getDragDelay())\n            this.startDrag();\n    };\n\n    this.dragWaitEnd = function() {\n        var target = this.editor.container;\n        target.draggable = false;\n        this.startSelect(this.mousedownEvent.getDocumentPosition());\n        this.selectEnd();\n    };\n\n    this.dragReadyEnd = function(e) {\n        this.editor.$resetCursorStyle();\n        this.editor.unsetStyle(\"ace_dragging\");\n        this.editor.renderer.setCursorStyle(\"\");\n        this.dragWaitEnd();\n    };\n\n    this.startDrag = function(){\n        this.cancelDrag = false;\n        var editor = this.editor;\n        var target = editor.container;\n        target.draggable = true;\n        editor.renderer.$cursorLayer.setBlinking(false);\n        editor.setStyle(\"ace_dragging\");\n        var cursorStyle = useragent.isWin ? \"default\" : \"move\";\n        editor.renderer.setCursorStyle(cursorStyle);\n        this.setState(\"dragReady\");\n    };\n\n    this.onMouseDrag = function(e) {\n        var target = this.editor.container;\n        if (useragent.isIE && this.state == \"dragReady\") {\n            var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n            if (distance > 3)\n                target.dragDrop();\n        }\n        if (this.state === \"dragWait\") {\n            var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n            if (distance > 0) {\n                target.draggable = false;\n                this.startSelect(this.mousedownEvent.getDocumentPosition());\n            }\n        }\n    };\n\n    this.onMouseDown = function(e) {\n        if (!this.$dragEnabled)\n            return;\n        this.mousedownEvent = e;\n        var editor = this.editor;\n\n        var inSelection = e.inSelection();\n        var button = e.getButton();\n        var clickCount = e.domEvent.detail || 1;\n        if (clickCount === 1 && button === 0 && inSelection) {\n            if (e.editor.inMultiSelectMode && (e.getAccelKey() || e.getShiftKey()))\n                return;\n            this.mousedownEvent.time = Date.now();\n            var eventTarget = e.domEvent.target || e.domEvent.srcElement;\n            if (\"unselectable\" in eventTarget)\n                eventTarget.unselectable = \"on\";\n            if (editor.getDragDelay()) {\n                if (useragent.isWebKit) {\n                    this.cancelDrag = true;\n                    var mouseTarget = editor.container;\n                    mouseTarget.draggable = true;\n                }\n                this.setState(\"dragWait\");\n            } else {\n                this.startDrag();\n            }\n            this.captureMouse(e, this.onMouseDrag.bind(this));\n            e.defaultPrevented = true;\n        }\n    };\n\n}).call(DragdropHandler.prototype);\n\n\nfunction calcDistance(ax, ay, bx, by) {\n    return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));\n}\n\nexports.DragdropHandler = DragdropHandler;\n\n});\n\nace.define(\"ace/mouse/touch_handler\",[\"require\",\"exports\",\"module\",\"ace/mouse/mouse_event\",\"ace/lib/event\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\n\nvar MouseEvent = require(\"./mouse_event\").MouseEvent;\nvar event = require(\"../lib/event\");\nvar dom = require(\"../lib/dom\");\n\nexports.addTouchListeners = function(el, editor) {\n    var mode = \"scroll\";\n    var startX;\n    var startY;\n    var touchStartT;\n    var lastT;\n    var longTouchTimer;\n    var animationTimer;\n    var animationSteps = 0;\n    var pos;\n    var clickCount = 0;\n    var vX = 0;\n    var vY = 0;\n    var pressed;\n    var contextMenu;\n    \n    function createContextMenu() {\n        var clipboard = window.navigator && window.navigator.clipboard;\n        var isOpen = false;\n        var updateMenu = function() {\n            var selected = editor.getCopyText();\n            var hasUndo = editor.session.getUndoManager().hasUndo();\n            contextMenu.replaceChild(\n                dom.buildDom(isOpen ? [\"span\",\n                    !selected && [\"span\", { class: \"ace_mobile-button\", action: \"selectall\" }, \"Select All\"],\n                    selected && [\"span\", { class: \"ace_mobile-button\", action: \"copy\" }, \"Copy\"],\n                    selected && [\"span\", { class: \"ace_mobile-button\", action: \"cut\" }, \"Cut\"],\n                    clipboard && [\"span\", { class: \"ace_mobile-button\", action: \"paste\" }, \"Paste\"],\n                    hasUndo && [\"span\", { class: \"ace_mobile-button\", action: \"undo\" }, \"Undo\"],\n                    [\"span\", { class: \"ace_mobile-button\", action: \"find\" }, \"Find\"],\n                    [\"span\", { class: \"ace_mobile-button\", action: \"openCommandPallete\" }, \"Pallete\"]\n                ] : [\"span\"]),\n                contextMenu.firstChild\n            );\n        };\n        var handleClick = function(e) {\n            var action = e.target.getAttribute(\"action\");\n\n            if (action == \"more\" || !isOpen) {\n                isOpen = !isOpen;\n                return updateMenu();\n            }\n            if (action == \"paste\") {\n                clipboard.readText().then(function (text) {\n                    editor.execCommand(action, text);\n                });\n            }\n            else if (action) {\n                if (action == \"cut\" || action == \"copy\") {\n                    if (clipboard)\n                        clipboard.writeText(editor.getCopyText());\n                    else\n                        document.execCommand(\"copy\");\n                }\n                editor.execCommand(action);\n            }\n            contextMenu.firstChild.style.display = \"none\";\n            isOpen = false;\n            if (action != \"openCommandPallete\")\n                editor.focus();\n        };\n        contextMenu = dom.buildDom([\"div\",\n            {\n                class: \"ace_mobile-menu\",\n                ontouchstart: function(e) {\n                    mode = \"menu\";\n                    e.stopPropagation();\n                    e.preventDefault();\n                    editor.textInput.focus();\n                },\n                ontouchend: function(e) {\n                    e.stopPropagation();\n                    e.preventDefault();\n                    handleClick(e);\n                },\n                onclick: handleClick\n            },\n            [\"span\"],\n            [\"span\", { class: \"ace_mobile-button\", action: \"more\" }, \"...\"]\n        ], editor.container);\n    }\n    function showContextMenu() {\n        if (!contextMenu) createContextMenu();\n        var cursor = editor.selection.cursor;\n        var pagePos = editor.renderer.textToScreenCoordinates(cursor.row, cursor.column);\n        var leftOffset = editor.renderer.textToScreenCoordinates(0, 0).pageX;\n        var scrollLeft = editor.renderer.scrollLeft;\n        var rect = editor.container.getBoundingClientRect();\n        contextMenu.style.top = pagePos.pageY - rect.top - 3 + \"px\";\n        if (pagePos.pageX - rect.left < rect.width - 70) {\n            contextMenu.style.left = \"\";\n            contextMenu.style.right = \"10px\";\n        } else {\n            contextMenu.style.right = \"\";\n            contextMenu.style.left = leftOffset + scrollLeft - rect.left + \"px\";\n        }\n        contextMenu.style.display = \"\";\n        contextMenu.firstChild.style.display = \"none\";\n        editor.on(\"input\", hideContextMenu);\n    }\n    function hideContextMenu(e) {\n        if (contextMenu)\n            contextMenu.style.display = \"none\";\n        editor.off(\"input\", hideContextMenu);\n    }\n\n    function handleLongTap() {\n        longTouchTimer = null;\n        clearTimeout(longTouchTimer);\n        var range = editor.selection.getRange();\n        var inSelection = range.contains(pos.row, pos.column);\n        if (range.isEmpty() || !inSelection) {\n            editor.selection.moveToPosition(pos);\n            editor.selection.selectWord();\n        }\n        mode = \"wait\";\n        showContextMenu();\n    }\n    function switchToSelectionMode() {\n        longTouchTimer = null;\n        clearTimeout(longTouchTimer);\n        editor.selection.moveToPosition(pos);\n        var range = clickCount >= 2\n            ? editor.selection.getLineRange(pos.row)\n            : editor.session.getBracketRange(pos);\n        if (range && !range.isEmpty()) {\n            editor.selection.setRange(range);\n        } else {\n            editor.selection.selectWord();\n        }\n        mode = \"wait\";\n    }\n    event.addListener(el, \"contextmenu\", function(e) {\n        if (!pressed) return;\n        var textarea = editor.textInput.getElement();\n        textarea.focus();\n    }, editor);\n    event.addListener(el, \"touchstart\", function (e) {\n        var touches = e.touches;\n        if (longTouchTimer || touches.length > 1) {\n            clearTimeout(longTouchTimer);\n            longTouchTimer = null;\n            touchStartT = -1;\n            mode = \"zoom\";\n            return;\n        }\n        \n        pressed = editor.$mouseHandler.isMousePressed = true;\n        var h = editor.renderer.layerConfig.lineHeight;\n        var w = editor.renderer.layerConfig.lineHeight;\n        var t = e.timeStamp;\n        lastT = t;\n        var touchObj = touches[0];\n        var x = touchObj.clientX;\n        var y = touchObj.clientY;\n        if (Math.abs(startX - x) + Math.abs(startY - y) > h)\n            touchStartT = -1;\n        \n        startX = e.clientX = x;\n        startY = e.clientY = y;\n        vX = vY = 0;\n        \n        var ev = new MouseEvent(e, editor);\n        pos = ev.getDocumentPosition();\n\n        if (t - touchStartT < 500 && touches.length == 1 && !animationSteps) {\n            clickCount++;\n            e.preventDefault();\n            e.button = 0;\n            switchToSelectionMode();\n        } else {\n            clickCount = 0;\n            var cursor = editor.selection.cursor;\n            var anchor = editor.selection.isEmpty() ? cursor : editor.selection.anchor;\n            \n            var cursorPos = editor.renderer.$cursorLayer.getPixelPosition(cursor, true);\n            var anchorPos = editor.renderer.$cursorLayer.getPixelPosition(anchor, true);\n            var rect = editor.renderer.scroller.getBoundingClientRect();\n            var offsetTop = editor.renderer.layerConfig.offset;\n            var offsetLeft = editor.renderer.scrollLeft;\n            var weightedDistance = function(x, y) {\n                x = x / w;\n                y = y / h - 0.75;\n                return x * x + y * y;\n            };\n            \n            if (e.clientX < rect.left) {\n                mode = \"zoom\";\n                return;\n            }\n            \n            var diff1 = weightedDistance(\n                e.clientX - rect.left - cursorPos.left + offsetLeft,\n                e.clientY - rect.top - cursorPos.top + offsetTop\n            );\n            var diff2 = weightedDistance(\n                e.clientX - rect.left - anchorPos.left + offsetLeft,\n                e.clientY - rect.top - anchorPos.top + offsetTop\n            );\n            if (diff1 < 3.5 && diff2 < 3.5)\n                mode = diff1 > diff2 ? \"cursor\" : \"anchor\";\n                \n            if (diff2 < 3.5)\n                mode = \"anchor\";\n            else if (diff1 < 3.5)\n                mode = \"cursor\";\n            else\n                mode = \"scroll\";\n            longTouchTimer = setTimeout(handleLongTap, 450);\n        }\n        touchStartT = t;\n    }, editor);\n\n    event.addListener(el, \"touchend\", function (e) {\n        pressed = editor.$mouseHandler.isMousePressed = false;\n        if (animationTimer) clearInterval(animationTimer);\n        if (mode == \"zoom\") {\n            mode = \"\";\n            animationSteps = 0;\n        } else if (longTouchTimer) {\n            editor.selection.moveToPosition(pos);\n            animationSteps = 0;\n            showContextMenu();\n        } else if (mode == \"scroll\") {\n            animate();\n            hideContextMenu();\n        } else {\n            showContextMenu();\n        }\n        clearTimeout(longTouchTimer);\n        longTouchTimer = null;\n    }, editor);\n    event.addListener(el, \"touchmove\", function (e) {\n        if (longTouchTimer) {\n            clearTimeout(longTouchTimer);\n            longTouchTimer = null;\n        }\n        var touches = e.touches;\n        if (touches.length > 1 || mode == \"zoom\") return;\n\n        var touchObj = touches[0];\n\n        var wheelX = startX - touchObj.clientX;\n        var wheelY = startY - touchObj.clientY;\n\n        if (mode == \"wait\") {\n            if (wheelX * wheelX + wheelY * wheelY > 4)\n                mode = \"cursor\";\n            else\n                return e.preventDefault();\n        }\n\n        startX = touchObj.clientX;\n        startY = touchObj.clientY;\n\n        e.clientX = touchObj.clientX;\n        e.clientY = touchObj.clientY;\n\n        var t = e.timeStamp;\n        var dt = t - lastT;\n        lastT = t;\n        if (mode == \"scroll\") {\n            var mouseEvent = new MouseEvent(e, editor);\n            mouseEvent.speed = 1;\n            mouseEvent.wheelX = wheelX;\n            mouseEvent.wheelY = wheelY;\n            if (10 * Math.abs(wheelX) < Math.abs(wheelY)) wheelX = 0;\n            if (10 * Math.abs(wheelY) < Math.abs(wheelX)) wheelY = 0;\n            if (dt != 0) {\n                vX = wheelX / dt;\n                vY = wheelY / dt;\n            }\n            editor._emit(\"mousewheel\", mouseEvent);\n            if (!mouseEvent.propagationStopped) {\n                vX = vY = 0;\n            }\n        }\n        else {\n            var ev = new MouseEvent(e, editor);\n            var pos = ev.getDocumentPosition();\n            if (mode == \"cursor\")\n                editor.selection.moveCursorToPosition(pos);\n            else if (mode == \"anchor\")\n                editor.selection.setSelectionAnchor(pos.row, pos.column);\n            editor.renderer.scrollCursorIntoView(pos);\n            e.preventDefault();\n        }\n    }, editor);\n\n    function animate() {\n        animationSteps += 60;\n        animationTimer = setInterval(function() {\n            if (animationSteps-- <= 0) {\n                clearInterval(animationTimer);\n                animationTimer = null;\n            }\n            if (Math.abs(vX) < 0.01) vX = 0;\n            if (Math.abs(vY) < 0.01) vY = 0;\n            if (animationSteps < 20) vX = 0.9 * vX;\n            if (animationSteps < 20) vY = 0.9 * vY;\n            var oldScrollTop = editor.session.getScrollTop();\n            editor.renderer.scrollBy(10 * vX, 10 * vY);\n            if (oldScrollTop == editor.session.getScrollTop())\n                animationSteps = 0;\n        }, 10);\n    }\n};\n\n});\n\nace.define(\"ace/lib/net\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\nvar dom = require(\"./dom\");\n\nexports.get = function (url, callback) {\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', url, true);\n    xhr.onreadystatechange = function () {\n        if (xhr.readyState === 4) {\n            callback(xhr.responseText);\n        }\n    };\n    xhr.send(null);\n};\n\nexports.loadScript = function(path, callback) {\n    var head = dom.getDocumentHead();\n    var s = document.createElement('script');\n\n    s.src = path;\n    head.appendChild(s);\n\n    s.onload = s.onreadystatechange = function(_, isAbort) {\n        if (isAbort || !s.readyState || s.readyState == \"loaded\" || s.readyState == \"complete\") {\n            s = s.onload = s.onreadystatechange = null;\n            if (!isAbort)\n                callback();\n        }\n    };\n};\nexports.qualifyURL = function(url) {\n    var a = document.createElement('a');\n    a.href = url;\n    return a.href;\n};\n\n});\n\nace.define(\"ace/lib/event_emitter\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nvar EventEmitter = {};\nvar stopPropagation = function() { this.propagationStopped = true; };\nvar preventDefault = function() { this.defaultPrevented = true; };\n\nEventEmitter._emit =\nEventEmitter._dispatchEvent = function(eventName, e) {\n    this._eventRegistry || (this._eventRegistry = {});\n    this._defaultHandlers || (this._defaultHandlers = {});\n\n    var listeners = this._eventRegistry[eventName] || [];\n    var defaultHandler = this._defaultHandlers[eventName];\n    if (!listeners.length && !defaultHandler)\n        return;\n\n    if (typeof e != \"object\" || !e)\n        e = {};\n\n    if (!e.type)\n        e.type = eventName;\n    if (!e.stopPropagation)\n        e.stopPropagation = stopPropagation;\n    if (!e.preventDefault)\n        e.preventDefault = preventDefault;\n\n    listeners = listeners.slice();\n    for (var i=0; i<listeners.length; i++) {\n        listeners[i](e, this);\n        if (e.propagationStopped)\n            break;\n    }\n    \n    if (defaultHandler && !e.defaultPrevented)\n        return defaultHandler(e, this);\n};\n\n\nEventEmitter._signal = function(eventName, e) {\n    var listeners = (this._eventRegistry || {})[eventName];\n    if (!listeners)\n        return;\n    listeners = listeners.slice();\n    for (var i=0; i<listeners.length; i++)\n        listeners[i](e, this);\n};\n\nEventEmitter.once = function(eventName, callback) {\n    var _self = this;\n    this.on(eventName, function newCallback() {\n        _self.off(eventName, newCallback);\n        callback.apply(null, arguments);\n    });\n    if (!callback) {\n        return new Promise(function(resolve) {\n            callback = resolve;\n        });\n    }\n};\n\n\nEventEmitter.setDefaultHandler = function(eventName, callback) {\n    var handlers = this._defaultHandlers;\n    if (!handlers)\n        handlers = this._defaultHandlers = {_disabled_: {}};\n    \n    if (handlers[eventName]) {\n        var old = handlers[eventName];\n        var disabled = handlers._disabled_[eventName];\n        if (!disabled)\n            handlers._disabled_[eventName] = disabled = [];\n        disabled.push(old);\n        var i = disabled.indexOf(callback);\n        if (i != -1) \n            disabled.splice(i, 1);\n    }\n    handlers[eventName] = callback;\n};\nEventEmitter.removeDefaultHandler = function(eventName, callback) {\n    var handlers = this._defaultHandlers;\n    if (!handlers)\n        return;\n    var disabled = handlers._disabled_[eventName];\n    \n    if (handlers[eventName] == callback) {\n        if (disabled)\n            this.setDefaultHandler(eventName, disabled.pop());\n    } else if (disabled) {\n        var i = disabled.indexOf(callback);\n        if (i != -1)\n            disabled.splice(i, 1);\n    }\n};\n\nEventEmitter.on =\nEventEmitter.addEventListener = function(eventName, callback, capturing) {\n    this._eventRegistry = this._eventRegistry || {};\n\n    var listeners = this._eventRegistry[eventName];\n    if (!listeners)\n        listeners = this._eventRegistry[eventName] = [];\n\n    if (listeners.indexOf(callback) == -1)\n        listeners[capturing ? \"unshift\" : \"push\"](callback);\n    return callback;\n};\n\nEventEmitter.off =\nEventEmitter.removeListener =\nEventEmitter.removeEventListener = function(eventName, callback) {\n    this._eventRegistry = this._eventRegistry || {};\n\n    var listeners = this._eventRegistry[eventName];\n    if (!listeners)\n        return;\n\n    var index = listeners.indexOf(callback);\n    if (index !== -1)\n        listeners.splice(index, 1);\n};\n\nEventEmitter.removeAllListeners = function(eventName) {\n    if (!eventName) this._eventRegistry = this._defaultHandlers = undefined;\n    if (this._eventRegistry) this._eventRegistry[eventName] = undefined;\n    if (this._defaultHandlers) this._defaultHandlers[eventName] = undefined;\n};\n\nexports.EventEmitter = EventEmitter;\n\n});\n\nace.define(\"ace/lib/app_config\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\"no use strict\";\n\nvar oop = require(\"./oop\");\nvar EventEmitter = require(\"./event_emitter\").EventEmitter;\n\nvar optionsProvider = {\n    setOptions: function(optList) {\n        Object.keys(optList).forEach(function(key) {\n            this.setOption(key, optList[key]);\n        }, this);\n    },\n    getOptions: function(optionNames) {\n        var result = {};\n        if (!optionNames) {\n            var options = this.$options;\n            optionNames = Object.keys(options).filter(function(key) {\n                return !options[key].hidden;\n            });\n        } else if (!Array.isArray(optionNames)) {\n            result = optionNames;\n            optionNames = Object.keys(result);\n        }\n        optionNames.forEach(function(key) {\n            result[key] = this.getOption(key);\n        }, this);\n        return result;\n    },\n    setOption: function(name, value) {\n        if (this[\"$\" + name] === value)\n            return;\n        var opt = this.$options[name];\n        if (!opt) {\n            return warn('misspelled option \"' + name + '\"');\n        }\n        if (opt.forwardTo)\n            return this[opt.forwardTo] && this[opt.forwardTo].setOption(name, value);\n\n        if (!opt.handlesSet)\n            this[\"$\" + name] = value;\n        if (opt && opt.set)\n            opt.set.call(this, value);\n    },\n    getOption: function(name) {\n        var opt = this.$options[name];\n        if (!opt) {\n            return warn('misspelled option \"' + name + '\"');\n        }\n        if (opt.forwardTo)\n            return this[opt.forwardTo] && this[opt.forwardTo].getOption(name);\n        return opt && opt.get ? opt.get.call(this) : this[\"$\" + name];\n    }\n};\n\nfunction warn(message) {\n    if (typeof console != \"undefined\" && console.warn)\n        console.warn.apply(console, arguments);\n}\n\nfunction reportError(msg, data) {\n    var e = new Error(msg);\n    e.data = data;\n    if (typeof console == \"object\" && console.error)\n        console.error(e);\n    setTimeout(function() { throw e; });\n}\n\nvar AppConfig = function() {\n    this.$defaultOptions = {};\n};\n\n(function() {\n    oop.implement(this, EventEmitter);\n    this.defineOptions = function(obj, path, options) {\n        if (!obj.$options)\n            this.$defaultOptions[path] = obj.$options = {};\n\n        Object.keys(options).forEach(function(key) {\n            var opt = options[key];\n            if (typeof opt == \"string\")\n                opt = {forwardTo: opt};\n\n            opt.name || (opt.name = key);\n            obj.$options[opt.name] = opt;\n            if (\"initialValue\" in opt)\n                obj[\"$\" + opt.name] = opt.initialValue;\n        });\n        oop.implement(obj, optionsProvider);\n\n        return this;\n    };\n\n    this.resetOptions = function(obj) {\n        Object.keys(obj.$options).forEach(function(key) {\n            var opt = obj.$options[key];\n            if (\"value\" in opt)\n                obj.setOption(key, opt.value);\n        });\n    };\n\n    this.setDefaultValue = function(path, name, value) {\n        if (!path) {\n            for (path in this.$defaultOptions)\n                if (this.$defaultOptions[path][name])\n                    break;\n            if (!this.$defaultOptions[path][name])\n                return false;\n        }\n        var opts = this.$defaultOptions[path] || (this.$defaultOptions[path] = {});\n        if (opts[name]) {\n            if (opts.forwardTo)\n                this.setDefaultValue(opts.forwardTo, name, value);\n            else\n                opts[name].value = value;\n        }\n    };\n\n    this.setDefaultValues = function(path, optionHash) {\n        Object.keys(optionHash).forEach(function(key) {\n            this.setDefaultValue(path, key, optionHash[key]);\n        }, this);\n    };\n    \n    this.warn = warn;\n    this.reportError = reportError;\n    \n}).call(AppConfig.prototype);\n\nexports.AppConfig = AppConfig;\n\n});\n\nace.define(\"ace/config\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/lib/oop\",\"ace/lib/net\",\"ace/lib/app_config\"], function(require, exports, module) {\n\"no use strict\";\n\nvar lang = require(\"./lib/lang\");\nvar oop = require(\"./lib/oop\");\nvar net = require(\"./lib/net\");\nvar AppConfig = require(\"./lib/app_config\").AppConfig;\n\nmodule.exports = exports = new AppConfig();\n\nvar global = (function() {\n    return this || typeof window != \"undefined\" && window;\n})();\n\nvar options = {\n    packaged: false,\n    workerPath: null,\n    modePath: null,\n    themePath: null,\n    basePath: \"\",\n    suffix: \".js\",\n    $moduleUrls: {},\n    loadWorkerFromBlob: true,\n    sharedPopups: false\n};\n\nexports.get = function(key) {\n    if (!options.hasOwnProperty(key))\n        throw new Error(\"Unknown config key: \" + key);\n\n    return options[key];\n};\n\nexports.set = function(key, value) {\n    if (options.hasOwnProperty(key))\n        options[key] = value;\n    else if (this.setDefaultValue(\"\", key, value) == false)\n        throw new Error(\"Unknown config key: \" + key);\n};\n\nexports.all = function() {\n    return lang.copyObject(options);\n};\n\nexports.$modes = {};\nexports.moduleUrl = function(name, component) {\n    if (options.$moduleUrls[name])\n        return options.$moduleUrls[name];\n\n    var parts = name.split(\"/\");\n    component = component || parts[parts.length - 2] || \"\";\n    var sep = component == \"snippets\" ? \"/\" : \"-\";\n    var base = parts[parts.length - 1];\n    if (component == \"worker\" && sep == \"-\") {\n        var re = new RegExp(\"^\" + component + \"[\\\\-_]|[\\\\-_]\" + component + \"$\", \"g\");\n        base = base.replace(re, \"\");\n    }\n\n    if ((!base || base == component) && parts.length > 1)\n        base = parts[parts.length - 2];\n    var path = options[component + \"Path\"];\n    if (path == null) {\n        path = options.basePath;\n    } else if (sep == \"/\") {\n        component = sep = \"\";\n    }\n    if (path && path.slice(-1) != \"/\")\n        path += \"/\";\n    return path + component + sep + base + this.get(\"suffix\");\n};\n\nexports.setModuleUrl = function(name, subst) {\n    return options.$moduleUrls[name] = subst;\n};\n\nexports.$loading = {};\nexports.loadModule = function(moduleName, onLoad) {\n    var module, moduleType;\n    if (Array.isArray(moduleName)) {\n        moduleType = moduleName[0];\n        moduleName = moduleName[1];\n    }\n\n    try {\n        module = require(moduleName);\n    } catch (e) {}\n    if (module && !exports.$loading[moduleName])\n        return onLoad && onLoad(module);\n\n    if (!exports.$loading[moduleName])\n        exports.$loading[moduleName] = [];\n\n    exports.$loading[moduleName].push(onLoad);\n\n    if (exports.$loading[moduleName].length > 1)\n        return;\n\n    var afterLoad = function() {\n        require([moduleName], function(module) {\n            exports._emit(\"load.module\", {name: moduleName, module: module});\n            var listeners = exports.$loading[moduleName];\n            exports.$loading[moduleName] = null;\n            listeners.forEach(function(onLoad) {\n                onLoad && onLoad(module);\n            });\n        });\n    };\n\n    if (!exports.get(\"packaged\"))\n        return afterLoad();\n    \n    net.loadScript(exports.moduleUrl(moduleName, moduleType), afterLoad);\n    reportErrorIfPathIsNotConfigured();\n};\n\nvar reportErrorIfPathIsNotConfigured = function() {\n    if (\n        !options.basePath && !options.workerPath \n        && !options.modePath && !options.themePath\n        && !Object.keys(options.$moduleUrls).length\n    ) {\n        console.error(\n            \"Unable to infer path to ace from script src,\",\n            \"use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes\",\n            \"or with webpack use ace/webpack-resolver\"\n        );\n        reportErrorIfPathIsNotConfigured = function() {};\n    }\n};\ninit(true);function init(packaged) {\n\n    if (!global || !global.document)\n        return;\n    \n    options.packaged = packaged || require.packaged || module.packaged || (global.define && define.packaged);\n\n    var scriptOptions = {};\n    var scriptUrl = \"\";\n    var currentScript = (document.currentScript || document._currentScript ); // native or polyfill\n    var currentDocument = currentScript && currentScript.ownerDocument || document;\n    \n    var scripts = currentDocument.getElementsByTagName(\"script\");\n    for (var i=0; i<scripts.length; i++) {\n        var script = scripts[i];\n\n        var src = script.src || script.getAttribute(\"src\");\n        if (!src)\n            continue;\n\n        var attributes = script.attributes;\n        for (var j=0, l=attributes.length; j < l; j++) {\n            var attr = attributes[j];\n            if (attr.name.indexOf(\"data-ace-\") === 0) {\n                scriptOptions[deHyphenate(attr.name.replace(/^data-ace-/, \"\"))] = attr.value;\n            }\n        }\n\n        var m = src.match(/^(.*)\\/ace(\\-\\w+)?\\.js(\\?|$)/);\n        if (m)\n            scriptUrl = m[1];\n    }\n\n    if (scriptUrl) {\n        scriptOptions.base = scriptOptions.base || scriptUrl;\n        scriptOptions.packaged = true;\n    }\n\n    scriptOptions.basePath = scriptOptions.base;\n    scriptOptions.workerPath = scriptOptions.workerPath || scriptOptions.base;\n    scriptOptions.modePath = scriptOptions.modePath || scriptOptions.base;\n    scriptOptions.themePath = scriptOptions.themePath || scriptOptions.base;\n    delete scriptOptions.base;\n\n    for (var key in scriptOptions)\n        if (typeof scriptOptions[key] !== \"undefined\")\n            exports.set(key, scriptOptions[key]);\n}\n\nexports.init = init;\n\nfunction deHyphenate(str) {\n    return str.replace(/-(.)/g, function(m, m1) { return m1.toUpperCase(); });\n}\n\nexports.version = \"1.4.12\";\n\n});\n\nace.define(\"ace/mouse/mouse_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\",\"ace/mouse/default_handlers\",\"ace/mouse/default_gutter_handler\",\"ace/mouse/mouse_event\",\"ace/mouse/dragdrop_handler\",\"ace/mouse/touch_handler\",\"ace/config\"], function(require, exports, module) {\n\"use strict\";\n\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar DefaultHandlers = require(\"./default_handlers\").DefaultHandlers;\nvar DefaultGutterHandler = require(\"./default_gutter_handler\").GutterHandler;\nvar MouseEvent = require(\"./mouse_event\").MouseEvent;\nvar DragdropHandler = require(\"./dragdrop_handler\").DragdropHandler;\nvar addTouchListeners = require(\"./touch_handler\").addTouchListeners;\nvar config = require(\"../config\");\n\nvar MouseHandler = function(editor) {\n    var _self = this;\n    this.editor = editor;\n\n    new DefaultHandlers(this);\n    new DefaultGutterHandler(this);\n    new DragdropHandler(this);\n\n    var focusEditor = function(e) {\n        var windowBlurred = !document.hasFocus || !document.hasFocus()\n            || !editor.isFocused() && document.activeElement == (editor.textInput && editor.textInput.getElement());\n        if (windowBlurred)\n            window.focus();\n        editor.focus();\n    };\n\n    var mouseTarget = editor.renderer.getMouseEventTarget();\n    event.addListener(mouseTarget, \"click\", this.onMouseEvent.bind(this, \"click\"), editor);\n    event.addListener(mouseTarget, \"mousemove\", this.onMouseMove.bind(this, \"mousemove\"), editor);\n    event.addMultiMouseDownListener([\n        mouseTarget,\n        editor.renderer.scrollBarV && editor.renderer.scrollBarV.inner,\n        editor.renderer.scrollBarH && editor.renderer.scrollBarH.inner,\n        editor.textInput && editor.textInput.getElement()\n    ].filter(Boolean), [400, 300, 250], this, \"onMouseEvent\", editor);\n    event.addMouseWheelListener(editor.container, this.onMouseWheel.bind(this, \"mousewheel\"), editor);\n    addTouchListeners(editor.container, editor);\n\n    var gutterEl = editor.renderer.$gutter;\n    event.addListener(gutterEl, \"mousedown\", this.onMouseEvent.bind(this, \"guttermousedown\"), editor);\n    event.addListener(gutterEl, \"click\", this.onMouseEvent.bind(this, \"gutterclick\"), editor);\n    event.addListener(gutterEl, \"dblclick\", this.onMouseEvent.bind(this, \"gutterdblclick\"), editor);\n    event.addListener(gutterEl, \"mousemove\", this.onMouseEvent.bind(this, \"guttermousemove\"), editor);\n\n    event.addListener(mouseTarget, \"mousedown\", focusEditor, editor);\n    event.addListener(gutterEl, \"mousedown\", focusEditor, editor);\n    if (useragent.isIE && editor.renderer.scrollBarV) {\n        event.addListener(editor.renderer.scrollBarV.element, \"mousedown\", focusEditor, editor);\n        event.addListener(editor.renderer.scrollBarH.element, \"mousedown\", focusEditor, editor);\n    }\n\n    editor.on(\"mousemove\", function(e){\n        if (_self.state || _self.$dragDelay || !_self.$dragEnabled)\n            return;\n\n        var character = editor.renderer.screenToTextCoordinates(e.x, e.y);\n        var range = editor.session.selection.getRange();\n        var renderer = editor.renderer;\n\n        if (!range.isEmpty() && range.insideStart(character.row, character.column)) {\n            renderer.setCursorStyle(\"default\");\n        } else {\n            renderer.setCursorStyle(\"\");\n        }\n    }, editor);\n};\n\n(function() {\n    this.onMouseEvent = function(name, e) {\n        this.editor._emit(name, new MouseEvent(e, this.editor));\n    };\n\n    this.onMouseMove = function(name, e) {\n        var listeners = this.editor._eventRegistry && this.editor._eventRegistry.mousemove;\n        if (!listeners || !listeners.length)\n            return;\n\n        this.editor._emit(name, new MouseEvent(e, this.editor));\n    };\n\n    this.onMouseWheel = function(name, e) {\n        var mouseEvent = new MouseEvent(e, this.editor);\n        mouseEvent.speed = this.$scrollSpeed * 2;\n        mouseEvent.wheelX = e.wheelX;\n        mouseEvent.wheelY = e.wheelY;\n\n        this.editor._emit(name, mouseEvent);\n    };\n    \n    this.setState = function(state) {\n        this.state = state;\n    };\n\n    this.captureMouse = function(ev, mouseMoveHandler) {\n        this.x = ev.x;\n        this.y = ev.y;\n\n        this.isMousePressed = true;\n        var editor = this.editor;\n        var renderer = this.editor.renderer;\n        renderer.$isMousePressed = true;\n\n        var self = this;\n        var onMouseMove = function(e) {\n            if (!e) return;\n            if (useragent.isWebKit && !e.which && self.releaseMouse)\n                return self.releaseMouse();\n\n            self.x = e.clientX;\n            self.y = e.clientY;\n            mouseMoveHandler && mouseMoveHandler(e);\n            self.mouseEvent = new MouseEvent(e, self.editor);\n            self.$mouseMoved = true;\n        };\n\n        var onCaptureEnd = function(e) {\n            editor.off(\"beforeEndOperation\", onOperationEnd);\n            clearInterval(timerId);\n            onCaptureInterval();\n            self[self.state + \"End\"] && self[self.state + \"End\"](e);\n            self.state = \"\";\n            self.isMousePressed = renderer.$isMousePressed = false;\n            if (renderer.$keepTextAreaAtCursor)\n                renderer.$moveTextAreaToCursor();\n            self.$onCaptureMouseMove = self.releaseMouse = null;\n            e && self.onMouseEvent(\"mouseup\", e);\n            editor.endOperation();\n        };\n\n        var onCaptureInterval = function() {\n            self[self.state] && self[self.state]();\n            self.$mouseMoved = false;\n        };\n\n        if (useragent.isOldIE && ev.domEvent.type == \"dblclick\") {\n            return setTimeout(function() {onCaptureEnd(ev);});\n        }\n\n        var onOperationEnd = function(e) {\n            if (!self.releaseMouse) return;\n            if (editor.curOp.command.name && editor.curOp.selectionChanged) {\n                self[self.state + \"End\"] && self[self.state + \"End\"]();\n                self.state = \"\";\n                self.releaseMouse();\n            }\n        };\n\n        editor.on(\"beforeEndOperation\", onOperationEnd);\n        editor.startOperation({command: {name: \"mouse\"}});\n\n        self.$onCaptureMouseMove = onMouseMove;\n        self.releaseMouse = event.capture(this.editor.container, onMouseMove, onCaptureEnd);\n        var timerId = setInterval(onCaptureInterval, 20);\n    };\n    this.releaseMouse = null;\n    this.cancelContextMenu = function() {\n        var stop = function(e) {\n            if (e && e.domEvent && e.domEvent.type != \"contextmenu\")\n                return;\n            this.editor.off(\"nativecontextmenu\", stop);\n            if (e && e.domEvent)\n                event.stopEvent(e.domEvent);\n        }.bind(this);\n        setTimeout(stop, 10);\n        this.editor.on(\"nativecontextmenu\", stop);\n    };\n    this.destroy = function() {\n        if (this.releaseMouse) this.releaseMouse();\n    };\n}).call(MouseHandler.prototype);\n\nconfig.defineOptions(MouseHandler.prototype, \"mouseHandler\", {\n    scrollSpeed: {initialValue: 2},\n    dragDelay: {initialValue: (useragent.isMac ? 150 : 0)},\n    dragEnabled: {initialValue: true},\n    focusTimeout: {initialValue: 0},\n    tooltipFollowsMouse: {initialValue: true}\n});\n\n\nexports.MouseHandler = MouseHandler;\n});\n\nace.define(\"ace/mouse/fold_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\nvar dom = require(\"../lib/dom\");\n\nfunction FoldHandler(editor) {\n\n    editor.on(\"click\", function(e) {\n        var position = e.getDocumentPosition();\n        var session = editor.session;\n        var fold = session.getFoldAt(position.row, position.column, 1);\n        if (fold) {\n            if (e.getAccelKey())\n                session.removeFold(fold);\n            else\n                session.expandFold(fold);\n\n            e.stop();\n        }\n        \n        var target = e.domEvent && e.domEvent.target;\n        if (target && dom.hasCssClass(target, \"ace_inline_button\")) {\n            if (dom.hasCssClass(target, \"ace_toggle_wrap\")) {\n                session.setOption(\"wrap\", !session.getUseWrapMode());\n                editor.renderer.scrollCursorIntoView();\n            }\n        }\n    });\n\n    editor.on(\"gutterclick\", function(e) {\n        var gutterRegion = editor.renderer.$gutterLayer.getRegion(e);\n\n        if (gutterRegion == \"foldWidgets\") {\n            var row = e.getDocumentPosition().row;\n            var session = editor.session;\n            if (session.foldWidgets && session.foldWidgets[row])\n                editor.session.onFoldWidgetClick(row, e);\n            if (!editor.isFocused())\n                editor.focus();\n            e.stop();\n        }\n    });\n\n    editor.on(\"gutterdblclick\", function(e) {\n        var gutterRegion = editor.renderer.$gutterLayer.getRegion(e);\n\n        if (gutterRegion == \"foldWidgets\") {\n            var row = e.getDocumentPosition().row;\n            var session = editor.session;\n            var data = session.getParentFoldRangeData(row, true);\n            var range = data.range || data.firstRange;\n\n            if (range) {\n                row = range.start.row;\n                var fold = session.getFoldAt(row, session.getLine(row).length, 1);\n\n                if (fold) {\n                    session.removeFold(fold);\n                } else {\n                    session.addFold(\"...\", range);\n                    editor.renderer.scrollCursorIntoView({row: range.start.row, column: 0});\n                }\n            }\n            e.stop();\n        }\n    });\n}\n\nexports.FoldHandler = FoldHandler;\n\n});\n\nace.define(\"ace/keyboard/keybinding\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/lib/event\"], function(require, exports, module) {\n\"use strict\";\n\nvar keyUtil  = require(\"../lib/keys\");\nvar event = require(\"../lib/event\");\n\nvar KeyBinding = function(editor) {\n    this.$editor = editor;\n    this.$data = {editor: editor};\n    this.$handlers = [];\n    this.setDefaultHandler(editor.commands);\n};\n\n(function() {\n    this.setDefaultHandler = function(kb) {\n        this.removeKeyboardHandler(this.$defaultHandler);\n        this.$defaultHandler = kb;\n        this.addKeyboardHandler(kb, 0);\n    };\n\n    this.setKeyboardHandler = function(kb) {\n        var h = this.$handlers;\n        if (h[h.length - 1] == kb)\n            return;\n\n        while (h[h.length - 1] && h[h.length - 1] != this.$defaultHandler)\n            this.removeKeyboardHandler(h[h.length - 1]);\n\n        this.addKeyboardHandler(kb, 1);\n    };\n\n    this.addKeyboardHandler = function(kb, pos) {\n        if (!kb)\n            return;\n        if (typeof kb == \"function\" && !kb.handleKeyboard)\n            kb.handleKeyboard = kb;\n        var i = this.$handlers.indexOf(kb);\n        if (i != -1)\n            this.$handlers.splice(i, 1);\n\n        if (pos == undefined)\n            this.$handlers.push(kb);\n        else\n            this.$handlers.splice(pos, 0, kb);\n\n        if (i == -1 && kb.attach)\n            kb.attach(this.$editor);\n    };\n\n    this.removeKeyboardHandler = function(kb) {\n        var i = this.$handlers.indexOf(kb);\n        if (i == -1)\n            return false;\n        this.$handlers.splice(i, 1);\n        kb.detach && kb.detach(this.$editor);\n        return true;\n    };\n\n    this.getKeyboardHandler = function() {\n        return this.$handlers[this.$handlers.length - 1];\n    };\n    \n    this.getStatusText = function() {\n        var data = this.$data;\n        var editor = data.editor;\n        return this.$handlers.map(function(h) {\n            return h.getStatusText && h.getStatusText(editor, data) || \"\";\n        }).filter(Boolean).join(\" \");\n    };\n\n    this.$callKeyboardHandlers = function(hashId, keyString, keyCode, e) {\n        var toExecute;\n        var success = false;\n        var commands = this.$editor.commands;\n\n        for (var i = this.$handlers.length; i--;) {\n            toExecute = this.$handlers[i].handleKeyboard(\n                this.$data, hashId, keyString, keyCode, e\n            );\n            if (!toExecute || !toExecute.command)\n                continue;\n            if (toExecute.command == \"null\") {\n                success = true;\n            } else {\n                success = commands.exec(toExecute.command, this.$editor, toExecute.args, e);\n            }\n            if (success && e && hashId != -1 && \n                toExecute.passEvent != true && toExecute.command.passEvent != true\n            ) {\n                event.stopEvent(e);\n            }\n            if (success)\n                break;\n        }\n        \n        if (!success && hashId == -1) {\n            toExecute = {command: \"insertstring\"};\n            success = commands.exec(\"insertstring\", this.$editor, keyString);\n        }\n        \n        if (success && this.$editor._signal)\n            this.$editor._signal(\"keyboardActivity\", toExecute);\n        \n        return success;\n    };\n\n    this.onCommandKey = function(e, hashId, keyCode) {\n        var keyString = keyUtil.keyCodeToString(keyCode);\n        return this.$callKeyboardHandlers(hashId, keyString, keyCode, e);\n    };\n\n    this.onTextInput = function(text) {\n        return this.$callKeyboardHandlers(-1, text);\n    };\n\n}).call(KeyBinding.prototype);\n\nexports.KeyBinding = KeyBinding;\n});\n\nace.define(\"ace/lib/bidiutil\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nvar ArabicAlefBetIntervalsBegine = ['\\u0621', '\\u0641'];\nvar ArabicAlefBetIntervalsEnd = ['\\u063A', '\\u064a'];\nvar dir = 0, hiLevel = 0;\nvar lastArabic = false, hasUBAT_AL = false,  hasUBAT_B = false,  hasUBAT_S = false, hasBlockSep = false, hasSegSep = false;\n\nvar impTab_LTR = [\t[\t0,\t\t3,\t\t0,\t\t1,\t\t0,\t\t0,\t\t0\t],\t[\t0,\t\t3,\t\t0,\t\t1,\t\t2,\t\t2,\t\t0\t],\t[\t0,\t\t3,\t\t0,\t\t0x11,\t\t2,\t\t0,\t\t1\t],\t[\t0,\t\t3,\t\t5,\t\t5,\t\t4,\t\t1,\t\t0\t],\t[\t0,\t\t3,\t\t0x15,\t\t0x15,\t\t4,\t\t0,\t\t1\t],\t[\t0,\t\t3,\t\t5,\t\t5,\t\t4,\t\t2,\t\t0\t]\n];\n\nvar impTab_RTL = [\t[\t2,\t\t0,\t\t1,\t\t1,\t\t0,\t\t1,\t\t0\t],\t[\t2,\t\t0,\t\t1,\t\t1,\t\t0,\t\t2,\t\t0\t],\t[\t2,\t\t0,\t\t2,\t\t1,\t\t3,\t\t2,\t\t0\t],\t[\t2,\t\t0,\t\t2,\t\t0x21,\t\t3,\t\t1,\t\t1\t]\n];\n\nvar LTR = 0, RTL = 1;\n\nvar L = 0;\nvar R = 1;\nvar EN = 2;\nvar AN = 3;\nvar ON = 4;\nvar B = 5;\nvar S = 6;\nvar AL = 7;\nvar WS = 8;\nvar CS = 9;\nvar ES = 10;\nvar ET = 11;\nvar NSM = 12;\nvar LRE = 13;\nvar RLE = 14;\nvar PDF = 15;\nvar LRO = 16;\nvar RLO = 17;\nvar BN = 18;\n\nvar UnicodeTBL00 = [\nBN,BN,BN,BN,BN,BN,BN,BN,BN,S,B,S,WS,B,BN,BN,\nBN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,B,B,B,S,\nWS,ON,ON,ET,ET,ET,ON,ON,ON,ON,ON,ES,CS,ES,CS,CS,\nEN,EN,EN,EN,EN,EN,EN,EN,EN,EN,CS,ON,ON,ON,ON,ON,\nON,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,\nL,L,L,L,L,L,L,L,L,L,L,ON,ON,ON,ON,ON,\nON,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,\nL,L,L,L,L,L,L,L,L,L,L,ON,ON,ON,ON,BN,\nBN,BN,BN,BN,BN,B,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,\nBN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,\nCS,ON,ET,ET,ET,ET,ON,ON,ON,ON,L,ON,ON,BN,ON,ON,\nET,ET,EN,EN,ON,L,ON,ON,ON,EN,L,ON,ON,ON,ON,ON\n];\n\nvar UnicodeTBL20 = [\nWS,WS,WS,WS,WS,WS,WS,WS,WS,WS,WS,BN,BN,BN,L,R\t,\nON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,\nON,ON,ON,ON,ON,ON,ON,ON,WS,B,LRE,RLE,PDF,LRO,RLO,CS,\nET,ET,ET,ET,ET,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,\nON,ON,ON,ON,CS,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,\nON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,WS\n];\n\nfunction _computeLevels(chars, levels, len, charTypes) {\n\tvar impTab = dir ? impTab_RTL : impTab_LTR\n\t\t, prevState = null, newClass = null, newLevel = null, newState = 0\n\t\t, action = null, cond = null, condPos = -1, i = null, ix = null, classes = [];\n\n\tif (!charTypes) {\n\t\tfor (i = 0, charTypes = []; i < len; i++) {\n\t\t\tcharTypes[i] = _getCharacterType(chars[i]);\n\t\t}\n\t}\n\thiLevel = dir;\n\tlastArabic = false;\n\thasUBAT_AL = false;\n\thasUBAT_B = false;\n\thasUBAT_S = false;\n\tfor (ix = 0; ix < len; ix++){\n\t\tprevState = newState;\n\t\tclasses[ix] = newClass = _getCharClass(chars, charTypes, classes, ix);\n\t\tnewState = impTab[prevState][newClass];\n\t\taction = newState & 0xF0;\n\t\tnewState &= 0x0F;\n\t\tlevels[ix] = newLevel = impTab[newState][5];\n\t\tif (action > 0){\n\t\t\tif (action == 0x10){\n\t\t\t\tfor(i = condPos; i < ix; i++){\n\t\t\t\t\tlevels[i] = 1;\n\t\t\t\t}\n\t\t\t\tcondPos = -1;\n\t\t\t} else {\n\t\t\t\tcondPos = -1;\n\t\t\t}\n\t\t}\n\t\tcond = impTab[newState][6];\n\t\tif (cond){\n\t\t\tif(condPos == -1){\n\t\t\t\tcondPos = ix;\n\t\t\t}\n\t\t}else{\n\t\t\tif (condPos > -1){\n\t\t\t\tfor(i = condPos; i < ix; i++){\n\t\t\t\t\tlevels[i] = newLevel;\n\t\t\t\t}\n\t\t\t\tcondPos = -1;\n\t\t\t}\n\t\t}\n\t\tif (charTypes[ix] == B){\n\t\t\tlevels[ix] = 0;\n\t\t}\n\t\thiLevel |= newLevel;\n\t}\n\tif (hasUBAT_S){\n\t\tfor(i = 0; i < len; i++){\n\t\t\tif(charTypes[i] == S){\n\t\t\t\tlevels[i] = dir;\n\t\t\t\tfor(var j = i - 1; j >= 0; j--){\n\t\t\t\t\tif(charTypes[j] == WS){\n\t\t\t\t\t\tlevels[j] = dir;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction _invertLevel(lev, levels, _array) {\n\tif (hiLevel < lev){\n\t\treturn;\n\t}\n\tif (lev == 1 && dir == RTL && !hasUBAT_B){\n\t\t_array.reverse();\n\t\treturn;\n\t}\n\tvar len = _array.length, start = 0, end, lo, hi, tmp;\n\twhile(start < len){\n\t\tif (levels[start] >= lev){\n\t\t\tend = start + 1;\n\t\twhile(end < len && levels[end] >= lev){\n\t\t\tend++;\n\t\t}\n\t\tfor(lo = start, hi = end - 1 ; lo < hi; lo++, hi--){\n\t\t\ttmp = _array[lo];\n\t\t\t_array[lo] = _array[hi];\n\t\t\t_array[hi] = tmp;\n\t\t}\n\t\tstart = end;\n\t}\n\tstart++;\n\t}\n}\n\nfunction _getCharClass(chars, types, classes, ix) {\t\t\t\n\tvar cType = types[ix], wType, nType, len, i;\n\tswitch(cType){\n\t\tcase L:\n\t\tcase R:\n\t\t\tlastArabic = false;\n\t\tcase ON:\n\t\tcase AN:\n\t\t\treturn cType;\n\t\tcase EN:\n\t\t\treturn lastArabic ? AN : EN;\n\t\tcase AL:\n\t\t\tlastArabic = true;\n\t\t\thasUBAT_AL = true;\n\t\t\treturn R;\n\t\tcase WS:\n\t\t\treturn ON;\n\t\tcase CS:\n\t\t\tif (ix < 1 || (ix + 1) >= types.length ||\n\t\t\t\t((wType = classes[ix - 1]) != EN && wType != AN) ||\n\t\t\t\t((nType = types[ix + 1]) != EN && nType != AN)){\n\t\t\t\treturn ON;\n\t\t\t}\n\t\t\tif (lastArabic){nType = AN;}\n\t\t\treturn nType == wType ? nType : ON;\n\t\tcase ES:\n\t\t\twType = ix > 0 ? classes[ix - 1] : B;\n\t\t\tif (wType == EN && (ix + 1) < types.length && types[ix + 1] == EN){\n\t\t\t\treturn EN;\n\t\t\t}\n\t\t\treturn ON;\n\t\tcase ET:\n\t\t\tif (ix > 0 && classes[ix - 1] == EN){\n\t\t\t\treturn EN;\n\t\t\t}\n\t\t\tif (lastArabic){\n\t\t\t\treturn ON;\n\t\t\t}\n\t\t\ti = ix + 1;\n\t\t\tlen = types.length;\n\t\t\twhile (i < len && types[i] == ET){\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tif (i < len && types[i] == EN){\n\t\t\t\treturn EN;\n\t\t\t}\n\t\t\treturn ON;\n\t\tcase NSM:\n\t\t\tlen = types.length;\n\t\t\ti = ix + 1;\n\t\t\twhile (i < len && types[i] == NSM){\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tif (i < len){\n\t\t\t\tvar c = chars[ix], rtlCandidate = (c >= 0x0591 && c <= 0x08FF) || c == 0xFB1E;\n\t\t\t\t\n\t\t\t\twType = types[i];\n\t\t\t\tif (rtlCandidate && (wType == R || wType == AL)){\n\t\t\t\t\treturn R;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (ix < 1 || (wType = types[ix - 1]) == B){\n\t\t\t\treturn ON;\n\t\t\t}\n\t\t\treturn classes[ix - 1];\n\t\tcase B:\n\t\t\tlastArabic = false;\n\t\t\thasUBAT_B = true;\n\t\t\treturn dir;\n\t\tcase S:\n\t\t\thasUBAT_S = true;\n\t\t\treturn ON;\n\t\tcase LRE:\n\t\tcase RLE:\n\t\tcase LRO:\n\t\tcase RLO:\n\t\tcase PDF:\n\t\t\tlastArabic = false;\n\t\tcase BN:\n\t\t\treturn ON;\n\t}\n}\n\nfunction _getCharacterType( ch ) {\t\t\n\tvar uc = ch.charCodeAt(0), hi = uc >> 8;\n\t\n\tif (hi == 0) {\t\t\n\t\treturn ((uc > 0x00BF) ? L : UnicodeTBL00[uc]);\n\t} else if (hi == 5) {\n\t\treturn (/[\\u0591-\\u05f4]/.test(ch) ? R : L);\n\t} else if (hi == 6) {\n\t\tif (/[\\u0610-\\u061a\\u064b-\\u065f\\u06d6-\\u06e4\\u06e7-\\u06ed]/.test(ch))\n\t\t\treturn NSM;\n\t\telse if (/[\\u0660-\\u0669\\u066b-\\u066c]/.test(ch))\n\t\t\treturn AN;\n\t\telse if (uc == 0x066A)\n\t\t\treturn ET;\n\t\telse if (/[\\u06f0-\\u06f9]/.test(ch))\n\t\t\treturn EN;\t\t\t\n\t\telse\n\t\t\treturn AL;\n\t} else if (hi == 0x20 && uc <= 0x205F) {\n\t\treturn UnicodeTBL20[uc & 0xFF];\n\t} else if (hi == 0xFE) {\n\t\treturn (uc >= 0xFE70 ? AL : ON);\n\t}\t\t\n\treturn ON;\t\n}\n\nfunction _isArabicDiacritics( ch ) {\n\treturn (ch >= '\\u064b' && ch <= '\\u0655');\n}\nexports.L = L;\nexports.R = R;\nexports.EN = EN;\nexports.ON_R = 3;\nexports.AN = 4;\nexports.R_H = 5;\nexports.B = 6;\nexports.RLE = 7;\n\nexports.DOT = \"\\xB7\";\nexports.doBidiReorder = function(text, textCharTypes, isRtl) {\n\tif (text.length < 2)\n\t\treturn {};\n\t\t\n\tvar chars = text.split(\"\"), logicalFromVisual = new Array(chars.length),\n\t\tbidiLevels = new Array(chars.length), levels = []; \n\n\tdir = isRtl ? RTL : LTR;\n\n\t_computeLevels(chars, levels, chars.length, textCharTypes);\n\n\tfor (var i = 0; i < logicalFromVisual.length; logicalFromVisual[i] = i, i++);\n\n\t_invertLevel(2, levels, logicalFromVisual);\n\t_invertLevel(1, levels, logicalFromVisual);\n\n\tfor (var i = 0; i < logicalFromVisual.length - 1; i++) { //fix levels to reflect character width\n\t\tif (textCharTypes[i] === AN) {\n\t\t\tlevels[i] = exports.AN;\n\t\t} else if (levels[i] === R && ((textCharTypes[i] > AL && textCharTypes[i] < LRE) \n\t\t\t|| textCharTypes[i] === ON || textCharTypes[i] === BN)) {\n\t\t\tlevels[i] = exports.ON_R;\n\t\t} else if ((i > 0 && chars[i - 1] === '\\u0644') && /\\u0622|\\u0623|\\u0625|\\u0627/.test(chars[i])) {\n\t\t\tlevels[i - 1] = levels[i] = exports.R_H;\n\t\t\ti++;\n\t\t}\n\t}\n\tif (chars[chars.length - 1] === exports.DOT)\n\t\tlevels[chars.length - 1] = exports.B;\n\t\t\t\t\n\tif (chars[0] === '\\u202B')\n\t\tlevels[0] = exports.RLE;\n\t\t\t\t\n\tfor (var i = 0; i < logicalFromVisual.length; i++) {\n\t\tbidiLevels[i] = levels[logicalFromVisual[i]];\n\t}\n\n\treturn {'logicalFromVisual': logicalFromVisual, 'bidiLevels': bidiLevels};\n};\nexports.hasBidiCharacters = function(text, textCharTypes){\n\tvar ret = false;\n\tfor (var i = 0; i < text.length; i++){\n\t\ttextCharTypes[i] = _getCharacterType(text.charAt(i));\n\t\tif (!ret && (textCharTypes[i] == R || textCharTypes[i] == AL || textCharTypes[i] == AN))\n\t\t\tret = true;\n\t}\n\treturn ret;\n};\t\nexports.getVisualFromLogicalIdx = function(logIdx, rowMap) {\n\tfor (var i = 0; i < rowMap.logicalFromVisual.length; i++) {\n\t\tif (rowMap.logicalFromVisual[i] == logIdx)\n\t\t\treturn i;\n\t}\n\treturn 0;\n};\n\n});\n\nace.define(\"ace/bidihandler\",[\"require\",\"exports\",\"module\",\"ace/lib/bidiutil\",\"ace/lib/lang\"], function(require, exports, module) {\n\"use strict\";\n\nvar bidiUtil = require(\"./lib/bidiutil\");\nvar lang = require(\"./lib/lang\");\nvar bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac\\u202B]/;\nvar BidiHandler = function(session) {\n    this.session = session;\n    this.bidiMap = {};\n    this.currentRow = null;\n    this.bidiUtil = bidiUtil;\n    this.charWidths = [];\n    this.EOL = \"\\xAC\";\n    this.showInvisibles = true;\n    this.isRtlDir = false;\n    this.$isRtl = false;\n    this.line = \"\";\n    this.wrapIndent = 0;\n    this.EOF = \"\\xB6\";\n    this.RLE = \"\\u202B\";\n    this.contentWidth = 0;\n    this.fontMetrics = null;\n    this.rtlLineOffset = 0;\n    this.wrapOffset = 0;\n    this.isMoveLeftOperation = false;\n    this.seenBidi = bidiRE.test(session.getValue());\n};\n\n(function() {\n    this.isBidiRow = function(screenRow, docRow, splitIndex) {\n        if (!this.seenBidi)\n            return false;\n        if (screenRow !== this.currentRow) {\n            this.currentRow = screenRow;\n            this.updateRowLine(docRow, splitIndex);\n            this.updateBidiMap();\n        }\n        return this.bidiMap.bidiLevels;\n    };\n\n    this.onChange = function(delta) {\n        if (!this.seenBidi) {\n            if (delta.action == \"insert\" && bidiRE.test(delta.lines.join(\"\\n\"))) {\n                this.seenBidi = true;\n                this.currentRow = null;\n            }\n        } \n        else {\n            this.currentRow = null;\n        }\n    };\n\n    this.getDocumentRow = function() {\n        var docRow = 0;\n        var rowCache = this.session.$screenRowCache;\n        if (rowCache.length) {\n            var index = this.session.$getRowCacheIndex(rowCache, this.currentRow);\n            if (index >= 0)\n                docRow = this.session.$docRowCache[index];\n        }\n\n        return docRow;\n    };\n\n    this.getSplitIndex = function() {\n        var splitIndex = 0;\n        var rowCache = this.session.$screenRowCache;\n        if (rowCache.length) {\n            var currentIndex, prevIndex = this.session.$getRowCacheIndex(rowCache, this.currentRow);\n            while (this.currentRow - splitIndex > 0) {\n                currentIndex = this.session.$getRowCacheIndex(rowCache, this.currentRow - splitIndex - 1);\n                if (currentIndex !== prevIndex)\n                    break;\n\n                prevIndex = currentIndex;\n                splitIndex++;\n            }\n        } else {\n            splitIndex = this.currentRow;\n        }\n\n        return splitIndex;\n    };\n\n    this.updateRowLine = function(docRow, splitIndex) {\n        if (docRow === undefined)\n            docRow = this.getDocumentRow();\n            \n        var isLastRow = (docRow === this.session.getLength() - 1),\n            endOfLine = isLastRow ? this.EOF : this.EOL;\n\n        this.wrapIndent = 0;\n        this.line = this.session.getLine(docRow);\n        this.isRtlDir = this.$isRtl || this.line.charAt(0) === this.RLE;\n        if (this.session.$useWrapMode) {\n            var splits = this.session.$wrapData[docRow];\n            if (splits) {\n                if (splitIndex === undefined)\n                    splitIndex = this.getSplitIndex();\n\n                if(splitIndex > 0 && splits.length) {\n                    this.wrapIndent = splits.indent;\n                    this.wrapOffset = this.wrapIndent * this.charWidths[bidiUtil.L];\n                    this.line = (splitIndex < splits.length) ?\n                        this.line.substring(splits[splitIndex - 1], splits[splitIndex]) :\n                            this.line.substring(splits[splits.length - 1]);\n                } else {\n                    this.line = this.line.substring(0, splits[splitIndex]);\n                }\n            }\n            if (splitIndex == splits.length)\n                this.line += (this.showInvisibles) ? endOfLine : bidiUtil.DOT;\n        } else {\n            this.line += this.showInvisibles ? endOfLine : bidiUtil.DOT;\n        }\n        var session = this.session, shift = 0, size;\n        this.line = this.line.replace(/\\t|[\\u1100-\\u2029, \\u202F-\\uFFE6]/g, function(ch, i){\n            if (ch === '\\t' || session.isFullWidth(ch.charCodeAt(0))) {\n                size = (ch === '\\t') ? session.getScreenTabSize(i + shift) : 2;\n                shift += size - 1;\n                return lang.stringRepeat(bidiUtil.DOT, size);\n            }\n            return ch;\n        });\n\n        if (this.isRtlDir) {\n            this.fontMetrics.$main.textContent = (this.line.charAt(this.line.length - 1) == bidiUtil.DOT) ? this.line.substr(0, this.line.length - 1) : this.line;\n            this.rtlLineOffset = this.contentWidth - this.fontMetrics.$main.getBoundingClientRect().width;\n        }\n    };\n    \n    this.updateBidiMap = function() {\n        var textCharTypes = [];\n        if (bidiUtil.hasBidiCharacters(this.line, textCharTypes) || this.isRtlDir) {\n             this.bidiMap = bidiUtil.doBidiReorder(this.line, textCharTypes, this.isRtlDir);\n        } else {\n            this.bidiMap = {};\n        }\n    };\n    this.markAsDirty = function() {\n        this.currentRow = null;\n    };\n    this.updateCharacterWidths = function(fontMetrics) {\n        if (this.characterWidth === fontMetrics.$characterSize.width)\n            return;\n\n        this.fontMetrics = fontMetrics;\n        var characterWidth = this.characterWidth = fontMetrics.$characterSize.width;\n        var bidiCharWidth = fontMetrics.$measureCharWidth(\"\\u05d4\");\n\n        this.charWidths[bidiUtil.L] = this.charWidths[bidiUtil.EN] = this.charWidths[bidiUtil.ON_R] = characterWidth;\n        this.charWidths[bidiUtil.R] = this.charWidths[bidiUtil.AN] = bidiCharWidth;\n        this.charWidths[bidiUtil.R_H] = bidiCharWidth * 0.45;\n        this.charWidths[bidiUtil.B] = this.charWidths[bidiUtil.RLE] = 0;\n\n        this.currentRow = null;\n    };\n\n    this.setShowInvisibles = function(showInvisibles) {\n        this.showInvisibles = showInvisibles;\n        this.currentRow = null;\n    };\n\n    this.setEolChar = function(eolChar) {\n        this.EOL = eolChar; \n    };\n\n    this.setContentWidth = function(width) {\n        this.contentWidth = width;\n    };\n\n    this.isRtlLine = function(row) {\n        if (this.$isRtl) return true;\n        if (row != undefined)\n            return (this.session.getLine(row).charAt(0) == this.RLE);\n        else\n            return this.isRtlDir; \n    };\n\n    this.setRtlDirection = function(editor, isRtlDir) {\n        var cursor = editor.getCursorPosition(); \n        for (var row = editor.selection.getSelectionAnchor().row; row <= cursor.row; row++) {\n            if (!isRtlDir && editor.session.getLine(row).charAt(0) === editor.session.$bidiHandler.RLE)\n                editor.session.doc.removeInLine(row, 0, 1);\n            else if (isRtlDir && editor.session.getLine(row).charAt(0) !== editor.session.$bidiHandler.RLE)\n                editor.session.doc.insert({column: 0, row: row}, editor.session.$bidiHandler.RLE);\n        }\n    };\n    this.getPosLeft = function(col) {\n        col -= this.wrapIndent;\n        var leftBoundary = (this.line.charAt(0) === this.RLE) ? 1 : 0;\n        var logicalIdx = (col > leftBoundary) ? (this.session.getOverwrite() ? col : col - 1) : leftBoundary;\n        var visualIdx = bidiUtil.getVisualFromLogicalIdx(logicalIdx, this.bidiMap),\n            levels = this.bidiMap.bidiLevels, left = 0;\n\n        if (!this.session.getOverwrite() && col <= leftBoundary && levels[visualIdx] % 2 !== 0)\n            visualIdx++;\n            \n        for (var i = 0; i < visualIdx; i++) {\n            left += this.charWidths[levels[i]];\n        }\n\n        if (!this.session.getOverwrite() && (col > leftBoundary) && (levels[visualIdx] % 2 === 0))\n            left += this.charWidths[levels[visualIdx]];\n\n        if (this.wrapIndent)\n            left += this.isRtlDir ? (-1 * this.wrapOffset) : this.wrapOffset;\n\n        if (this.isRtlDir)\n            left += this.rtlLineOffset;\n\n        return left;\n    };\n    this.getSelections = function(startCol, endCol) {\n        var map = this.bidiMap, levels = map.bidiLevels, level, selections = [], offset = 0,\n            selColMin = Math.min(startCol, endCol) - this.wrapIndent, selColMax = Math.max(startCol, endCol) - this.wrapIndent,\n                isSelected = false, isSelectedPrev = false, selectionStart = 0;\n            \n        if (this.wrapIndent)\n            offset += this.isRtlDir ? (-1 * this.wrapOffset) : this.wrapOffset;\n\n        for (var logIdx, visIdx = 0; visIdx < levels.length; visIdx++) {\n            logIdx = map.logicalFromVisual[visIdx];\n            level = levels[visIdx];\n            isSelected = (logIdx >= selColMin) && (logIdx < selColMax);\n            if (isSelected && !isSelectedPrev) {\n                selectionStart = offset;\n            } else if (!isSelected && isSelectedPrev) {\n                selections.push({left: selectionStart, width: offset - selectionStart});\n            }\n            offset += this.charWidths[level];\n            isSelectedPrev = isSelected;\n        }\n\n        if (isSelected && (visIdx === levels.length)) {\n            selections.push({left: selectionStart, width: offset - selectionStart});\n        }\n\n        if(this.isRtlDir) {\n            for (var i = 0; i < selections.length; i++) {\n                selections[i].left += this.rtlLineOffset;\n            }\n        }\n        return selections;\n    };\n    this.offsetToCol = function(posX) {\n        if(this.isRtlDir)\n            posX -= this.rtlLineOffset;\n\n        var logicalIdx = 0, posX = Math.max(posX, 0),\n            offset = 0, visualIdx = 0, levels = this.bidiMap.bidiLevels,\n                charWidth = this.charWidths[levels[visualIdx]];\n\n        if (this.wrapIndent)\n           posX -= this.isRtlDir ? (-1 * this.wrapOffset) : this.wrapOffset;\n    \n        while(posX > offset + charWidth/2) {\n            offset += charWidth;\n            if(visualIdx === levels.length - 1) {\n                charWidth = 0;\n                break;\n            }\n            charWidth = this.charWidths[levels[++visualIdx]];\n        }\n    \n        if (visualIdx > 0 && (levels[visualIdx - 1] % 2 !== 0) && (levels[visualIdx] % 2 === 0)){\n            if(posX < offset)\n                visualIdx--;\n            logicalIdx = this.bidiMap.logicalFromVisual[visualIdx];\n\n        } else if (visualIdx > 0 && (levels[visualIdx - 1] % 2 === 0) && (levels[visualIdx] % 2 !== 0)){\n            logicalIdx = 1 + ((posX > offset) ? this.bidiMap.logicalFromVisual[visualIdx]\n                    : this.bidiMap.logicalFromVisual[visualIdx - 1]);\n\n        } else if ((this.isRtlDir && visualIdx === levels.length - 1 && charWidth === 0 && (levels[visualIdx - 1] % 2 === 0))\n                || (!this.isRtlDir && visualIdx === 0 && (levels[visualIdx] % 2 !== 0))){\n            logicalIdx = 1 + this.bidiMap.logicalFromVisual[visualIdx];\n        } else {\n            if (visualIdx > 0 && (levels[visualIdx - 1] % 2 !== 0) && charWidth !== 0)\n                visualIdx--;\n            logicalIdx = this.bidiMap.logicalFromVisual[visualIdx];\n        }\n\n        if (logicalIdx === 0 && this.isRtlDir)\n            logicalIdx++;\n\n        return (logicalIdx + this.wrapIndent);\n    };\n\n}).call(BidiHandler.prototype);\n\nexports.BidiHandler = BidiHandler;\n});\n\nace.define(\"ace/selection\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/lib/event_emitter\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar lang = require(\"./lib/lang\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Range = require(\"./range\").Range;\nvar Selection = function(session) {\n    this.session = session;\n    this.doc = session.getDocument();\n\n    this.clearSelection();\n    this.cursor = this.lead = this.doc.createAnchor(0, 0);\n    this.anchor = this.doc.createAnchor(0, 0);\n    this.$silent = false;\n\n    var self = this;\n    this.cursor.on(\"change\", function(e) {\n        self.$cursorChanged = true;\n        if (!self.$silent)\n            self._emit(\"changeCursor\");\n        if (!self.$isEmpty && !self.$silent)\n            self._emit(\"changeSelection\");\n        if (!self.$keepDesiredColumnOnChange && e.old.column != e.value.column)\n            self.$desiredColumn = null;\n    });\n\n    this.anchor.on(\"change\", function() {\n        self.$anchorChanged = true;\n        if (!self.$isEmpty && !self.$silent)\n            self._emit(\"changeSelection\");\n    });\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.isEmpty = function() {\n        return this.$isEmpty || (\n            this.anchor.row == this.lead.row &&\n            this.anchor.column == this.lead.column\n        );\n    };\n    this.isMultiLine = function() {\n        return !this.$isEmpty && this.anchor.row != this.cursor.row;\n    };\n    this.getCursor = function() {\n        return this.lead.getPosition();\n    };\n    this.setSelectionAnchor = function(row, column) {\n        this.$isEmpty = false;\n        this.anchor.setPosition(row, column);\n    };\n    this.getAnchor = \n    this.getSelectionAnchor = function() {\n        if (this.$isEmpty)\n            return this.getSelectionLead();\n        \n        return this.anchor.getPosition();\n    };\n    this.getSelectionLead = function() {\n        return this.lead.getPosition();\n    };\n    this.isBackwards = function() {\n        var anchor = this.anchor;\n        var lead = this.lead;\n        return (anchor.row > lead.row || (anchor.row == lead.row && anchor.column > lead.column));\n    };\n    this.getRange = function() {\n        var anchor = this.anchor;\n        var lead = this.lead;\n\n        if (this.$isEmpty)\n            return Range.fromPoints(lead, lead);\n\n        return this.isBackwards()\n            ? Range.fromPoints(lead, anchor)\n            : Range.fromPoints(anchor, lead);\n    };\n    this.clearSelection = function() {\n        if (!this.$isEmpty) {\n            this.$isEmpty = true;\n            this._emit(\"changeSelection\");\n        }\n    };\n    this.selectAll = function() {\n        this.$setSelection(0, 0, Number.MAX_VALUE, Number.MAX_VALUE);\n    };\n    this.setRange =\n    this.setSelectionRange = function(range, reverse) {\n        var start = reverse ? range.end : range.start;\n        var end = reverse ? range.start : range.end;\n        this.$setSelection(start.row, start.column, end.row, end.column);\n    };\n\n    this.$setSelection = function(anchorRow, anchorColumn, cursorRow, cursorColumn) {\n        if (this.$silent)\n            return;\n        var wasEmpty = this.$isEmpty;\n        var wasMultiselect = this.inMultiSelectMode;\n        this.$silent = true;\n        this.$cursorChanged = this.$anchorChanged = false;\n        this.anchor.setPosition(anchorRow, anchorColumn);\n        this.cursor.setPosition(cursorRow, cursorColumn);\n        this.$isEmpty = !Range.comparePoints(this.anchor, this.cursor);\n        this.$silent = false;\n        if (this.$cursorChanged)\n            this._emit(\"changeCursor\");\n        if (this.$cursorChanged || this.$anchorChanged || wasEmpty != this.$isEmpty || wasMultiselect)\n            this._emit(\"changeSelection\");\n    };\n\n    this.$moveSelection = function(mover) {\n        var lead = this.lead;\n        if (this.$isEmpty)\n            this.setSelectionAnchor(lead.row, lead.column);\n\n        mover.call(this);\n    };\n    this.selectTo = function(row, column) {\n        this.$moveSelection(function() {\n            this.moveCursorTo(row, column);\n        });\n    };\n    this.selectToPosition = function(pos) {\n        this.$moveSelection(function() {\n            this.moveCursorToPosition(pos);\n        });\n    };\n    this.moveTo = function(row, column) {\n        this.clearSelection();\n        this.moveCursorTo(row, column);\n    };\n    this.moveToPosition = function(pos) {\n        this.clearSelection();\n        this.moveCursorToPosition(pos);\n    };\n    this.selectUp = function() {\n        this.$moveSelection(this.moveCursorUp);\n    };\n    this.selectDown = function() {\n        this.$moveSelection(this.moveCursorDown);\n    };\n    this.selectRight = function() {\n        this.$moveSelection(this.moveCursorRight);\n    };\n    this.selectLeft = function() {\n        this.$moveSelection(this.moveCursorLeft);\n    };\n    this.selectLineStart = function() {\n        this.$moveSelection(this.moveCursorLineStart);\n    };\n    this.selectLineEnd = function() {\n        this.$moveSelection(this.moveCursorLineEnd);\n    };\n    this.selectFileEnd = function() {\n        this.$moveSelection(this.moveCursorFileEnd);\n    };\n    this.selectFileStart = function() {\n        this.$moveSelection(this.moveCursorFileStart);\n    };\n    this.selectWordRight = function() {\n        this.$moveSelection(this.moveCursorWordRight);\n    };\n    this.selectWordLeft = function() {\n        this.$moveSelection(this.moveCursorWordLeft);\n    };\n    this.getWordRange = function(row, column) {\n        if (typeof column == \"undefined\") {\n            var cursor = row || this.lead;\n            row = cursor.row;\n            column = cursor.column;\n        }\n        return this.session.getWordRange(row, column);\n    };\n    this.selectWord = function() {\n        this.setSelectionRange(this.getWordRange());\n    };\n    this.selectAWord = function() {\n        var cursor = this.getCursor();\n        var range = this.session.getAWordRange(cursor.row, cursor.column);\n        this.setSelectionRange(range);\n    };\n\n    this.getLineRange = function(row, excludeLastChar) {\n        var rowStart = typeof row == \"number\" ? row : this.lead.row;\n        var rowEnd;\n\n        var foldLine = this.session.getFoldLine(rowStart);\n        if (foldLine) {\n            rowStart = foldLine.start.row;\n            rowEnd = foldLine.end.row;\n        } else {\n            rowEnd = rowStart;\n        }\n        if (excludeLastChar === true)\n            return new Range(rowStart, 0, rowEnd, this.session.getLine(rowEnd).length);\n        else\n            return new Range(rowStart, 0, rowEnd + 1, 0);\n    };\n    this.selectLine = function() {\n        this.setSelectionRange(this.getLineRange());\n    };\n    this.moveCursorUp = function() {\n        this.moveCursorBy(-1, 0);\n    };\n    this.moveCursorDown = function() {\n        this.moveCursorBy(1, 0);\n    };\n    this.wouldMoveIntoSoftTab = function(cursor, tabSize, direction) {\n        var start = cursor.column;\n        var end = cursor.column + tabSize;\n\n        if (direction < 0) {\n            start = cursor.column - tabSize;\n            end = cursor.column;\n        }\n        return this.session.isTabStop(cursor) && this.doc.getLine(cursor.row).slice(start, end).split(\" \").length-1 == tabSize;\n    };\n    this.moveCursorLeft = function() {\n        var cursor = this.lead.getPosition(),\n            fold;\n\n        if (fold = this.session.getFoldAt(cursor.row, cursor.column, -1)) {\n            this.moveCursorTo(fold.start.row, fold.start.column);\n        } else if (cursor.column === 0) {\n            if (cursor.row > 0) {\n                this.moveCursorTo(cursor.row - 1, this.doc.getLine(cursor.row - 1).length);\n            }\n        }\n        else {\n            var tabSize = this.session.getTabSize();\n            if (this.wouldMoveIntoSoftTab(cursor, tabSize, -1) && !this.session.getNavigateWithinSoftTabs()) {\n                this.moveCursorBy(0, -tabSize);\n            } else {\n                this.moveCursorBy(0, -1);\n            }\n        }\n    };\n    this.moveCursorRight = function() {\n        var cursor = this.lead.getPosition(),\n            fold;\n        if (fold = this.session.getFoldAt(cursor.row, cursor.column, 1)) {\n            this.moveCursorTo(fold.end.row, fold.end.column);\n        }\n        else if (this.lead.column == this.doc.getLine(this.lead.row).length) {\n            if (this.lead.row < this.doc.getLength() - 1) {\n                this.moveCursorTo(this.lead.row + 1, 0);\n            }\n        }\n        else {\n            var tabSize = this.session.getTabSize();\n            var cursor = this.lead;\n            if (this.wouldMoveIntoSoftTab(cursor, tabSize, 1) && !this.session.getNavigateWithinSoftTabs()) {\n                this.moveCursorBy(0, tabSize);\n            } else {\n                this.moveCursorBy(0, 1);\n            }\n        }\n    };\n    this.moveCursorLineStart = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var screenRow = this.session.documentToScreenRow(row, column);\n        var firstColumnPosition = this.session.screenToDocumentPosition(screenRow, 0);\n        var beforeCursor = this.session.getDisplayLine(\n            row, null, firstColumnPosition.row,\n            firstColumnPosition.column\n        );\n\n        var leadingSpace = beforeCursor.match(/^\\s*/);\n        if (leadingSpace[0].length != column && !this.session.$useEmacsStyleLineStart)\n            firstColumnPosition.column += leadingSpace[0].length;\n        this.moveCursorToPosition(firstColumnPosition);\n    };\n    this.moveCursorLineEnd = function() {\n        var lead = this.lead;\n        var lineEnd = this.session.getDocumentLastRowColumnPosition(lead.row, lead.column);\n        if (this.lead.column == lineEnd.column) {\n            var line = this.session.getLine(lineEnd.row);\n            if (lineEnd.column == line.length) {\n                var textEnd = line.search(/\\s+$/);\n                if (textEnd > 0)\n                    lineEnd.column = textEnd;\n            }\n        }\n\n        this.moveCursorTo(lineEnd.row, lineEnd.column);\n    };\n    this.moveCursorFileEnd = function() {\n        var row = this.doc.getLength() - 1;\n        var column = this.doc.getLine(row).length;\n        this.moveCursorTo(row, column);\n    };\n    this.moveCursorFileStart = function() {\n        this.moveCursorTo(0, 0);\n    };\n    this.moveCursorLongWordRight = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var line = this.doc.getLine(row);\n        var rightOfCursor = line.substring(column);\n\n        this.session.nonTokenRe.lastIndex = 0;\n        this.session.tokenRe.lastIndex = 0;\n        var fold = this.session.getFoldAt(row, column, 1);\n        if (fold) {\n            this.moveCursorTo(fold.end.row, fold.end.column);\n            return;\n        }\n        if (this.session.nonTokenRe.exec(rightOfCursor)) {\n            column += this.session.nonTokenRe.lastIndex;\n            this.session.nonTokenRe.lastIndex = 0;\n            rightOfCursor = line.substring(column);\n        }\n        if (column >= line.length) {\n            this.moveCursorTo(row, line.length);\n            this.moveCursorRight();\n            if (row < this.doc.getLength() - 1)\n                this.moveCursorWordRight();\n            return;\n        }\n        if (this.session.tokenRe.exec(rightOfCursor)) {\n            column += this.session.tokenRe.lastIndex;\n            this.session.tokenRe.lastIndex = 0;\n        }\n\n        this.moveCursorTo(row, column);\n    };\n    this.moveCursorLongWordLeft = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var fold;\n        if (fold = this.session.getFoldAt(row, column, -1)) {\n            this.moveCursorTo(fold.start.row, fold.start.column);\n            return;\n        }\n\n        var str = this.session.getFoldStringAt(row, column, -1);\n        if (str == null) {\n            str = this.doc.getLine(row).substring(0, column);\n        }\n\n        var leftOfCursor = lang.stringReverse(str);\n        this.session.nonTokenRe.lastIndex = 0;\n        this.session.tokenRe.lastIndex = 0;\n        if (this.session.nonTokenRe.exec(leftOfCursor)) {\n            column -= this.session.nonTokenRe.lastIndex;\n            leftOfCursor = leftOfCursor.slice(this.session.nonTokenRe.lastIndex);\n            this.session.nonTokenRe.lastIndex = 0;\n        }\n        if (column <= 0) {\n            this.moveCursorTo(row, 0);\n            this.moveCursorLeft();\n            if (row > 0)\n                this.moveCursorWordLeft();\n            return;\n        }\n        if (this.session.tokenRe.exec(leftOfCursor)) {\n            column -= this.session.tokenRe.lastIndex;\n            this.session.tokenRe.lastIndex = 0;\n        }\n\n        this.moveCursorTo(row, column);\n    };\n\n    this.$shortWordEndIndex = function(rightOfCursor) {\n        var index = 0, ch;\n        var whitespaceRe = /\\s/;\n        var tokenRe = this.session.tokenRe;\n\n        tokenRe.lastIndex = 0;\n        if (this.session.tokenRe.exec(rightOfCursor)) {\n            index = this.session.tokenRe.lastIndex;\n        } else {\n            while ((ch = rightOfCursor[index]) && whitespaceRe.test(ch))\n                index ++;\n\n            if (index < 1) {\n                tokenRe.lastIndex = 0;\n                 while ((ch = rightOfCursor[index]) && !tokenRe.test(ch)) {\n                    tokenRe.lastIndex = 0;\n                    index ++;\n                    if (whitespaceRe.test(ch)) {\n                        if (index > 2) {\n                            index--;\n                            break;\n                        } else {\n                            while ((ch = rightOfCursor[index]) && whitespaceRe.test(ch))\n                                index ++;\n                            if (index > 2)\n                                break;\n                        }\n                    }\n                }\n            }\n        }\n        tokenRe.lastIndex = 0;\n\n        return index;\n    };\n\n    this.moveCursorShortWordRight = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var line = this.doc.getLine(row);\n        var rightOfCursor = line.substring(column);\n\n        var fold = this.session.getFoldAt(row, column, 1);\n        if (fold)\n            return this.moveCursorTo(fold.end.row, fold.end.column);\n\n        if (column == line.length) {\n            var l = this.doc.getLength();\n            do {\n                row++;\n                rightOfCursor = this.doc.getLine(row);\n            } while (row < l && /^\\s*$/.test(rightOfCursor));\n\n            if (!/^\\s+/.test(rightOfCursor))\n                rightOfCursor = \"\";\n            column = 0;\n        }\n\n        var index = this.$shortWordEndIndex(rightOfCursor);\n\n        this.moveCursorTo(row, column + index);\n    };\n\n    this.moveCursorShortWordLeft = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n\n        var fold;\n        if (fold = this.session.getFoldAt(row, column, -1))\n            return this.moveCursorTo(fold.start.row, fold.start.column);\n\n        var line = this.session.getLine(row).substring(0, column);\n        if (column === 0) {\n            do {\n                row--;\n                line = this.doc.getLine(row);\n            } while (row > 0 && /^\\s*$/.test(line));\n\n            column = line.length;\n            if (!/\\s+$/.test(line))\n                line = \"\";\n        }\n\n        var leftOfCursor = lang.stringReverse(line);\n        var index = this.$shortWordEndIndex(leftOfCursor);\n\n        return this.moveCursorTo(row, column - index);\n    };\n\n    this.moveCursorWordRight = function() {\n        if (this.session.$selectLongWords)\n            this.moveCursorLongWordRight();\n        else\n            this.moveCursorShortWordRight();\n    };\n\n    this.moveCursorWordLeft = function() {\n        if (this.session.$selectLongWords)\n            this.moveCursorLongWordLeft();\n        else\n            this.moveCursorShortWordLeft();\n    };\n    this.moveCursorBy = function(rows, chars) {\n        var screenPos = this.session.documentToScreenPosition(\n            this.lead.row,\n            this.lead.column\n        );\n\n        var offsetX;\n\n        if (chars === 0) {\n            if (rows !== 0) {\n                if (this.session.$bidiHandler.isBidiRow(screenPos.row, this.lead.row)) {\n                    offsetX = this.session.$bidiHandler.getPosLeft(screenPos.column);\n                    screenPos.column = Math.round(offsetX / this.session.$bidiHandler.charWidths[0]);\n                } else {\n                    offsetX = screenPos.column * this.session.$bidiHandler.charWidths[0];\n                }\n            }\n\n            if (this.$desiredColumn)\n                screenPos.column = this.$desiredColumn;\n            else\n                this.$desiredColumn = screenPos.column;\n        }\n        \n        if (rows != 0 && this.session.lineWidgets && this.session.lineWidgets[this.lead.row]) {\n            var widget = this.session.lineWidgets[this.lead.row];\n            if (rows < 0)\n                rows -= widget.rowsAbove || 0;\n            else if (rows > 0)\n                rows += widget.rowCount - (widget.rowsAbove || 0);\n        }\n        \n        var docPos = this.session.screenToDocumentPosition(screenPos.row + rows, screenPos.column, offsetX);\n        \n        if (rows !== 0 && chars === 0 && docPos.row === this.lead.row && docPos.column === this.lead.column) {\n            \n        }\n        this.moveCursorTo(docPos.row, docPos.column + chars, chars === 0);\n    };\n    this.moveCursorToPosition = function(position) {\n        this.moveCursorTo(position.row, position.column);\n    };\n    this.moveCursorTo = function(row, column, keepDesiredColumn) {\n        var fold = this.session.getFoldAt(row, column, 1);\n        if (fold) {\n            row = fold.start.row;\n            column = fold.start.column;\n        }\n\n        this.$keepDesiredColumnOnChange = true;\n        var line = this.session.getLine(row);\n        if (/[\\uDC00-\\uDFFF]/.test(line.charAt(column)) && line.charAt(column - 1)) {\n            if (this.lead.row == row && this.lead.column == column + 1)\n                column = column - 1;\n            else\n                column = column + 1;\n        }\n        this.lead.setPosition(row, column);\n        this.$keepDesiredColumnOnChange = false;\n\n        if (!keepDesiredColumn)\n            this.$desiredColumn = null;\n    };\n    this.moveCursorToScreen = function(row, column, keepDesiredColumn) {\n        var pos = this.session.screenToDocumentPosition(row, column);\n        this.moveCursorTo(pos.row, pos.column, keepDesiredColumn);\n    };\n    this.detach = function() {\n        this.lead.detach();\n        this.anchor.detach();\n        this.session = this.doc = null;\n    };\n\n    this.fromOrientedRange = function(range) {\n        this.setSelectionRange(range, range.cursor == range.start);\n        this.$desiredColumn = range.desiredColumn || this.$desiredColumn;\n    };\n\n    this.toOrientedRange = function(range) {\n        var r = this.getRange();\n        if (range) {\n            range.start.column = r.start.column;\n            range.start.row = r.start.row;\n            range.end.column = r.end.column;\n            range.end.row = r.end.row;\n        } else {\n            range = r;\n        }\n\n        range.cursor = this.isBackwards() ? range.start : range.end;\n        range.desiredColumn = this.$desiredColumn;\n        return range;\n    };\n    this.getRangeOfMovements = function(func) {\n        var start = this.getCursor();\n        try {\n            func(this);\n            var end = this.getCursor();\n            return Range.fromPoints(start, end);\n        } catch(e) {\n            return Range.fromPoints(start, start);\n        } finally {\n            this.moveCursorToPosition(start);\n        }\n    };\n\n    this.toJSON = function() {\n        if (this.rangeCount) {\n            var data = this.ranges.map(function(r) {\n                var r1 = r.clone();\n                r1.isBackwards = r.cursor == r.start;\n                return r1;\n            });\n        } else {\n            var data = this.getRange();\n            data.isBackwards = this.isBackwards();\n        }\n        return data;\n    };\n\n    this.fromJSON = function(data) {\n        if (data.start == undefined) {\n            if (this.rangeList && data.length > 1) {\n                this.toSingleRange(data[0]);\n                for (var i = data.length; i--; ) {\n                    var r = Range.fromPoints(data[i].start, data[i].end);\n                    if (data[i].isBackwards)\n                        r.cursor = r.start;\n                    this.addRange(r, true);\n                }\n                return;\n            } else {\n                data = data[0];\n            }\n        }\n        if (this.rangeList)\n            this.toSingleRange(data);\n        this.setSelectionRange(data, data.isBackwards);\n    };\n\n    this.isEqual = function(data) {\n        if ((data.length || this.rangeCount) && data.length != this.rangeCount)\n            return false;\n        if (!data.length || !this.ranges)\n            return this.getRange().isEqual(data);\n\n        for (var i = this.ranges.length; i--; ) {\n            if (!this.ranges[i].isEqual(data[i]))\n                return false;\n        }\n        return true;\n    };\n\n}).call(Selection.prototype);\n\nexports.Selection = Selection;\n});\n\nace.define(\"ace/tokenizer\",[\"require\",\"exports\",\"module\",\"ace/config\"], function(require, exports, module) {\n\"use strict\";\n\nvar config = require(\"./config\");\nvar MAX_TOKEN_COUNT = 2000;\nvar Tokenizer = function(rules) {\n    this.states = rules;\n\n    this.regExps = {};\n    this.matchMappings = {};\n    for (var key in this.states) {\n        var state = this.states[key];\n        var ruleRegExps = [];\n        var matchTotal = 0;\n        var mapping = this.matchMappings[key] = {defaultToken: \"text\"};\n        var flag = \"g\";\n\n        var splitterRurles = [];\n        for (var i = 0; i < state.length; i++) {\n            var rule = state[i];\n            if (rule.defaultToken)\n                mapping.defaultToken = rule.defaultToken;\n            if (rule.caseInsensitive)\n                flag = \"gi\";\n            if (rule.regex == null)\n                continue;\n\n            if (rule.regex instanceof RegExp)\n                rule.regex = rule.regex.toString().slice(1, -1);\n            var adjustedregex = rule.regex;\n            var matchcount = new RegExp(\"(?:(\" + adjustedregex + \")|(.))\").exec(\"a\").length - 2;\n            if (Array.isArray(rule.token)) {\n                if (rule.token.length == 1 || matchcount == 1) {\n                    rule.token = rule.token[0];\n                } else if (matchcount - 1 != rule.token.length) {\n                    this.reportError(\"number of classes and regexp groups doesn't match\", { \n                        rule: rule,\n                        groupCount: matchcount - 1\n                    });\n                    rule.token = rule.token[0];\n                } else {\n                    rule.tokenArray = rule.token;\n                    rule.token = null;\n                    rule.onMatch = this.$arrayTokens;\n                }\n            } else if (typeof rule.token == \"function\" && !rule.onMatch) {\n                if (matchcount > 1)\n                    rule.onMatch = this.$applyToken;\n                else\n                    rule.onMatch = rule.token;\n            }\n\n            if (matchcount > 1) {\n                if (/\\\\\\d/.test(rule.regex)) {\n                    adjustedregex = rule.regex.replace(/\\\\([0-9]+)/g, function(match, digit) {\n                        return \"\\\\\" + (parseInt(digit, 10) + matchTotal + 1);\n                    });\n                } else {\n                    matchcount = 1;\n                    adjustedregex = this.removeCapturingGroups(rule.regex);\n                }\n                if (!rule.splitRegex && typeof rule.token != \"string\")\n                    splitterRurles.push(rule); // flag will be known only at the very end\n            }\n\n            mapping[matchTotal] = i;\n            matchTotal += matchcount;\n\n            ruleRegExps.push(adjustedregex);\n            if (!rule.onMatch)\n                rule.onMatch = null;\n        }\n        \n        if (!ruleRegExps.length) {\n            mapping[0] = 0;\n            ruleRegExps.push(\"$\");\n        }\n        \n        splitterRurles.forEach(function(rule) {\n            rule.splitRegex = this.createSplitterRegexp(rule.regex, flag);\n        }, this);\n\n        this.regExps[key] = new RegExp(\"(\" + ruleRegExps.join(\")|(\") + \")|($)\", flag);\n    }\n};\n\n(function() {\n    this.$setMaxTokenCount = function(m) {\n        MAX_TOKEN_COUNT = m | 0;\n    };\n    \n    this.$applyToken = function(str) {\n        var values = this.splitRegex.exec(str).slice(1);\n        var types = this.token.apply(this, values);\n        if (typeof types === \"string\")\n            return [{type: types, value: str}];\n\n        var tokens = [];\n        for (var i = 0, l = types.length; i < l; i++) {\n            if (values[i])\n                tokens[tokens.length] = {\n                    type: types[i],\n                    value: values[i]\n                };\n        }\n        return tokens;\n    };\n\n    this.$arrayTokens = function(str) {\n        if (!str)\n            return [];\n        var values = this.splitRegex.exec(str);\n        if (!values)\n            return \"text\";\n        var tokens = [];\n        var types = this.tokenArray;\n        for (var i = 0, l = types.length; i < l; i++) {\n            if (values[i + 1])\n                tokens[tokens.length] = {\n                    type: types[i],\n                    value: values[i + 1]\n                };\n        }\n        return tokens;\n    };\n\n    this.removeCapturingGroups = function(src) {\n        var r = src.replace(\n            /\\\\.|\\[(?:\\\\.|[^\\\\\\]])*|\\(\\?[:=!]|(\\()/g,\n            function(x, y) {return y ? \"(?:\" : x;}\n        );\n        return r;\n    };\n\n    this.createSplitterRegexp = function(src, flag) {\n        if (src.indexOf(\"(?=\") != -1) {\n            var stack = 0;\n            var inChClass = false;\n            var lastCapture = {};\n            src.replace(/(\\\\.)|(\\((?:\\?[=!])?)|(\\))|([\\[\\]])/g, function(\n                m, esc, parenOpen, parenClose, square, index\n            ) {\n                if (inChClass) {\n                    inChClass = square != \"]\";\n                } else if (square) {\n                    inChClass = true;\n                } else if (parenClose) {\n                    if (stack == lastCapture.stack) {\n                        lastCapture.end = index+1;\n                        lastCapture.stack = -1;\n                    }\n                    stack--;\n                } else if (parenOpen) {\n                    stack++;\n                    if (parenOpen.length != 1) {\n                        lastCapture.stack = stack;\n                        lastCapture.start = index;\n                    }\n                }\n                return m;\n            });\n\n            if (lastCapture.end != null && /^\\)*$/.test(src.substr(lastCapture.end)))\n                src = src.substring(0, lastCapture.start) + src.substr(lastCapture.end);\n        }\n        if (src.charAt(0) != \"^\") src = \"^\" + src;\n        if (src.charAt(src.length - 1) != \"$\") src += \"$\";\n        \n        return new RegExp(src, (flag||\"\").replace(\"g\", \"\"));\n    };\n    this.getLineTokens = function(line, startState) {\n        if (startState && typeof startState != \"string\") {\n            var stack = startState.slice(0);\n            startState = stack[0];\n            if (startState === \"#tmp\") {\n                stack.shift();\n                startState = stack.shift();\n            }\n        } else\n            var stack = [];\n\n        var currentState = startState || \"start\";\n        var state = this.states[currentState];\n        if (!state) {\n            currentState = \"start\";\n            state = this.states[currentState];\n        }\n        var mapping = this.matchMappings[currentState];\n        var re = this.regExps[currentState];\n        re.lastIndex = 0;\n\n        var match, tokens = [];\n        var lastIndex = 0;\n        var matchAttempts = 0;\n\n        var token = {type: null, value: \"\"};\n\n        while (match = re.exec(line)) {\n            var type = mapping.defaultToken;\n            var rule = null;\n            var value = match[0];\n            var index = re.lastIndex;\n\n            if (index - value.length > lastIndex) {\n                var skipped = line.substring(lastIndex, index - value.length);\n                if (token.type == type) {\n                    token.value += skipped;\n                } else {\n                    if (token.type)\n                        tokens.push(token);\n                    token = {type: type, value: skipped};\n                }\n            }\n\n            for (var i = 0; i < match.length-2; i++) {\n                if (match[i + 1] === undefined)\n                    continue;\n\n                rule = state[mapping[i]];\n\n                if (rule.onMatch)\n                    type = rule.onMatch(value, currentState, stack, line);\n                else\n                    type = rule.token;\n\n                if (rule.next) {\n                    if (typeof rule.next == \"string\") {\n                        currentState = rule.next;\n                    } else {\n                        currentState = rule.next(currentState, stack);\n                    }\n                    \n                    state = this.states[currentState];\n                    if (!state) {\n                        this.reportError(\"state doesn't exist\", currentState);\n                        currentState = \"start\";\n                        state = this.states[currentState];\n                    }\n                    mapping = this.matchMappings[currentState];\n                    lastIndex = index;\n                    re = this.regExps[currentState];\n                    re.lastIndex = index;\n                }\n                if (rule.consumeLineEnd)\n                    lastIndex = index;\n                break;\n            }\n\n            if (value) {\n                if (typeof type === \"string\") {\n                    if ((!rule || rule.merge !== false) && token.type === type) {\n                        token.value += value;\n                    } else {\n                        if (token.type)\n                            tokens.push(token);\n                        token = {type: type, value: value};\n                    }\n                } else if (type) {\n                    if (token.type)\n                        tokens.push(token);\n                    token = {type: null, value: \"\"};\n                    for (var i = 0; i < type.length; i++)\n                        tokens.push(type[i]);\n                }\n            }\n\n            if (lastIndex == line.length)\n                break;\n\n            lastIndex = index;\n\n            if (matchAttempts++ > MAX_TOKEN_COUNT) {\n                if (matchAttempts > 2 * line.length) {\n                    this.reportError(\"infinite loop with in ace tokenizer\", {\n                        startState: startState,\n                        line: line\n                    });\n                }\n                while (lastIndex < line.length) {\n                    if (token.type)\n                        tokens.push(token);\n                    token = {\n                        value: line.substring(lastIndex, lastIndex += 500),\n                        type: \"overflow\"\n                    };\n                }\n                currentState = \"start\";\n                stack = [];\n                break;\n            }\n        }\n\n        if (token.type)\n            tokens.push(token);\n        \n        if (stack.length > 1) {\n            if (stack[0] !== currentState)\n                stack.unshift(\"#tmp\", currentState);\n        }\n        return {\n            tokens : tokens,\n            state : stack.length ? stack : currentState\n        };\n    };\n    \n    this.reportError = config.reportError;\n    \n}).call(Tokenizer.prototype);\n\nexports.Tokenizer = Tokenizer;\n});\n\nace.define(\"ace/mode/text_highlight_rules\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\"], function(require, exports, module) {\n\"use strict\";\n\nvar lang = require(\"../lib/lang\");\n\nvar TextHighlightRules = function() {\n\n    this.$rules = {\n        \"start\" : [{\n            token : \"empty_line\",\n            regex : '^$'\n        }, {\n            defaultToken : \"text\"\n        }]\n    };\n};\n\n(function() {\n\n    this.addRules = function(rules, prefix) {\n        if (!prefix) {\n            for (var key in rules)\n                this.$rules[key] = rules[key];\n            return;\n        }\n        for (var key in rules) {\n            var state = rules[key];\n            for (var i = 0; i < state.length; i++) {\n                var rule = state[i];\n                if (rule.next || rule.onMatch) {\n                    if (typeof rule.next == \"string\") {\n                        if (rule.next.indexOf(prefix) !== 0)\n                            rule.next = prefix + rule.next;\n                    }\n                    if (rule.nextState && rule.nextState.indexOf(prefix) !== 0)\n                        rule.nextState = prefix + rule.nextState;\n                }\n            }\n            this.$rules[prefix + key] = state;\n        }\n    };\n\n    this.getRules = function() {\n        return this.$rules;\n    };\n\n    this.embedRules = function (HighlightRules, prefix, escapeRules, states, append) {\n        var embedRules = typeof HighlightRules == \"function\"\n            ? new HighlightRules().getRules()\n            : HighlightRules;\n        if (states) {\n            for (var i = 0; i < states.length; i++)\n                states[i] = prefix + states[i];\n        } else {\n            states = [];\n            for (var key in embedRules)\n                states.push(prefix + key);\n        }\n\n        this.addRules(embedRules, prefix);\n\n        if (escapeRules) {\n            var addRules = Array.prototype[append ? \"push\" : \"unshift\"];\n            for (var i = 0; i < states.length; i++)\n                addRules.apply(this.$rules[states[i]], lang.deepCopy(escapeRules));\n        }\n\n        if (!this.$embeds)\n            this.$embeds = [];\n        this.$embeds.push(prefix);\n    };\n\n    this.getEmbeds = function() {\n        return this.$embeds;\n    };\n\n    var pushState = function(currentState, stack) {\n        if (currentState != \"start\" || stack.length)\n            stack.unshift(this.nextState, currentState);\n        return this.nextState;\n    };\n    var popState = function(currentState, stack) {\n        stack.shift();\n        return stack.shift() || \"start\";\n    };\n\n    this.normalizeRules = function() {\n        var id = 0;\n        var rules = this.$rules;\n        function processState(key) {\n            var state = rules[key];\n            state.processed = true;\n            for (var i = 0; i < state.length; i++) {\n                var rule = state[i];\n                var toInsert = null;\n                if (Array.isArray(rule)) {\n                    toInsert = rule;\n                    rule = {};\n                }\n                if (!rule.regex && rule.start) {\n                    rule.regex = rule.start;\n                    if (!rule.next)\n                        rule.next = [];\n                    rule.next.push({\n                        defaultToken: rule.token\n                    }, {\n                        token: rule.token + \".end\",\n                        regex: rule.end || rule.start,\n                        next: \"pop\"\n                    });\n                    rule.token = rule.token + \".start\";\n                    rule.push = true;\n                }\n                var next = rule.next || rule.push;\n                if (next && Array.isArray(next)) {\n                    var stateName = rule.stateName;\n                    if (!stateName)  {\n                        stateName = rule.token;\n                        if (typeof stateName != \"string\")\n                            stateName = stateName[0] || \"\";\n                        if (rules[stateName])\n                            stateName += id++;\n                    }\n                    rules[stateName] = next;\n                    rule.next = stateName;\n                    processState(stateName);\n                } else if (next == \"pop\") {\n                    rule.next = popState;\n                }\n\n                if (rule.push) {\n                    rule.nextState = rule.next || rule.push;\n                    rule.next = pushState;\n                    delete rule.push;\n                }\n\n                if (rule.rules) {\n                    for (var r in rule.rules) {\n                        if (rules[r]) {\n                            if (rules[r].push)\n                                rules[r].push.apply(rules[r], rule.rules[r]);\n                        } else {\n                            rules[r] = rule.rules[r];\n                        }\n                    }\n                }\n                var includeName = typeof rule == \"string\" ? rule : rule.include;\n                if (includeName) {\n                    if (Array.isArray(includeName))\n                        toInsert = includeName.map(function(x) { return rules[x]; });\n                    else\n                        toInsert = rules[includeName];\n                }\n\n                if (toInsert) {\n                    var args = [i, 1].concat(toInsert);\n                    if (rule.noEscape)\n                        args = args.filter(function(x) {return !x.next;});\n                    state.splice.apply(state, args);\n                    i--;\n                }\n                \n                if (rule.keywordMap) {\n                    rule.token = this.createKeywordMapper(\n                        rule.keywordMap, rule.defaultToken || \"text\", rule.caseInsensitive\n                    );\n                    delete rule.defaultToken;\n                }\n            }\n        }\n        Object.keys(rules).forEach(processState, this);\n    };\n\n    this.createKeywordMapper = function(map, defaultToken, ignoreCase, splitChar) {\n        var keywords = Object.create(null);\n        this.$keywordList = [];\n        Object.keys(map).forEach(function(className) {\n            var a = map[className];\n            var list = a.split(splitChar || \"|\");\n            for (var i = list.length; i--; ) {\n                var word = list[i];\n                this.$keywordList.push(word);\n                if (ignoreCase)\n                    word = word.toLowerCase(); \n                keywords[word] = className;\n            }\n        }, this);\n        map = null;\n        return ignoreCase\n            ? function(value) {return keywords[value.toLowerCase()] || defaultToken; }\n            : function(value) {return keywords[value] || defaultToken; };\n    };\n\n    this.getKeywords = function() {\n        return this.$keywords;\n    };\n\n}).call(TextHighlightRules.prototype);\n\nexports.TextHighlightRules = TextHighlightRules;\n});\n\nace.define(\"ace/mode/behaviour\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nvar Behaviour = function() {\n   this.$behaviours = {};\n};\n\n(function () {\n\n    this.add = function (name, action, callback) {\n        switch (undefined) {\n          case this.$behaviours:\n              this.$behaviours = {};\n          case this.$behaviours[name]:\n              this.$behaviours[name] = {};\n        }\n        this.$behaviours[name][action] = callback;\n    };\n    \n    this.addBehaviours = function (behaviours) {\n        for (var key in behaviours) {\n            for (var action in behaviours[key]) {\n                this.add(key, action, behaviours[key][action]);\n            }\n        }\n    };\n    \n    this.remove = function (name) {\n        if (this.$behaviours && this.$behaviours[name]) {\n            delete this.$behaviours[name];\n        }\n    };\n    \n    this.inherit = function (mode, filter) {\n        if (typeof mode === \"function\") {\n            var behaviours = new mode().getBehaviours(filter);\n        } else {\n            var behaviours = mode.getBehaviours(filter);\n        }\n        this.addBehaviours(behaviours);\n    };\n    \n    this.getBehaviours = function (filter) {\n        if (!filter) {\n            return this.$behaviours;\n        } else {\n            var ret = {};\n            for (var i = 0; i < filter.length; i++) {\n                if (this.$behaviours[filter[i]]) {\n                    ret[filter[i]] = this.$behaviours[filter[i]];\n                }\n            }\n            return ret;\n        }\n    };\n\n}).call(Behaviour.prototype);\n\nexports.Behaviour = Behaviour;\n});\n\nace.define(\"ace/token_iterator\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar Range = require(\"./range\").Range;\nvar TokenIterator = function(session, initialRow, initialColumn) {\n    this.$session = session;\n    this.$row = initialRow;\n    this.$rowTokens = session.getTokens(initialRow);\n\n    var token = session.getTokenAt(initialRow, initialColumn);\n    this.$tokenIndex = token ? token.index : -1;\n};\n\n(function() { \n    this.stepBackward = function() {\n        this.$tokenIndex -= 1;\n        \n        while (this.$tokenIndex < 0) {\n            this.$row -= 1;\n            if (this.$row < 0) {\n                this.$row = 0;\n                return null;\n            }\n                \n            this.$rowTokens = this.$session.getTokens(this.$row);\n            this.$tokenIndex = this.$rowTokens.length - 1;\n        }\n            \n        return this.$rowTokens[this.$tokenIndex];\n    };   \n    this.stepForward = function() {\n        this.$tokenIndex += 1;\n        var rowCount;\n        while (this.$tokenIndex >= this.$rowTokens.length) {\n            this.$row += 1;\n            if (!rowCount)\n                rowCount = this.$session.getLength();\n            if (this.$row >= rowCount) {\n                this.$row = rowCount - 1;\n                return null;\n            }\n\n            this.$rowTokens = this.$session.getTokens(this.$row);\n            this.$tokenIndex = 0;\n        }\n            \n        return this.$rowTokens[this.$tokenIndex];\n    };      \n    this.getCurrentToken = function () {\n        return this.$rowTokens[this.$tokenIndex];\n    };      \n    this.getCurrentTokenRow = function () {\n        return this.$row;\n    };     \n    this.getCurrentTokenColumn = function() {\n        var rowTokens = this.$rowTokens;\n        var tokenIndex = this.$tokenIndex;\n        var column = rowTokens[tokenIndex].start;\n        if (column !== undefined)\n            return column;\n            \n        column = 0;\n        while (tokenIndex > 0) {\n            tokenIndex -= 1;\n            column += rowTokens[tokenIndex].value.length;\n        }\n        \n        return column;  \n    };\n    this.getCurrentTokenPosition = function() {\n        return {row: this.$row, column: this.getCurrentTokenColumn()};\n    };\n    this.getCurrentTokenRange = function() {\n        var token = this.$rowTokens[this.$tokenIndex];\n        var column = this.getCurrentTokenColumn();\n        return new Range(this.$row, column, this.$row, column + token.value.length);\n    };\n    \n}).call(TokenIterator.prototype);\n\nexports.TokenIterator = TokenIterator;\n});\n\nace.define(\"ace/mode/behaviour/cstyle\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/behaviour\",\"ace/token_iterator\",\"ace/lib/lang\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../../lib/oop\");\nvar Behaviour = require(\"../behaviour\").Behaviour;\nvar TokenIterator = require(\"../../token_iterator\").TokenIterator;\nvar lang = require(\"../../lib/lang\");\n\nvar SAFE_INSERT_IN_TOKENS =\n    [\"text\", \"paren.rparen\", \"rparen\", \"paren\", \"punctuation.operator\"];\nvar SAFE_INSERT_BEFORE_TOKENS =\n    [\"text\", \"paren.rparen\", \"rparen\", \"paren\", \"punctuation.operator\", \"comment\"];\n\nvar context;\nvar contextCache = {};\nvar defaultQuotes = {'\"' : '\"', \"'\" : \"'\"};\n\nvar initContext = function(editor) {\n    var id = -1;\n    if (editor.multiSelect) {\n        id = editor.selection.index;\n        if (contextCache.rangeCount != editor.multiSelect.rangeCount)\n            contextCache = {rangeCount: editor.multiSelect.rangeCount};\n    }\n    if (contextCache[id])\n        return context = contextCache[id];\n    context = contextCache[id] = {\n        autoInsertedBrackets: 0,\n        autoInsertedRow: -1,\n        autoInsertedLineEnd: \"\",\n        maybeInsertedBrackets: 0,\n        maybeInsertedRow: -1,\n        maybeInsertedLineStart: \"\",\n        maybeInsertedLineEnd: \"\"\n    };\n};\n\nvar getWrapped = function(selection, selected, opening, closing) {\n    var rowDiff = selection.end.row - selection.start.row;\n    return {\n        text: opening + selected + closing,\n        selection: [\n                0,\n                selection.start.column + 1,\n                rowDiff,\n                selection.end.column + (rowDiff ? 0 : 1)\n            ]\n    };\n};\n\nvar CstyleBehaviour = function(options) {\n    this.add(\"braces\", \"insertion\", function(state, action, editor, session, text) {\n        var cursor = editor.getCursorPosition();\n        var line = session.doc.getLine(cursor.row);\n        if (text == '{') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && selected !== \"{\" && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, '{', '}');\n            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                if (/[\\]\\}\\)]/.test(line[cursor.column]) || editor.inMultiSelectMode || options && options.braces) {\n                    CstyleBehaviour.recordAutoInsert(editor, session, \"}\");\n                    return {\n                        text: '{}',\n                        selection: [1, 1]\n                    };\n                } else {\n                    CstyleBehaviour.recordMaybeInsert(editor, session, \"{\");\n                    return {\n                        text: '{',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        } else if (text == '}') {\n            initContext(editor);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == '}') {\n                var matching = session.$findOpeningBracket('}', {column: cursor.column + 1, row: cursor.row});\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        } else if (text == \"\\n\" || text == \"\\r\\n\") {\n            initContext(editor);\n            var closing = \"\";\n            if (CstyleBehaviour.isMaybeInsertedClosing(cursor, line)) {\n                closing = lang.stringRepeat(\"}\", context.maybeInsertedBrackets);\n                CstyleBehaviour.clearMaybeInsertedClosing();\n            }\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar === '}') {\n                var openBracePos = session.findMatchingBracket({row: cursor.row, column: cursor.column+1}, '}');\n                if (!openBracePos)\n                     return null;\n                var next_indent = this.$getIndent(session.getLine(openBracePos.row));\n            } else if (closing) {\n                var next_indent = this.$getIndent(line);\n            } else {\n                CstyleBehaviour.clearMaybeInsertedClosing();\n                return;\n            }\n            var indent = next_indent + session.getTabString();\n\n            return {\n                text: '\\n' + indent + '\\n' + next_indent + closing,\n                selection: [1, indent.length, 1, indent.length]\n            };\n        } else {\n            CstyleBehaviour.clearMaybeInsertedClosing();\n        }\n    });\n\n    this.add(\"braces\", \"deletion\", function(state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '{') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.end.column, range.end.column + 1);\n            if (rightChar == '}') {\n                range.end.column++;\n                return range;\n            } else {\n                context.maybeInsertedBrackets--;\n            }\n        }\n    });\n\n    this.add(\"parens\", \"insertion\", function(state, action, editor, session, text) {\n        if (text == '(') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, '(', ')');\n            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                CstyleBehaviour.recordAutoInsert(editor, session, \")\");\n                return {\n                    text: '()',\n                    selection: [1, 1]\n                };\n            }\n        } else if (text == ')') {\n            initContext(editor);\n            var cursor = editor.getCursorPosition();\n            var line = session.doc.getLine(cursor.row);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == ')') {\n                var matching = session.$findOpeningBracket(')', {column: cursor.column + 1, row: cursor.row});\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        }\n    });\n\n    this.add(\"parens\", \"deletion\", function(state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '(') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == ')') {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n\n    this.add(\"brackets\", \"insertion\", function(state, action, editor, session, text) {\n        if (text == '[') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, '[', ']');\n            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                CstyleBehaviour.recordAutoInsert(editor, session, \"]\");\n                return {\n                    text: '[]',\n                    selection: [1, 1]\n                };\n            }\n        } else if (text == ']') {\n            initContext(editor);\n            var cursor = editor.getCursorPosition();\n            var line = session.doc.getLine(cursor.row);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == ']') {\n                var matching = session.$findOpeningBracket(']', {column: cursor.column + 1, row: cursor.row});\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        }\n    });\n\n    this.add(\"brackets\", \"deletion\", function(state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '[') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == ']') {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n\n    this.add(\"string_dquotes\", \"insertion\", function(state, action, editor, session, text) {\n        var quotes = session.$mode.$quotes || defaultQuotes;\n        if (text.length == 1 && quotes[text]) {\n            if (this.lineCommentStart && this.lineCommentStart.indexOf(text) != -1) \n                return;\n            initContext(editor);\n            var quote = text;\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && (selected.length != 1 || !quotes[selected]) && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, quote, quote);\n            } else if (!selected) {\n                var cursor = editor.getCursorPosition();\n                var line = session.doc.getLine(cursor.row);\n                var leftChar = line.substring(cursor.column-1, cursor.column);\n                var rightChar = line.substring(cursor.column, cursor.column + 1);\n                \n                var token = session.getTokenAt(cursor.row, cursor.column);\n                var rightToken = session.getTokenAt(cursor.row, cursor.column + 1);\n                if (leftChar == \"\\\\\" && token && /escape/.test(token.type))\n                    return null;\n                \n                var stringBefore = token && /string|escape/.test(token.type);\n                var stringAfter = !rightToken || /string|escape/.test(rightToken.type);\n                \n                var pair;\n                if (rightChar == quote) {\n                    pair = stringBefore !== stringAfter;\n                    if (pair && /string\\.end/.test(rightToken.type))\n                        pair = false;\n                } else {\n                    if (stringBefore && !stringAfter)\n                        return null; // wrap string with different quote\n                    if (stringBefore && stringAfter)\n                        return null; // do not pair quotes inside strings\n                    var wordRe = session.$mode.tokenRe;\n                    wordRe.lastIndex = 0;\n                    var isWordBefore = wordRe.test(leftChar);\n                    wordRe.lastIndex = 0;\n                    var isWordAfter = wordRe.test(leftChar);\n                    if (isWordBefore || isWordAfter)\n                        return null; // before or after alphanumeric\n                    if (rightChar && !/[\\s;,.})\\]\\\\]/.test(rightChar))\n                        return null; // there is rightChar and it isn't closing\n                    var charBefore = line[cursor.column - 2];\n                    if (leftChar == quote &&  (charBefore == quote || wordRe.test(charBefore)))\n                        return null;\n                    pair = true;\n                }\n                return {\n                    text: pair ? quote + quote : \"\",\n                    selection: [1,1]\n                };\n            }\n        }\n    });\n\n    this.add(\"string_dquotes\", \"deletion\", function(state, action, editor, session, range) {\n        var quotes = session.$mode.$quotes || defaultQuotes;\n\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && quotes.hasOwnProperty(selected)) {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == selected) {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n\n};\n\n    \nCstyleBehaviour.isSaneInsertion = function(editor, session) {\n    var cursor = editor.getCursorPosition();\n    var iterator = new TokenIterator(session, cursor.row, cursor.column);\n    if (!this.$matchTokenType(iterator.getCurrentToken() || \"text\", SAFE_INSERT_IN_TOKENS)) {\n        if (/[)}\\]]/.test(editor.session.getLine(cursor.row)[cursor.column]))\n            return true;\n        var iterator2 = new TokenIterator(session, cursor.row, cursor.column + 1);\n        if (!this.$matchTokenType(iterator2.getCurrentToken() || \"text\", SAFE_INSERT_IN_TOKENS))\n            return false;\n    }\n    iterator.stepForward();\n    return iterator.getCurrentTokenRow() !== cursor.row ||\n        this.$matchTokenType(iterator.getCurrentToken() || \"text\", SAFE_INSERT_BEFORE_TOKENS);\n};\n\nCstyleBehaviour.$matchTokenType = function(token, types) {\n    return types.indexOf(token.type || token) > -1;\n};\n\nCstyleBehaviour.recordAutoInsert = function(editor, session, bracket) {\n    var cursor = editor.getCursorPosition();\n    var line = session.doc.getLine(cursor.row);\n    if (!this.isAutoInsertedClosing(cursor, line, context.autoInsertedLineEnd[0]))\n        context.autoInsertedBrackets = 0;\n    context.autoInsertedRow = cursor.row;\n    context.autoInsertedLineEnd = bracket + line.substr(cursor.column);\n    context.autoInsertedBrackets++;\n};\n\nCstyleBehaviour.recordMaybeInsert = function(editor, session, bracket) {\n    var cursor = editor.getCursorPosition();\n    var line = session.doc.getLine(cursor.row);\n    if (!this.isMaybeInsertedClosing(cursor, line))\n        context.maybeInsertedBrackets = 0;\n    context.maybeInsertedRow = cursor.row;\n    context.maybeInsertedLineStart = line.substr(0, cursor.column) + bracket;\n    context.maybeInsertedLineEnd = line.substr(cursor.column);\n    context.maybeInsertedBrackets++;\n};\n\nCstyleBehaviour.isAutoInsertedClosing = function(cursor, line, bracket) {\n    return context.autoInsertedBrackets > 0 &&\n        cursor.row === context.autoInsertedRow &&\n        bracket === context.autoInsertedLineEnd[0] &&\n        line.substr(cursor.column) === context.autoInsertedLineEnd;\n};\n\nCstyleBehaviour.isMaybeInsertedClosing = function(cursor, line) {\n    return context.maybeInsertedBrackets > 0 &&\n        cursor.row === context.maybeInsertedRow &&\n        line.substr(cursor.column) === context.maybeInsertedLineEnd &&\n        line.substr(0, cursor.column) == context.maybeInsertedLineStart;\n};\n\nCstyleBehaviour.popAutoInsertedClosing = function() {\n    context.autoInsertedLineEnd = context.autoInsertedLineEnd.substr(1);\n    context.autoInsertedBrackets--;\n};\n\nCstyleBehaviour.clearMaybeInsertedClosing = function() {\n    if (context) {\n        context.maybeInsertedBrackets = 0;\n        context.maybeInsertedRow = -1;\n    }\n};\n\n\n\noop.inherits(CstyleBehaviour, Behaviour);\n\nexports.CstyleBehaviour = CstyleBehaviour;\n});\n\nace.define(\"ace/unicode\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\nvar wordChars = [48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2];\n\nvar code = 0;\nvar str = [];\nfor (var i = 0; i < wordChars.length; i += 2) {\n    str.push(code += wordChars[i]);\n    if (wordChars[i + 1])\n        str.push(45, code += wordChars[i + 1]);\n}\n\nexports.wordChars = String.fromCharCode.apply(null, str);\n\n});\n\nace.define(\"ace/mode/text\",[\"require\",\"exports\",\"module\",\"ace/config\",\"ace/tokenizer\",\"ace/mode/text_highlight_rules\",\"ace/mode/behaviour/cstyle\",\"ace/unicode\",\"ace/lib/lang\",\"ace/token_iterator\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\nvar config = require(\"../config\");\n\nvar Tokenizer = require(\"../tokenizer\").Tokenizer;\nvar TextHighlightRules = require(\"./text_highlight_rules\").TextHighlightRules;\nvar CstyleBehaviour = require(\"./behaviour/cstyle\").CstyleBehaviour;\nvar unicode = require(\"../unicode\");\nvar lang = require(\"../lib/lang\");\nvar TokenIterator = require(\"../token_iterator\").TokenIterator;\nvar Range = require(\"../range\").Range;\n\nvar Mode = function() {\n    this.HighlightRules = TextHighlightRules;\n};\n\n(function() {\n    this.$defaultBehaviour = new CstyleBehaviour();\n\n    this.tokenRe = new RegExp(\"^[\" + unicode.wordChars + \"\\\\$_]+\", \"g\");\n\n    this.nonTokenRe = new RegExp(\"^(?:[^\" + unicode.wordChars + \"\\\\$_]|\\\\s])+\", \"g\");\n\n    this.getTokenizer = function() {\n        if (!this.$tokenizer) {\n            this.$highlightRules = this.$highlightRules || new this.HighlightRules(this.$highlightRuleConfig);\n            this.$tokenizer = new Tokenizer(this.$highlightRules.getRules());\n        }\n        return this.$tokenizer;\n    };\n\n    this.lineCommentStart = \"\";\n    this.blockComment = \"\";\n\n    this.toggleCommentLines = function(state, session, startRow, endRow) {\n        var doc = session.doc;\n\n        var ignoreBlankLines = true;\n        var shouldRemove = true;\n        var minIndent = Infinity;\n        var tabSize = session.getTabSize();\n        var insertAtTabStop = false;\n\n        if (!this.lineCommentStart) {\n            if (!this.blockComment)\n                return false;\n            var lineCommentStart = this.blockComment.start;\n            var lineCommentEnd = this.blockComment.end;\n            var regexpStart = new RegExp(\"^(\\\\s*)(?:\" + lang.escapeRegExp(lineCommentStart) + \")\");\n            var regexpEnd = new RegExp(\"(?:\" + lang.escapeRegExp(lineCommentEnd) + \")\\\\s*$\");\n\n            var comment = function(line, i) {\n                if (testRemove(line, i))\n                    return;\n                if (!ignoreBlankLines || /\\S/.test(line)) {\n                    doc.insertInLine({row: i, column: line.length}, lineCommentEnd);\n                    doc.insertInLine({row: i, column: minIndent}, lineCommentStart);\n                }\n            };\n\n            var uncomment = function(line, i) {\n                var m;\n                if (m = line.match(regexpEnd))\n                    doc.removeInLine(i, line.length - m[0].length, line.length);\n                if (m = line.match(regexpStart))\n                    doc.removeInLine(i, m[1].length, m[0].length);\n            };\n\n            var testRemove = function(line, row) {\n                if (regexpStart.test(line))\n                    return true;\n                var tokens = session.getTokens(row);\n                for (var i = 0; i < tokens.length; i++) {\n                    if (tokens[i].type === \"comment\")\n                        return true;\n                }\n            };\n        } else {\n            if (Array.isArray(this.lineCommentStart)) {\n                var regexpStart = this.lineCommentStart.map(lang.escapeRegExp).join(\"|\");\n                var lineCommentStart = this.lineCommentStart[0];\n            } else {\n                var regexpStart = lang.escapeRegExp(this.lineCommentStart);\n                var lineCommentStart = this.lineCommentStart;\n            }\n            regexpStart = new RegExp(\"^(\\\\s*)(?:\" + regexpStart + \") ?\");\n            \n            insertAtTabStop = session.getUseSoftTabs();\n\n            var uncomment = function(line, i) {\n                var m = line.match(regexpStart);\n                if (!m) return;\n                var start = m[1].length, end = m[0].length;\n                if (!shouldInsertSpace(line, start, end) && m[0][end - 1] == \" \")\n                    end--;\n                doc.removeInLine(i, start, end);\n            };\n            var commentWithSpace = lineCommentStart + \" \";\n            var comment = function(line, i) {\n                if (!ignoreBlankLines || /\\S/.test(line)) {\n                    if (shouldInsertSpace(line, minIndent, minIndent))\n                        doc.insertInLine({row: i, column: minIndent}, commentWithSpace);\n                    else\n                        doc.insertInLine({row: i, column: minIndent}, lineCommentStart);\n                }\n            };\n            var testRemove = function(line, i) {\n                return regexpStart.test(line);\n            };\n            \n            var shouldInsertSpace = function(line, before, after) {\n                var spaces = 0;\n                while (before-- && line.charAt(before) == \" \")\n                    spaces++;\n                if (spaces % tabSize != 0)\n                    return false;\n                var spaces = 0;\n                while (line.charAt(after++) == \" \")\n                    spaces++;\n                if (tabSize > 2)\n                    return spaces % tabSize != tabSize - 1;\n                else\n                    return spaces % tabSize == 0;\n            };\n        }\n\n        function iter(fun) {\n            for (var i = startRow; i <= endRow; i++)\n                fun(doc.getLine(i), i);\n        }\n\n\n        var minEmptyLength = Infinity;\n        iter(function(line, i) {\n            var indent = line.search(/\\S/);\n            if (indent !== -1) {\n                if (indent < minIndent)\n                    minIndent = indent;\n                if (shouldRemove && !testRemove(line, i))\n                    shouldRemove = false;\n            } else if (minEmptyLength > line.length) {\n                minEmptyLength = line.length;\n            }\n        });\n\n        if (minIndent == Infinity) {\n            minIndent = minEmptyLength;\n            ignoreBlankLines = false;\n            shouldRemove = false;\n        }\n\n        if (insertAtTabStop && minIndent % tabSize != 0)\n            minIndent = Math.floor(minIndent / tabSize) * tabSize;\n\n        iter(shouldRemove ? uncomment : comment);\n    };\n\n    this.toggleBlockComment = function(state, session, range, cursor) {\n        var comment = this.blockComment;\n        if (!comment)\n            return;\n        if (!comment.start && comment[0])\n            comment = comment[0];\n\n        var iterator = new TokenIterator(session, cursor.row, cursor.column);\n        var token = iterator.getCurrentToken();\n\n        var sel = session.selection;\n        var initialRange = session.selection.toOrientedRange();\n        var startRow, colDiff;\n\n        if (token && /comment/.test(token.type)) {\n            var startRange, endRange;\n            while (token && /comment/.test(token.type)) {\n                var i = token.value.indexOf(comment.start);\n                if (i != -1) {\n                    var row = iterator.getCurrentTokenRow();\n                    var column = iterator.getCurrentTokenColumn() + i;\n                    startRange = new Range(row, column, row, column + comment.start.length);\n                    break;\n                }\n                token = iterator.stepBackward();\n            }\n\n            var iterator = new TokenIterator(session, cursor.row, cursor.column);\n            var token = iterator.getCurrentToken();\n            while (token && /comment/.test(token.type)) {\n                var i = token.value.indexOf(comment.end);\n                if (i != -1) {\n                    var row = iterator.getCurrentTokenRow();\n                    var column = iterator.getCurrentTokenColumn() + i;\n                    endRange = new Range(row, column, row, column + comment.end.length);\n                    break;\n                }\n                token = iterator.stepForward();\n            }\n            if (endRange)\n                session.remove(endRange);\n            if (startRange) {\n                session.remove(startRange);\n                startRow = startRange.start.row;\n                colDiff = -comment.start.length;\n            }\n        } else {\n            colDiff = comment.start.length;\n            startRow = range.start.row;\n            session.insert(range.end, comment.end);\n            session.insert(range.start, comment.start);\n        }\n        if (initialRange.start.row == startRow)\n            initialRange.start.column += colDiff;\n        if (initialRange.end.row == startRow)\n            initialRange.end.column += colDiff;\n        session.selection.fromOrientedRange(initialRange);\n    };\n\n    this.getNextLineIndent = function(state, line, tab) {\n        return this.$getIndent(line);\n    };\n\n    this.checkOutdent = function(state, line, input) {\n        return false;\n    };\n\n    this.autoOutdent = function(state, doc, row) {\n    };\n\n    this.$getIndent = function(line) {\n        return line.match(/^\\s*/)[0];\n    };\n\n    this.createWorker = function(session) {\n        return null;\n    };\n\n    this.createModeDelegates = function (mapping) {\n        this.$embeds = [];\n        this.$modes = {};\n        for (var i in mapping) {\n            if (mapping[i]) {\n                var Mode = mapping[i];\n                var id = Mode.prototype.$id;\n                var mode = config.$modes[id];\n                if (!mode)\n                    config.$modes[id] = mode = new Mode();\n                if (!config.$modes[i])\n                    config.$modes[i] = mode;\n                this.$embeds.push(i);\n                this.$modes[i] = mode;\n            }\n        }\n\n        var delegations = [\"toggleBlockComment\", \"toggleCommentLines\", \"getNextLineIndent\", \n            \"checkOutdent\", \"autoOutdent\", \"transformAction\", \"getCompletions\"];\n\n        for (var i = 0; i < delegations.length; i++) {\n            (function(scope) {\n              var functionName = delegations[i];\n              var defaultHandler = scope[functionName];\n              scope[delegations[i]] = function() {\n                  return this.$delegator(functionName, arguments, defaultHandler);\n              };\n            }(this));\n        }\n    };\n\n    this.$delegator = function(method, args, defaultHandler) {\n        var state = args[0] || \"start\";\n        if (typeof state != \"string\") {\n            if (Array.isArray(state[2])) {\n                var language = state[2][state[2].length - 1];\n                var mode = this.$modes[language];\n                if (mode)\n                    return mode[method].apply(mode, [state[1]].concat([].slice.call(args, 1)));\n            }\n            state = state[0] || \"start\";\n        }\n            \n        for (var i = 0; i < this.$embeds.length; i++) {\n            if (!this.$modes[this.$embeds[i]]) continue;\n\n            var split = state.split(this.$embeds[i]);\n            if (!split[0] && split[1]) {\n                args[0] = split[1];\n                var mode = this.$modes[this.$embeds[i]];\n                return mode[method].apply(mode, args);\n            }\n        }\n        var ret = defaultHandler.apply(this, args);\n        return defaultHandler ? ret : undefined;\n    };\n\n    this.transformAction = function(state, action, editor, session, param) {\n        if (this.$behaviour) {\n            var behaviours = this.$behaviour.getBehaviours();\n            for (var key in behaviours) {\n                if (behaviours[key][action]) {\n                    var ret = behaviours[key][action].apply(this, arguments);\n                    if (ret) {\n                        return ret;\n                    }\n                }\n            }\n        }\n    };\n    \n    this.getKeywords = function(append) {\n        if (!this.completionKeywords) {\n            var rules = this.$tokenizer.rules;\n            var completionKeywords = [];\n            for (var rule in rules) {\n                var ruleItr = rules[rule];\n                for (var r = 0, l = ruleItr.length; r < l; r++) {\n                    if (typeof ruleItr[r].token === \"string\") {\n                        if (/keyword|support|storage/.test(ruleItr[r].token))\n                            completionKeywords.push(ruleItr[r].regex);\n                    }\n                    else if (typeof ruleItr[r].token === \"object\") {\n                        for (var a = 0, aLength = ruleItr[r].token.length; a < aLength; a++) {    \n                            if (/keyword|support|storage/.test(ruleItr[r].token[a])) {\n                                var rule = ruleItr[r].regex.match(/\\(.+?\\)/g)[a];\n                                completionKeywords.push(rule.substr(1, rule.length - 2));\n                            }\n                        }\n                    }\n                }\n            }\n            this.completionKeywords = completionKeywords;\n        }\n        if (!append)\n            return this.$keywordList;\n        return completionKeywords.concat(this.$keywordList || []);\n    };\n    \n    this.$createKeywordList = function() {\n        if (!this.$highlightRules)\n            this.getTokenizer();\n        return this.$keywordList = this.$highlightRules.$keywordList || [];\n    };\n\n    this.getCompletions = function(state, session, pos, prefix) {\n        var keywords = this.$keywordList || this.$createKeywordList();\n        return keywords.map(function(word) {\n            return {\n                name: word,\n                value: word,\n                score: 0,\n                meta: \"keyword\"\n            };\n        });\n    };\n\n    this.$id = \"ace/mode/text\";\n}).call(Mode.prototype);\n\nexports.Mode = Mode;\n});\n\nace.define(\"ace/apply_delta\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nfunction throwDeltaError(delta, errorText){\n    console.log(\"Invalid Delta:\", delta);\n    throw \"Invalid Delta: \" + errorText;\n}\n\nfunction positionInDocument(docLines, position) {\n    return position.row    >= 0 && position.row    <  docLines.length &&\n           position.column >= 0 && position.column <= docLines[position.row].length;\n}\n\nfunction validateDelta(docLines, delta) {\n    if (delta.action != \"insert\" && delta.action != \"remove\")\n        throwDeltaError(delta, \"delta.action must be 'insert' or 'remove'\");\n    if (!(delta.lines instanceof Array))\n        throwDeltaError(delta, \"delta.lines must be an Array\");\n    if (!delta.start || !delta.end)\n       throwDeltaError(delta, \"delta.start/end must be an present\");\n    var start = delta.start;\n    if (!positionInDocument(docLines, delta.start))\n        throwDeltaError(delta, \"delta.start must be contained in document\");\n    var end = delta.end;\n    if (delta.action == \"remove\" && !positionInDocument(docLines, end))\n        throwDeltaError(delta, \"delta.end must contained in document for 'remove' actions\");\n    var numRangeRows = end.row - start.row;\n    var numRangeLastLineChars = (end.column - (numRangeRows == 0 ? start.column : 0));\n    if (numRangeRows != delta.lines.length - 1 || delta.lines[numRangeRows].length != numRangeLastLineChars)\n        throwDeltaError(delta, \"delta.range must match delta lines\");\n}\n\nexports.applyDelta = function(docLines, delta, doNotValidate) {\n    \n    var row = delta.start.row;\n    var startColumn = delta.start.column;\n    var line = docLines[row] || \"\";\n    switch (delta.action) {\n        case \"insert\":\n            var lines = delta.lines;\n            if (lines.length === 1) {\n                docLines[row] = line.substring(0, startColumn) + delta.lines[0] + line.substring(startColumn);\n            } else {\n                var args = [row, 1].concat(delta.lines);\n                docLines.splice.apply(docLines, args);\n                docLines[row] = line.substring(0, startColumn) + docLines[row];\n                docLines[row + delta.lines.length - 1] += line.substring(startColumn);\n            }\n            break;\n        case \"remove\":\n            var endColumn = delta.end.column;\n            var endRow = delta.end.row;\n            if (row === endRow) {\n                docLines[row] = line.substring(0, startColumn) + line.substring(endColumn);\n            } else {\n                docLines.splice(\n                    row, endRow - row + 1,\n                    line.substring(0, startColumn) + docLines[endRow].substring(endColumn)\n                );\n            }\n            break;\n    }\n};\n});\n\nace.define(\"ace/anchor\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n\nvar Anchor = exports.Anchor = function(doc, row, column) {\n    this.$onChange = this.onChange.bind(this);\n    this.attach(doc);\n    \n    if (typeof column == \"undefined\")\n        this.setPosition(row.row, row.column);\n    else\n        this.setPosition(row, column);\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.getPosition = function() {\n        return this.$clipPositionToDocument(this.row, this.column);\n    };\n    this.getDocument = function() {\n        return this.document;\n    };\n    this.$insertRight = false;\n    this.onChange = function(delta) {\n        if (delta.start.row == delta.end.row && delta.start.row != this.row)\n            return;\n\n        if (delta.start.row > this.row)\n            return;\n            \n        var point = $getTransformedPoint(delta, {row: this.row, column: this.column}, this.$insertRight);\n        this.setPosition(point.row, point.column, true);\n    };\n    \n    function $pointsInOrder(point1, point2, equalPointsInOrder) {\n        var bColIsAfter = equalPointsInOrder ? point1.column <= point2.column : point1.column < point2.column;\n        return (point1.row < point2.row) || (point1.row == point2.row && bColIsAfter);\n    }\n            \n    function $getTransformedPoint(delta, point, moveIfEqual) {\n        var deltaIsInsert = delta.action == \"insert\";\n        var deltaRowShift = (deltaIsInsert ? 1 : -1) * (delta.end.row    - delta.start.row);\n        var deltaColShift = (deltaIsInsert ? 1 : -1) * (delta.end.column - delta.start.column);\n        var deltaStart = delta.start;\n        var deltaEnd = deltaIsInsert ? deltaStart : delta.end; // Collapse insert range.\n        if ($pointsInOrder(point, deltaStart, moveIfEqual)) {\n            return {\n                row: point.row,\n                column: point.column\n            };\n        }\n        if ($pointsInOrder(deltaEnd, point, !moveIfEqual)) {\n            return {\n                row: point.row + deltaRowShift,\n                column: point.column + (point.row == deltaEnd.row ? deltaColShift : 0)\n            };\n        }\n        \n        return {\n            row: deltaStart.row,\n            column: deltaStart.column\n        };\n    }\n    this.setPosition = function(row, column, noClip) {\n        var pos;\n        if (noClip) {\n            pos = {\n                row: row,\n                column: column\n            };\n        } else {\n            pos = this.$clipPositionToDocument(row, column);\n        }\n\n        if (this.row == pos.row && this.column == pos.column)\n            return;\n\n        var old = {\n            row: this.row,\n            column: this.column\n        };\n\n        this.row = pos.row;\n        this.column = pos.column;\n        this._signal(\"change\", {\n            old: old,\n            value: pos\n        });\n    };\n    this.detach = function() {\n        this.document.off(\"change\", this.$onChange);\n    };\n    this.attach = function(doc) {\n        this.document = doc || this.document;\n        this.document.on(\"change\", this.$onChange);\n    };\n    this.$clipPositionToDocument = function(row, column) {\n        var pos = {};\n\n        if (row >= this.document.getLength()) {\n            pos.row = Math.max(0, this.document.getLength() - 1);\n            pos.column = this.document.getLine(pos.row).length;\n        }\n        else if (row < 0) {\n            pos.row = 0;\n            pos.column = 0;\n        }\n        else {\n            pos.row = row;\n            pos.column = Math.min(this.document.getLine(pos.row).length, Math.max(0, column));\n        }\n\n        if (column < 0)\n            pos.column = 0;\n\n        return pos;\n    };\n\n}).call(Anchor.prototype);\n\n});\n\nace.define(\"ace/document\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/apply_delta\",\"ace/lib/event_emitter\",\"ace/range\",\"ace/anchor\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar applyDelta = require(\"./apply_delta\").applyDelta;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Range = require(\"./range\").Range;\nvar Anchor = require(\"./anchor\").Anchor;\n\nvar Document = function(textOrLines) {\n    this.$lines = [\"\"];\n    if (textOrLines.length === 0) {\n        this.$lines = [\"\"];\n    } else if (Array.isArray(textOrLines)) {\n        this.insertMergedLines({row: 0, column: 0}, textOrLines);\n    } else {\n        this.insert({row: 0, column:0}, textOrLines);\n    }\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.setValue = function(text) {\n        var len = this.getLength() - 1;\n        this.remove(new Range(0, 0, len, this.getLine(len).length));\n        this.insert({row: 0, column: 0}, text);\n    };\n    this.getValue = function() {\n        return this.getAllLines().join(this.getNewLineCharacter());\n    };\n    this.createAnchor = function(row, column) {\n        return new Anchor(this, row, column);\n    };\n    if (\"aaa\".split(/a/).length === 0) {\n        this.$split = function(text) {\n            return text.replace(/\\r\\n|\\r/g, \"\\n\").split(\"\\n\");\n        };\n    } else {\n        this.$split = function(text) {\n            return text.split(/\\r\\n|\\r|\\n/);\n        };\n    }\n\n\n    this.$detectNewLine = function(text) {\n        var match = text.match(/^.*?(\\r\\n|\\r|\\n)/m);\n        this.$autoNewLine = match ? match[1] : \"\\n\";\n        this._signal(\"changeNewLineMode\");\n    };\n    this.getNewLineCharacter = function() {\n        switch (this.$newLineMode) {\n          case \"windows\":\n            return \"\\r\\n\";\n          case \"unix\":\n            return \"\\n\";\n          default:\n            return this.$autoNewLine || \"\\n\";\n        }\n    };\n\n    this.$autoNewLine = \"\";\n    this.$newLineMode = \"auto\";\n    this.setNewLineMode = function(newLineMode) {\n        if (this.$newLineMode === newLineMode)\n            return;\n\n        this.$newLineMode = newLineMode;\n        this._signal(\"changeNewLineMode\");\n    };\n    this.getNewLineMode = function() {\n        return this.$newLineMode;\n    };\n    this.isNewLine = function(text) {\n        return (text == \"\\r\\n\" || text == \"\\r\" || text == \"\\n\");\n    };\n    this.getLine = function(row) {\n        return this.$lines[row] || \"\";\n    };\n    this.getLines = function(firstRow, lastRow) {\n        return this.$lines.slice(firstRow, lastRow + 1);\n    };\n    this.getAllLines = function() {\n        return this.getLines(0, this.getLength());\n    };\n    this.getLength = function() {\n        return this.$lines.length;\n    };\n    this.getTextRange = function(range) {\n        return this.getLinesForRange(range).join(this.getNewLineCharacter());\n    };\n    this.getLinesForRange = function(range) {\n        var lines;\n        if (range.start.row === range.end.row) {\n            lines = [this.getLine(range.start.row).substring(range.start.column, range.end.column)];\n        } else {\n            lines = this.getLines(range.start.row, range.end.row);\n            lines[0] = (lines[0] || \"\").substring(range.start.column);\n            var l = lines.length - 1;\n            if (range.end.row - range.start.row == l)\n                lines[l] = lines[l].substring(0, range.end.column);\n        }\n        return lines;\n    };\n    this.insertLines = function(row, lines) {\n        console.warn(\"Use of document.insertLines is deprecated. Use the insertFullLines method instead.\");\n        return this.insertFullLines(row, lines);\n    };\n    this.removeLines = function(firstRow, lastRow) {\n        console.warn(\"Use of document.removeLines is deprecated. Use the removeFullLines method instead.\");\n        return this.removeFullLines(firstRow, lastRow);\n    };\n    this.insertNewLine = function(position) {\n        console.warn(\"Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead.\");\n        return this.insertMergedLines(position, [\"\", \"\"]);\n    };\n    this.insert = function(position, text) {\n        if (this.getLength() <= 1)\n            this.$detectNewLine(text);\n        \n        return this.insertMergedLines(position, this.$split(text));\n    };\n    this.insertInLine = function(position, text) {\n        var start = this.clippedPos(position.row, position.column);\n        var end = this.pos(position.row, position.column + text.length);\n        \n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"insert\",\n            lines: [text]\n        }, true);\n        \n        return this.clonePos(end);\n    };\n    \n    this.clippedPos = function(row, column) {\n        var length = this.getLength();\n        if (row === undefined) {\n            row = length;\n        } else if (row < 0) {\n            row = 0;\n        } else if (row >= length) {\n            row = length - 1;\n            column = undefined;\n        }\n        var line = this.getLine(row);\n        if (column == undefined)\n            column = line.length;\n        column = Math.min(Math.max(column, 0), line.length);\n        return {row: row, column: column};\n    };\n    \n    this.clonePos = function(pos) {\n        return {row: pos.row, column: pos.column};\n    };\n    \n    this.pos = function(row, column) {\n        return {row: row, column: column};\n    };\n    \n    this.$clipPosition = function(position) {\n        var length = this.getLength();\n        if (position.row >= length) {\n            position.row = Math.max(0, length - 1);\n            position.column = this.getLine(length - 1).length;\n        } else {\n            position.row = Math.max(0, position.row);\n            position.column = Math.min(Math.max(position.column, 0), this.getLine(position.row).length);\n        }\n        return position;\n    };\n    this.insertFullLines = function(row, lines) {\n        row = Math.min(Math.max(row, 0), this.getLength());\n        var column = 0;\n        if (row < this.getLength()) {\n            lines = lines.concat([\"\"]);\n            column = 0;\n        } else {\n            lines = [\"\"].concat(lines);\n            row--;\n            column = this.$lines[row].length;\n        }\n        this.insertMergedLines({row: row, column: column}, lines);\n    };    \n    this.insertMergedLines = function(position, lines) {\n        var start = this.clippedPos(position.row, position.column);\n        var end = {\n            row: start.row + lines.length - 1,\n            column: (lines.length == 1 ? start.column : 0) + lines[lines.length - 1].length\n        };\n        \n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"insert\",\n            lines: lines\n        });\n        \n        return this.clonePos(end);\n    };\n    this.remove = function(range) {\n        var start = this.clippedPos(range.start.row, range.start.column);\n        var end = this.clippedPos(range.end.row, range.end.column);\n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"remove\",\n            lines: this.getLinesForRange({start: start, end: end})\n        });\n        return this.clonePos(start);\n    };\n    this.removeInLine = function(row, startColumn, endColumn) {\n        var start = this.clippedPos(row, startColumn);\n        var end = this.clippedPos(row, endColumn);\n        \n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"remove\",\n            lines: this.getLinesForRange({start: start, end: end})\n        }, true);\n        \n        return this.clonePos(start);\n    };\n    this.removeFullLines = function(firstRow, lastRow) {\n        firstRow = Math.min(Math.max(0, firstRow), this.getLength() - 1);\n        lastRow  = Math.min(Math.max(0, lastRow ), this.getLength() - 1);\n        var deleteFirstNewLine = lastRow == this.getLength() - 1 && firstRow > 0;\n        var deleteLastNewLine  = lastRow  < this.getLength() - 1;\n        var startRow = ( deleteFirstNewLine ? firstRow - 1                  : firstRow                    );\n        var startCol = ( deleteFirstNewLine ? this.getLine(startRow).length : 0                           );\n        var endRow   = ( deleteLastNewLine  ? lastRow + 1                   : lastRow                     );\n        var endCol   = ( deleteLastNewLine  ? 0                             : this.getLine(endRow).length ); \n        var range = new Range(startRow, startCol, endRow, endCol);\n        var deletedLines = this.$lines.slice(firstRow, lastRow + 1);\n        \n        this.applyDelta({\n            start: range.start,\n            end: range.end,\n            action: \"remove\",\n            lines: this.getLinesForRange(range)\n        });\n        return deletedLines;\n    };\n    this.removeNewLine = function(row) {\n        if (row < this.getLength() - 1 && row >= 0) {\n            this.applyDelta({\n                start: this.pos(row, this.getLine(row).length),\n                end: this.pos(row + 1, 0),\n                action: \"remove\",\n                lines: [\"\", \"\"]\n            });\n        }\n    };\n    this.replace = function(range, text) {\n        if (!(range instanceof Range))\n            range = Range.fromPoints(range.start, range.end);\n        if (text.length === 0 && range.isEmpty())\n            return range.start;\n        if (text == this.getTextRange(range))\n            return range.end;\n\n        this.remove(range);\n        var end;\n        if (text) {\n            end = this.insert(range.start, text);\n        }\n        else {\n            end = range.start;\n        }\n        \n        return end;\n    };\n    this.applyDeltas = function(deltas) {\n        for (var i=0; i<deltas.length; i++) {\n            this.applyDelta(deltas[i]);\n        }\n    };\n    this.revertDeltas = function(deltas) {\n        for (var i=deltas.length-1; i>=0; i--) {\n            this.revertDelta(deltas[i]);\n        }\n    };\n    this.applyDelta = function(delta, doNotValidate) {\n        var isInsert = delta.action == \"insert\";\n        if (isInsert ? delta.lines.length <= 1 && !delta.lines[0]\n            : !Range.comparePoints(delta.start, delta.end)) {\n            return;\n        }\n        \n        if (isInsert && delta.lines.length > 20000) {\n            this.$splitAndapplyLargeDelta(delta, 20000);\n        }\n        else {\n            applyDelta(this.$lines, delta, doNotValidate);\n            this._signal(\"change\", delta);\n        }\n    };\n    \n    this.$safeApplyDelta = function(delta) {\n        var docLength = this.$lines.length;\n        if (\n            delta.action == \"remove\" && delta.start.row < docLength && delta.end.row < docLength\n            || delta.action == \"insert\" && delta.start.row <= docLength\n        ) {\n            this.applyDelta(delta);\n        }\n    };\n    \n    this.$splitAndapplyLargeDelta = function(delta, MAX) {\n        var lines = delta.lines;\n        var l = lines.length - MAX + 1;\n        var row = delta.start.row; \n        var column = delta.start.column;\n        for (var from = 0, to = 0; from < l; from = to) {\n            to += MAX - 1;\n            var chunk = lines.slice(from, to);\n            chunk.push(\"\");\n            this.applyDelta({\n                start: this.pos(row + from, column),\n                end: this.pos(row + to, column = 0),\n                action: delta.action,\n                lines: chunk\n            }, true);\n        }\n        delta.lines = lines.slice(from);\n        delta.start.row = row + from;\n        delta.start.column = column;\n        this.applyDelta(delta, true);\n    };\n    this.revertDelta = function(delta) {\n        this.$safeApplyDelta({\n            start: this.clonePos(delta.start),\n            end: this.clonePos(delta.end),\n            action: (delta.action == \"insert\" ? \"remove\" : \"insert\"),\n            lines: delta.lines.slice()\n        });\n    };\n    this.indexToPosition = function(index, startRow) {\n        var lines = this.$lines || this.getAllLines();\n        var newlineLength = this.getNewLineCharacter().length;\n        for (var i = startRow || 0, l = lines.length; i < l; i++) {\n            index -= lines[i].length + newlineLength;\n            if (index < 0)\n                return {row: i, column: index + lines[i].length + newlineLength};\n        }\n        return {row: l-1, column: index + lines[l-1].length + newlineLength};\n    };\n    this.positionToIndex = function(pos, startRow) {\n        var lines = this.$lines || this.getAllLines();\n        var newlineLength = this.getNewLineCharacter().length;\n        var index = 0;\n        var row = Math.min(pos.row, lines.length);\n        for (var i = startRow || 0; i < row; ++i)\n            index += lines[i].length + newlineLength;\n\n        return index + pos.column;\n    };\n\n}).call(Document.prototype);\n\nexports.Document = Document;\n});\n\nace.define(\"ace/background_tokenizer\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n\nvar BackgroundTokenizer = function(tokenizer, editor) {\n    this.running = false;\n    this.lines = [];\n    this.states = [];\n    this.currentLine = 0;\n    this.tokenizer = tokenizer;\n\n    var self = this;\n\n    this.$worker = function() {\n        if (!self.running) { return; }\n\n        var workerStart = new Date();\n        var currentLine = self.currentLine;\n        var endLine = -1;\n        var doc = self.doc;\n\n        var startLine = currentLine;\n        while (self.lines[currentLine])\n            currentLine++;\n        \n        var len = doc.getLength();\n        var processedLines = 0;\n        self.running = false;\n        while (currentLine < len) {\n            self.$tokenizeRow(currentLine);\n            endLine = currentLine;\n            do {\n                currentLine++;\n            } while (self.lines[currentLine]);\n            processedLines ++;\n            if ((processedLines % 5 === 0) && (new Date() - workerStart) > 20) {\n                self.running = setTimeout(self.$worker, 20);\n                break;\n            }\n        }\n        self.currentLine = currentLine;\n        \n        if (endLine == -1)\n            endLine = currentLine;\n        \n        if (startLine <= endLine)\n            self.fireUpdateEvent(startLine, endLine);\n    };\n};\n\n(function(){\n\n    oop.implement(this, EventEmitter);\n    this.setTokenizer = function(tokenizer) {\n        this.tokenizer = tokenizer;\n        this.lines = [];\n        this.states = [];\n\n        this.start(0);\n    };\n    this.setDocument = function(doc) {\n        this.doc = doc;\n        this.lines = [];\n        this.states = [];\n\n        this.stop();\n    };\n    this.fireUpdateEvent = function(firstRow, lastRow) {\n        var data = {\n            first: firstRow,\n            last: lastRow\n        };\n        this._signal(\"update\", {data: data});\n    };\n    this.start = function(startRow) {\n        this.currentLine = Math.min(startRow || 0, this.currentLine, this.doc.getLength());\n        this.lines.splice(this.currentLine, this.lines.length);\n        this.states.splice(this.currentLine, this.states.length);\n\n        this.stop();\n        this.running = setTimeout(this.$worker, 700);\n    };\n    \n    this.scheduleStart = function() {\n        if (!this.running)\n            this.running = setTimeout(this.$worker, 700);\n    };\n\n    this.$updateOnChange = function(delta) {\n        var startRow = delta.start.row;\n        var len = delta.end.row - startRow;\n\n        if (len === 0) {\n            this.lines[startRow] = null;\n        } else if (delta.action == \"remove\") {\n            this.lines.splice(startRow, len + 1, null);\n            this.states.splice(startRow, len + 1, null);\n        } else {\n            var args = Array(len + 1);\n            args.unshift(startRow, 1);\n            this.lines.splice.apply(this.lines, args);\n            this.states.splice.apply(this.states, args);\n        }\n\n        this.currentLine = Math.min(startRow, this.currentLine, this.doc.getLength());\n\n        this.stop();\n    };\n    this.stop = function() {\n        if (this.running)\n            clearTimeout(this.running);\n        this.running = false;\n    };\n    this.getTokens = function(row) {\n        return this.lines[row] || this.$tokenizeRow(row);\n    };\n    this.getState = function(row) {\n        if (this.currentLine == row)\n            this.$tokenizeRow(row);\n        return this.states[row] || \"start\";\n    };\n\n    this.$tokenizeRow = function(row) {\n        var line = this.doc.getLine(row);\n        var state = this.states[row - 1];\n\n        var data = this.tokenizer.getLineTokens(line, state, row);\n\n        if (this.states[row] + \"\" !== data.state + \"\") {\n            this.states[row] = data.state;\n            this.lines[row + 1] = null;\n            if (this.currentLine > row + 1)\n                this.currentLine = row + 1;\n        } else if (this.currentLine == row) {\n            this.currentLine = row + 1;\n        }\n\n        return this.lines[row] = data.tokens;\n    };\n\n}).call(BackgroundTokenizer.prototype);\n\nexports.BackgroundTokenizer = BackgroundTokenizer;\n});\n\nace.define(\"ace/search_highlight\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/lib/oop\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar lang = require(\"./lib/lang\");\nvar oop = require(\"./lib/oop\");\nvar Range = require(\"./range\").Range;\n\nvar SearchHighlight = function(regExp, clazz, type) {\n    this.setRegexp(regExp);\n    this.clazz = clazz;\n    this.type = type || \"text\";\n};\n\n(function() {\n    this.MAX_RANGES = 500;\n    \n    this.setRegexp = function(regExp) {\n        if (this.regExp+\"\" == regExp+\"\")\n            return;\n        this.regExp = regExp;\n        this.cache = [];\n    };\n\n    this.update = function(html, markerLayer, session, config) {\n        if (!this.regExp)\n            return;\n        var start = config.firstRow, end = config.lastRow;\n\n        for (var i = start; i <= end; i++) {\n            var ranges = this.cache[i];\n            if (ranges == null) {\n                ranges = lang.getMatchOffsets(session.getLine(i), this.regExp);\n                if (ranges.length > this.MAX_RANGES)\n                    ranges = ranges.slice(0, this.MAX_RANGES);\n                ranges = ranges.map(function(match) {\n                    return new Range(i, match.offset, i, match.offset + match.length);\n                });\n                this.cache[i] = ranges.length ? ranges : \"\";\n            }\n\n            for (var j = ranges.length; j --; ) {\n                markerLayer.drawSingleLineMarker(\n                    html, ranges[j].toScreenRange(session), this.clazz, config);\n            }\n        }\n    };\n\n}).call(SearchHighlight.prototype);\n\nexports.SearchHighlight = SearchHighlight;\n});\n\nace.define(\"ace/edit_session/fold_line\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar Range = require(\"../range\").Range;\nfunction FoldLine(foldData, folds) {\n    this.foldData = foldData;\n    if (Array.isArray(folds)) {\n        this.folds = folds;\n    } else {\n        folds = this.folds = [ folds ];\n    }\n\n    var last = folds[folds.length - 1];\n    this.range = new Range(folds[0].start.row, folds[0].start.column,\n                           last.end.row, last.end.column);\n    this.start = this.range.start;\n    this.end   = this.range.end;\n\n    this.folds.forEach(function(fold) {\n        fold.setFoldLine(this);\n    }, this);\n}\n\n(function() {\n    this.shiftRow = function(shift) {\n        this.start.row += shift;\n        this.end.row += shift;\n        this.folds.forEach(function(fold) {\n            fold.start.row += shift;\n            fold.end.row += shift;\n        });\n    };\n\n    this.addFold = function(fold) {\n        if (fold.sameRow) {\n            if (fold.start.row < this.startRow || fold.endRow > this.endRow) {\n                throw new Error(\"Can't add a fold to this FoldLine as it has no connection\");\n            }\n            this.folds.push(fold);\n            this.folds.sort(function(a, b) {\n                return -a.range.compareEnd(b.start.row, b.start.column);\n            });\n            if (this.range.compareEnd(fold.start.row, fold.start.column) > 0) {\n                this.end.row = fold.end.row;\n                this.end.column =  fold.end.column;\n            } else if (this.range.compareStart(fold.end.row, fold.end.column) < 0) {\n                this.start.row = fold.start.row;\n                this.start.column = fold.start.column;\n            }\n        } else if (fold.start.row == this.end.row) {\n            this.folds.push(fold);\n            this.end.row = fold.end.row;\n            this.end.column = fold.end.column;\n        } else if (fold.end.row == this.start.row) {\n            this.folds.unshift(fold);\n            this.start.row = fold.start.row;\n            this.start.column = fold.start.column;\n        } else {\n            throw new Error(\"Trying to add fold to FoldRow that doesn't have a matching row\");\n        }\n        fold.foldLine = this;\n    };\n\n    this.containsRow = function(row) {\n        return row >= this.start.row && row <= this.end.row;\n    };\n\n    this.walk = function(callback, endRow, endColumn) {\n        var lastEnd = 0,\n            folds = this.folds,\n            fold,\n            cmp, stop, isNewRow = true;\n\n        if (endRow == null) {\n            endRow = this.end.row;\n            endColumn = this.end.column;\n        }\n\n        for (var i = 0; i < folds.length; i++) {\n            fold = folds[i];\n\n            cmp = fold.range.compareStart(endRow, endColumn);\n            if (cmp == -1) {\n                callback(null, endRow, endColumn, lastEnd, isNewRow);\n                return;\n            }\n\n            stop = callback(null, fold.start.row, fold.start.column, lastEnd, isNewRow);\n            stop = !stop && callback(fold.placeholder, fold.start.row, fold.start.column, lastEnd);\n            if (stop || cmp === 0) {\n                return;\n            }\n            isNewRow = !fold.sameRow;\n            lastEnd = fold.end.column;\n        }\n        callback(null, endRow, endColumn, lastEnd, isNewRow);\n    };\n\n    this.getNextFoldTo = function(row, column) {\n        var fold, cmp;\n        for (var i = 0; i < this.folds.length; i++) {\n            fold = this.folds[i];\n            cmp = fold.range.compareEnd(row, column);\n            if (cmp == -1) {\n                return {\n                    fold: fold,\n                    kind: \"after\"\n                };\n            } else if (cmp === 0) {\n                return {\n                    fold: fold,\n                    kind: \"inside\"\n                };\n            }\n        }\n        return null;\n    };\n\n    this.addRemoveChars = function(row, column, len) {\n        var ret = this.getNextFoldTo(row, column),\n            fold, folds;\n        if (ret) {\n            fold = ret.fold;\n            if (ret.kind == \"inside\"\n                && fold.start.column != column\n                && fold.start.row != row)\n            {\n                window.console && window.console.log(row, column, fold);\n            } else if (fold.start.row == row) {\n                folds = this.folds;\n                var i = folds.indexOf(fold);\n                if (i === 0) {\n                    this.start.column += len;\n                }\n                for (i; i < folds.length; i++) {\n                    fold = folds[i];\n                    fold.start.column += len;\n                    if (!fold.sameRow) {\n                        return;\n                    }\n                    fold.end.column += len;\n                }\n                this.end.column += len;\n            }\n        }\n    };\n\n    this.split = function(row, column) {\n        var pos = this.getNextFoldTo(row, column);\n        \n        if (!pos || pos.kind == \"inside\")\n            return null;\n            \n        var fold = pos.fold;\n        var folds = this.folds;\n        var foldData = this.foldData;\n        \n        var i = folds.indexOf(fold);\n        var foldBefore = folds[i - 1];\n        this.end.row = foldBefore.end.row;\n        this.end.column = foldBefore.end.column;\n        folds = folds.splice(i, folds.length - i);\n\n        var newFoldLine = new FoldLine(foldData, folds);\n        foldData.splice(foldData.indexOf(this) + 1, 0, newFoldLine);\n        return newFoldLine;\n    };\n\n    this.merge = function(foldLineNext) {\n        var folds = foldLineNext.folds;\n        for (var i = 0; i < folds.length; i++) {\n            this.addFold(folds[i]);\n        }\n        var foldData = this.foldData;\n        foldData.splice(foldData.indexOf(foldLineNext), 1);\n    };\n\n    this.toString = function() {\n        var ret = [this.range.toString() + \": [\" ];\n\n        this.folds.forEach(function(fold) {\n            ret.push(\"  \" + fold.toString());\n        });\n        ret.push(\"]\");\n        return ret.join(\"\\n\");\n    };\n\n    this.idxToPosition = function(idx) {\n        var lastFoldEndColumn = 0;\n\n        for (var i = 0; i < this.folds.length; i++) {\n            var fold = this.folds[i];\n\n            idx -= fold.start.column - lastFoldEndColumn;\n            if (idx < 0) {\n                return {\n                    row: fold.start.row,\n                    column: fold.start.column + idx\n                };\n            }\n\n            idx -= fold.placeholder.length;\n            if (idx < 0) {\n                return fold.start;\n            }\n\n            lastFoldEndColumn = fold.end.column;\n        }\n\n        return {\n            row: this.end.row,\n            column: this.end.column + idx\n        };\n    };\n}).call(FoldLine.prototype);\n\nexports.FoldLine = FoldLine;\n});\n\nace.define(\"ace/range_list\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\nvar Range = require(\"./range\").Range;\nvar comparePoints = Range.comparePoints;\n\nvar RangeList = function() {\n    this.ranges = [];\n    this.$bias = 1;\n};\n\n(function() {\n    this.comparePoints = comparePoints;\n\n    this.pointIndex = function(pos, excludeEdges, startIndex) {\n        var list = this.ranges;\n\n        for (var i = startIndex || 0; i < list.length; i++) {\n            var range = list[i];\n            var cmpEnd = comparePoints(pos, range.end);\n            if (cmpEnd > 0)\n                continue;\n            var cmpStart = comparePoints(pos, range.start);\n            if (cmpEnd === 0)\n                return excludeEdges && cmpStart !== 0 ? -i-2 : i;\n            if (cmpStart > 0 || (cmpStart === 0 && !excludeEdges))\n                return i;\n\n            return -i-1;\n        }\n        return -i - 1;\n    };\n\n    this.add = function(range) {\n        var excludeEdges = !range.isEmpty();\n        var startIndex = this.pointIndex(range.start, excludeEdges);\n        if (startIndex < 0)\n            startIndex = -startIndex - 1;\n\n        var endIndex = this.pointIndex(range.end, excludeEdges, startIndex);\n\n        if (endIndex < 0)\n            endIndex = -endIndex - 1;\n        else\n            endIndex++;\n        return this.ranges.splice(startIndex, endIndex - startIndex, range);\n    };\n\n    this.addList = function(list) {\n        var removed = [];\n        for (var i = list.length; i--; ) {\n            removed.push.apply(removed, this.add(list[i]));\n        }\n        return removed;\n    };\n\n    this.substractPoint = function(pos) {\n        var i = this.pointIndex(pos);\n\n        if (i >= 0)\n            return this.ranges.splice(i, 1);\n    };\n    this.merge = function() {\n        var removed = [];\n        var list = this.ranges;\n        \n        list = list.sort(function(a, b) {\n            return comparePoints(a.start, b.start);\n        });\n        \n        var next = list[0], range;\n        for (var i = 1; i < list.length; i++) {\n            range = next;\n            next = list[i];\n            var cmp = comparePoints(range.end, next.start);\n            if (cmp < 0)\n                continue;\n\n            if (cmp == 0 && !range.isEmpty() && !next.isEmpty())\n                continue;\n\n            if (comparePoints(range.end, next.end) < 0) {\n                range.end.row = next.end.row;\n                range.end.column = next.end.column;\n            }\n\n            list.splice(i, 1);\n            removed.push(next);\n            next = range;\n            i--;\n        }\n        \n        this.ranges = list;\n\n        return removed;\n    };\n\n    this.contains = function(row, column) {\n        return this.pointIndex({row: row, column: column}) >= 0;\n    };\n\n    this.containsPoint = function(pos) {\n        return this.pointIndex(pos) >= 0;\n    };\n\n    this.rangeAtPoint = function(pos) {\n        var i = this.pointIndex(pos);\n        if (i >= 0)\n            return this.ranges[i];\n    };\n\n\n    this.clipRows = function(startRow, endRow) {\n        var list = this.ranges;\n        if (list[0].start.row > endRow || list[list.length - 1].start.row < startRow)\n            return [];\n\n        var startIndex = this.pointIndex({row: startRow, column: 0});\n        if (startIndex < 0)\n            startIndex = -startIndex - 1;\n        var endIndex = this.pointIndex({row: endRow, column: 0}, startIndex);\n        if (endIndex < 0)\n            endIndex = -endIndex - 1;\n\n        var clipped = [];\n        for (var i = startIndex; i < endIndex; i++) {\n            clipped.push(list[i]);\n        }\n        return clipped;\n    };\n\n    this.removeAll = function() {\n        return this.ranges.splice(0, this.ranges.length);\n    };\n\n    this.attach = function(session) {\n        if (this.session)\n            this.detach();\n\n        this.session = session;\n        this.onChange = this.$onChange.bind(this);\n\n        this.session.on('change', this.onChange);\n    };\n\n    this.detach = function() {\n        if (!this.session)\n            return;\n        this.session.removeListener('change', this.onChange);\n        this.session = null;\n    };\n\n    this.$onChange = function(delta) {\n        var start = delta.start;\n        var end = delta.end;\n        var startRow = start.row;\n        var endRow = end.row;\n        var ranges = this.ranges;\n        for (var i = 0, n = ranges.length; i < n; i++) {\n            var r = ranges[i];\n            if (r.end.row >= startRow)\n                break;\n        }\n        \n        if (delta.action == \"insert\") {\n            var lineDif = endRow - startRow;\n            var colDiff = -start.column + end.column;\n            for (; i < n; i++) {\n                var r = ranges[i];\n                if (r.start.row > startRow)\n                    break;\n    \n                if (r.start.row == startRow && r.start.column >= start.column) {\n                    if (r.start.column == start.column && this.$bias <= 0) {\n                    } else {\n                        r.start.column += colDiff;\n                        r.start.row += lineDif;\n                    }\n                }\n                if (r.end.row == startRow && r.end.column >= start.column) {\n                    if (r.end.column == start.column && this.$bias < 0) {\n                        continue;\n                    }\n                    if (r.end.column == start.column && colDiff > 0 && i < n - 1) {\n                        if (r.end.column > r.start.column && r.end.column == ranges[i+1].start.column)\n                            r.end.column -= colDiff;\n                    }\n                    r.end.column += colDiff;\n                    r.end.row += lineDif;\n                }\n            }\n        } else {\n            var lineDif = startRow - endRow;\n            var colDiff = start.column - end.column;\n            for (; i < n; i++) {\n                var r = ranges[i];\n                \n                if (r.start.row > endRow)\n                    break;\n                    \n                if (r.end.row < endRow\n                    && (\n                        startRow < r.end.row \n                        || startRow == r.end.row && start.column < r.end.column\n                    )\n                ) {\n                    r.end.row = startRow;\n                    r.end.column = start.column;\n                }\n                else if (r.end.row == endRow) {\n                    if (r.end.column <= end.column) {\n                        if (lineDif || r.end.column > start.column) {\n                            r.end.column = start.column;\n                            r.end.row = start.row;\n                        }\n                    }\n                    else {\n                        r.end.column += colDiff;\n                        r.end.row += lineDif;\n                    }\n                }\n                else if (r.end.row > endRow) {\n                    r.end.row += lineDif;\n                }\n                \n                if (r.start.row < endRow\n                    && (\n                        startRow < r.start.row \n                        || startRow == r.start.row && start.column < r.start.column\n                    )\n                ) {\n                    r.start.row = startRow;\n                    r.start.column = start.column;\n                }\n                else if (r.start.row == endRow) {\n                    if (r.start.column <= end.column) {\n                        if (lineDif || r.start.column > start.column) {\n                            r.start.column = start.column;\n                            r.start.row = start.row;\n                        }\n                    }\n                    else {\n                        r.start.column += colDiff;\n                        r.start.row += lineDif;\n                    }\n                }\n                else if (r.start.row > endRow) {\n                    r.start.row += lineDif;\n                }\n            }\n        }\n\n        if (lineDif != 0 && i < n) {\n            for (; i < n; i++) {\n                var r = ranges[i];\n                r.start.row += lineDif;\n                r.end.row += lineDif;\n            }\n        }\n    };\n\n}).call(RangeList.prototype);\n\nexports.RangeList = RangeList;\n});\n\nace.define(\"ace/edit_session/fold\",[\"require\",\"exports\",\"module\",\"ace/range_list\",\"ace/lib/oop\"], function(require, exports, module) {\n\"use strict\";\n\nvar RangeList = require(\"../range_list\").RangeList;\nvar oop = require(\"../lib/oop\");\nvar Fold = exports.Fold = function(range, placeholder) {\n    this.foldLine = null;\n    this.placeholder = placeholder;\n    this.range = range;\n    this.start = range.start;\n    this.end = range.end;\n\n    this.sameRow = range.start.row == range.end.row;\n    this.subFolds = this.ranges = [];\n};\n\noop.inherits(Fold, RangeList);\n\n(function() {\n\n    this.toString = function() {\n        return '\"' + this.placeholder + '\" ' + this.range.toString();\n    };\n\n    this.setFoldLine = function(foldLine) {\n        this.foldLine = foldLine;\n        this.subFolds.forEach(function(fold) {\n            fold.setFoldLine(foldLine);\n        });\n    };\n\n    this.clone = function() {\n        var range = this.range.clone();\n        var fold = new Fold(range, this.placeholder);\n        this.subFolds.forEach(function(subFold) {\n            fold.subFolds.push(subFold.clone());\n        });\n        fold.collapseChildren = this.collapseChildren;\n        return fold;\n    };\n\n    this.addSubFold = function(fold) {\n        if (this.range.isEqual(fold))\n            return;\n        consumeRange(fold, this.start);\n\n        var row = fold.start.row, column = fold.start.column;\n        for (var i = 0, cmp = -1; i < this.subFolds.length; i++) {\n            cmp = this.subFolds[i].range.compare(row, column);\n            if (cmp != 1)\n                break;\n        }\n        var afterStart = this.subFolds[i];\n        var firstConsumed = 0;\n\n        if (cmp == 0) {\n            if (afterStart.range.containsRange(fold))\n                return afterStart.addSubFold(fold);\n            else\n                firstConsumed = 1;\n        }\n        var row = fold.range.end.row, column = fold.range.end.column;\n        for (var j = i, cmp = -1; j < this.subFolds.length; j++) {\n            cmp = this.subFolds[j].range.compare(row, column);\n            if (cmp != 1)\n                break;\n        }\n        if (cmp == 0)  j++;\n        var consumedFolds = this.subFolds.splice(i, j - i, fold);\n        var last = cmp == 0 ? consumedFolds.length - 1 : consumedFolds.length;\n        for (var k = firstConsumed; k < last; k++) {\n            fold.addSubFold(consumedFolds[k]);\n        }\n        fold.setFoldLine(this.foldLine);\n\n        return fold;\n    };\n    \n    this.restoreRange = function(range) {\n        return restoreRange(range, this.start);\n    };\n\n}).call(Fold.prototype);\n\nfunction consumePoint(point, anchor) {\n    point.row -= anchor.row;\n    if (point.row == 0)\n        point.column -= anchor.column;\n}\nfunction consumeRange(range, anchor) {\n    consumePoint(range.start, anchor);\n    consumePoint(range.end, anchor);\n}\nfunction restorePoint(point, anchor) {\n    if (point.row == 0)\n        point.column += anchor.column;\n    point.row += anchor.row;\n}\nfunction restoreRange(range, anchor) {\n    restorePoint(range.start, anchor);\n    restorePoint(range.end, anchor);\n}\n\n});\n\nace.define(\"ace/edit_session/folding\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/edit_session/fold_line\",\"ace/edit_session/fold\",\"ace/token_iterator\"], function(require, exports, module) {\n\"use strict\";\n\nvar Range = require(\"../range\").Range;\nvar FoldLine = require(\"./fold_line\").FoldLine;\nvar Fold = require(\"./fold\").Fold;\nvar TokenIterator = require(\"../token_iterator\").TokenIterator;\n\nfunction Folding() {\n    this.getFoldAt = function(row, column, side) {\n        var foldLine = this.getFoldLine(row);\n        if (!foldLine)\n            return null;\n\n        var folds = foldLine.folds;\n        for (var i = 0; i < folds.length; i++) {\n            var range = folds[i].range;\n            if (range.contains(row, column)) {\n                if (side == 1 && range.isEnd(row, column) && !range.isEmpty()) {\n                    continue;\n                } else if (side == -1 && range.isStart(row, column) && !range.isEmpty()) {\n                    continue;\n                }\n                return folds[i];\n            }\n        }\n    };\n    this.getFoldsInRange = function(range) {\n        var start = range.start;\n        var end = range.end;\n        var foldLines = this.$foldData;\n        var foundFolds = [];\n\n        start.column += 1;\n        end.column -= 1;\n\n        for (var i = 0; i < foldLines.length; i++) {\n            var cmp = foldLines[i].range.compareRange(range);\n            if (cmp == 2) {\n                continue;\n            }\n            else if (cmp == -2) {\n                break;\n            }\n\n            var folds = foldLines[i].folds;\n            for (var j = 0; j < folds.length; j++) {\n                var fold = folds[j];\n                cmp = fold.range.compareRange(range);\n                if (cmp == -2) {\n                    break;\n                } else if (cmp == 2) {\n                    continue;\n                } else\n                if (cmp == 42) {\n                    break;\n                }\n                foundFolds.push(fold);\n            }\n        }\n        start.column -= 1;\n        end.column += 1;\n\n        return foundFolds;\n    };\n\n    this.getFoldsInRangeList = function(ranges) {\n        if (Array.isArray(ranges)) {\n            var folds = [];\n            ranges.forEach(function(range) {\n                folds = folds.concat(this.getFoldsInRange(range));\n            }, this);\n        } else {\n            var folds = this.getFoldsInRange(ranges);\n        }\n        return folds;\n    };\n    this.getAllFolds = function() {\n        var folds = [];\n        var foldLines = this.$foldData;\n        \n        for (var i = 0; i < foldLines.length; i++)\n            for (var j = 0; j < foldLines[i].folds.length; j++)\n                folds.push(foldLines[i].folds[j]);\n\n        return folds;\n    };\n    this.getFoldStringAt = function(row, column, trim, foldLine) {\n        foldLine = foldLine || this.getFoldLine(row);\n        if (!foldLine)\n            return null;\n\n        var lastFold = {\n            end: { column: 0 }\n        };\n        var str, fold;\n        for (var i = 0; i < foldLine.folds.length; i++) {\n            fold = foldLine.folds[i];\n            var cmp = fold.range.compareEnd(row, column);\n            if (cmp == -1) {\n                str = this\n                    .getLine(fold.start.row)\n                    .substring(lastFold.end.column, fold.start.column);\n                break;\n            }\n            else if (cmp === 0) {\n                return null;\n            }\n            lastFold = fold;\n        }\n        if (!str)\n            str = this.getLine(fold.start.row).substring(lastFold.end.column);\n\n        if (trim == -1)\n            return str.substring(0, column - lastFold.end.column);\n        else if (trim == 1)\n            return str.substring(column - lastFold.end.column);\n        else\n            return str;\n    };\n\n    this.getFoldLine = function(docRow, startFoldLine) {\n        var foldData = this.$foldData;\n        var i = 0;\n        if (startFoldLine)\n            i = foldData.indexOf(startFoldLine);\n        if (i == -1)\n            i = 0;\n        for (i; i < foldData.length; i++) {\n            var foldLine = foldData[i];\n            if (foldLine.start.row <= docRow && foldLine.end.row >= docRow) {\n                return foldLine;\n            } else if (foldLine.end.row > docRow) {\n                return null;\n            }\n        }\n        return null;\n    };\n    this.getNextFoldLine = function(docRow, startFoldLine) {\n        var foldData = this.$foldData;\n        var i = 0;\n        if (startFoldLine)\n            i = foldData.indexOf(startFoldLine);\n        if (i == -1)\n            i = 0;\n        for (i; i < foldData.length; i++) {\n            var foldLine = foldData[i];\n            if (foldLine.end.row >= docRow) {\n                return foldLine;\n            }\n        }\n        return null;\n    };\n\n    this.getFoldedRowCount = function(first, last) {\n        var foldData = this.$foldData, rowCount = last-first+1;\n        for (var i = 0; i < foldData.length; i++) {\n            var foldLine = foldData[i],\n                end = foldLine.end.row,\n                start = foldLine.start.row;\n            if (end >= last) {\n                if (start < last) {\n                    if (start >= first)\n                        rowCount -= last-start;\n                    else\n                        rowCount = 0; // in one fold\n                }\n                break;\n            } else if (end >= first){\n                if (start >= first) // fold inside range\n                    rowCount -=  end-start;\n                else\n                    rowCount -=  end-first+1;\n            }\n        }\n        return rowCount;\n    };\n\n    this.$addFoldLine = function(foldLine) {\n        this.$foldData.push(foldLine);\n        this.$foldData.sort(function(a, b) {\n            return a.start.row - b.start.row;\n        });\n        return foldLine;\n    };\n    this.addFold = function(placeholder, range) {\n        var foldData = this.$foldData;\n        var added = false;\n        var fold;\n        \n        if (placeholder instanceof Fold)\n            fold = placeholder;\n        else {\n            fold = new Fold(range, placeholder);\n            fold.collapseChildren = range.collapseChildren;\n        }\n        this.$clipRangeToDocument(fold.range);\n\n        var startRow = fold.start.row;\n        var startColumn = fold.start.column;\n        var endRow = fold.end.row;\n        var endColumn = fold.end.column;\n\n        var startFold = this.getFoldAt(startRow, startColumn, 1);\n        var endFold = this.getFoldAt(endRow, endColumn, -1);\n        if (startFold && endFold == startFold)\n            return startFold.addSubFold(fold);\n\n        if (startFold && !startFold.range.isStart(startRow, startColumn))\n            this.removeFold(startFold);\n        \n        if (endFold && !endFold.range.isEnd(endRow, endColumn))\n            this.removeFold(endFold);\n        var folds = this.getFoldsInRange(fold.range);\n        if (folds.length > 0) {\n            this.removeFolds(folds);\n            if (!fold.collapseChildren) {\n                folds.forEach(function(subFold) {\n                    fold.addSubFold(subFold);\n                });\n            }\n        }\n\n        for (var i = 0; i < foldData.length; i++) {\n            var foldLine = foldData[i];\n            if (endRow == foldLine.start.row) {\n                foldLine.addFold(fold);\n                added = true;\n                break;\n            } else if (startRow == foldLine.end.row) {\n                foldLine.addFold(fold);\n                added = true;\n                if (!fold.sameRow) {\n                    var foldLineNext = foldData[i + 1];\n                    if (foldLineNext && foldLineNext.start.row == endRow) {\n                        foldLine.merge(foldLineNext);\n                        break;\n                    }\n                }\n                break;\n            } else if (endRow <= foldLine.start.row) {\n                break;\n            }\n        }\n\n        if (!added)\n            foldLine = this.$addFoldLine(new FoldLine(this.$foldData, fold));\n\n        if (this.$useWrapMode)\n            this.$updateWrapData(foldLine.start.row, foldLine.start.row);\n        else\n            this.$updateRowLengthCache(foldLine.start.row, foldLine.start.row);\n        this.$modified = true;\n        this._signal(\"changeFold\", { data: fold, action: \"add\" });\n\n        return fold;\n    };\n\n    this.addFolds = function(folds) {\n        folds.forEach(function(fold) {\n            this.addFold(fold);\n        }, this);\n    };\n\n    this.removeFold = function(fold) {\n        var foldLine = fold.foldLine;\n        var startRow = foldLine.start.row;\n        var endRow = foldLine.end.row;\n\n        var foldLines = this.$foldData;\n        var folds = foldLine.folds;\n        if (folds.length == 1) {\n            foldLines.splice(foldLines.indexOf(foldLine), 1);\n        } else\n        if (foldLine.range.isEnd(fold.end.row, fold.end.column)) {\n            folds.pop();\n            foldLine.end.row = folds[folds.length - 1].end.row;\n            foldLine.end.column = folds[folds.length - 1].end.column;\n        } else\n        if (foldLine.range.isStart(fold.start.row, fold.start.column)) {\n            folds.shift();\n            foldLine.start.row = folds[0].start.row;\n            foldLine.start.column = folds[0].start.column;\n        } else\n        if (fold.sameRow) {\n            folds.splice(folds.indexOf(fold), 1);\n        } else\n        {\n            var newFoldLine = foldLine.split(fold.start.row, fold.start.column);\n            folds = newFoldLine.folds;\n            folds.shift();\n            newFoldLine.start.row = folds[0].start.row;\n            newFoldLine.start.column = folds[0].start.column;\n        }\n\n        if (!this.$updating) {\n            if (this.$useWrapMode)\n                this.$updateWrapData(startRow, endRow);\n            else\n                this.$updateRowLengthCache(startRow, endRow);\n        }\n        this.$modified = true;\n        this._signal(\"changeFold\", { data: fold, action: \"remove\" });\n    };\n\n    this.removeFolds = function(folds) {\n        var cloneFolds = [];\n        for (var i = 0; i < folds.length; i++) {\n            cloneFolds.push(folds[i]);\n        }\n\n        cloneFolds.forEach(function(fold) {\n            this.removeFold(fold);\n        }, this);\n        this.$modified = true;\n    };\n\n    this.expandFold = function(fold) {\n        this.removeFold(fold);\n        fold.subFolds.forEach(function(subFold) {\n            fold.restoreRange(subFold);\n            this.addFold(subFold);\n        }, this);\n        if (fold.collapseChildren > 0) {\n            this.foldAll(fold.start.row+1, fold.end.row, fold.collapseChildren-1);\n        }\n        fold.subFolds = [];\n    };\n\n    this.expandFolds = function(folds) {\n        folds.forEach(function(fold) {\n            this.expandFold(fold);\n        }, this);\n    };\n\n    this.unfold = function(location, expandInner) {\n        var range, folds;\n        if (location == null) {\n            range = new Range(0, 0, this.getLength(), 0);\n            if (expandInner == null) expandInner = true;\n        } else if (typeof location == \"number\")\n            range = new Range(location, 0, location, this.getLine(location).length);\n        else if (\"row\" in location)\n            range = Range.fromPoints(location, location);\n        else\n            range = location;\n        \n        folds = this.getFoldsInRangeList(range);\n        if (expandInner != false) {\n            this.removeFolds(folds);\n        } else {\n            this.expandFolds(folds);\n        }\n        if (folds.length)\n            return folds;\n    };\n    this.isRowFolded = function(docRow, startFoldRow) {\n        return !!this.getFoldLine(docRow, startFoldRow);\n    };\n\n    this.getRowFoldEnd = function(docRow, startFoldRow) {\n        var foldLine = this.getFoldLine(docRow, startFoldRow);\n        return foldLine ? foldLine.end.row : docRow;\n    };\n\n    this.getRowFoldStart = function(docRow, startFoldRow) {\n        var foldLine = this.getFoldLine(docRow, startFoldRow);\n        return foldLine ? foldLine.start.row : docRow;\n    };\n\n    this.getFoldDisplayLine = function(foldLine, endRow, endColumn, startRow, startColumn) {\n        if (startRow == null)\n            startRow = foldLine.start.row;\n        if (startColumn == null)\n            startColumn = 0;\n        if (endRow == null)\n            endRow = foldLine.end.row;\n        if (endColumn == null)\n            endColumn = this.getLine(endRow).length;\n        var doc = this.doc;\n        var textLine = \"\";\n\n        foldLine.walk(function(placeholder, row, column, lastColumn) {\n            if (row < startRow)\n                return;\n            if (row == startRow) {\n                if (column < startColumn)\n                    return;\n                lastColumn = Math.max(startColumn, lastColumn);\n            }\n\n            if (placeholder != null) {\n                textLine += placeholder;\n            } else {\n                textLine += doc.getLine(row).substring(lastColumn, column);\n            }\n        }, endRow, endColumn);\n        return textLine;\n    };\n\n    this.getDisplayLine = function(row, endColumn, startRow, startColumn) {\n        var foldLine = this.getFoldLine(row);\n\n        if (!foldLine) {\n            var line;\n            line = this.doc.getLine(row);\n            return line.substring(startColumn || 0, endColumn || line.length);\n        } else {\n            return this.getFoldDisplayLine(\n                foldLine, row, endColumn, startRow, startColumn);\n        }\n    };\n\n    this.$cloneFoldData = function() {\n        var fd = [];\n        fd = this.$foldData.map(function(foldLine) {\n            var folds = foldLine.folds.map(function(fold) {\n                return fold.clone();\n            });\n            return new FoldLine(fd, folds);\n        });\n\n        return fd;\n    };\n\n    this.toggleFold = function(tryToUnfold) {\n        var selection = this.selection;\n        var range = selection.getRange();\n        var fold;\n        var bracketPos;\n\n        if (range.isEmpty()) {\n            var cursor = range.start;\n            fold = this.getFoldAt(cursor.row, cursor.column);\n\n            if (fold) {\n                this.expandFold(fold);\n                return;\n            } else if (bracketPos = this.findMatchingBracket(cursor)) {\n                if (range.comparePoint(bracketPos) == 1) {\n                    range.end = bracketPos;\n                } else {\n                    range.start = bracketPos;\n                    range.start.column++;\n                    range.end.column--;\n                }\n            } else if (bracketPos = this.findMatchingBracket({row: cursor.row, column: cursor.column + 1})) {\n                if (range.comparePoint(bracketPos) == 1)\n                    range.end = bracketPos;\n                else\n                    range.start = bracketPos;\n\n                range.start.column++;\n            } else {\n                range = this.getCommentFoldRange(cursor.row, cursor.column) || range;\n            }\n        } else {\n            var folds = this.getFoldsInRange(range);\n            if (tryToUnfold && folds.length) {\n                this.expandFolds(folds);\n                return;\n            } else if (folds.length == 1 ) {\n                fold = folds[0];\n            }\n        }\n\n        if (!fold)\n            fold = this.getFoldAt(range.start.row, range.start.column);\n\n        if (fold && fold.range.toString() == range.toString()) {\n            this.expandFold(fold);\n            return;\n        }\n\n        var placeholder = \"...\";\n        if (!range.isMultiLine()) {\n            placeholder = this.getTextRange(range);\n            if (placeholder.length < 4)\n                return;\n            placeholder = placeholder.trim().substring(0, 2) + \"..\";\n        }\n\n        this.addFold(placeholder, range);\n    };\n\n    this.getCommentFoldRange = function(row, column, dir) {\n        var iterator = new TokenIterator(this, row, column);\n        var token = iterator.getCurrentToken();\n        var type = token && token.type;\n        if (token && /^comment|string/.test(type)) {\n            type = type.match(/comment|string/)[0];\n            if (type == \"comment\")\n                type += \"|doc-start\";\n            var re = new RegExp(type);\n            var range = new Range();\n            if (dir != 1) {\n                do {\n                    token = iterator.stepBackward();\n                } while (token && re.test(token.type));\n                iterator.stepForward();\n            }\n            \n            range.start.row = iterator.getCurrentTokenRow();\n            range.start.column = iterator.getCurrentTokenColumn() + 2;\n\n            iterator = new TokenIterator(this, row, column);\n            \n            if (dir != -1) {\n                var lastRow = -1;\n                do {\n                    token = iterator.stepForward();\n                    if (lastRow == -1) {\n                        var state = this.getState(iterator.$row);\n                        if (!re.test(state))\n                            lastRow = iterator.$row;\n                    } else if (iterator.$row > lastRow) {\n                        break;\n                    }\n                } while (token && re.test(token.type));\n                token = iterator.stepBackward();\n            } else\n                token = iterator.getCurrentToken();\n\n            range.end.row = iterator.getCurrentTokenRow();\n            range.end.column = iterator.getCurrentTokenColumn() + token.value.length - 2;\n            return range;\n        }\n    };\n\n    this.foldAll = function(startRow, endRow, depth, test) {\n        if (depth == undefined)\n            depth = 100000; // JSON.stringify doesn't hanle Infinity\n        var foldWidgets = this.foldWidgets;\n        if (!foldWidgets)\n            return; // mode doesn't support folding\n        endRow = endRow || this.getLength();\n        startRow = startRow || 0;\n        for (var row = startRow; row < endRow; row++) {\n            if (foldWidgets[row] == null)\n                foldWidgets[row] = this.getFoldWidget(row);\n            if (foldWidgets[row] != \"start\")\n                continue;\n            \n            if (test && !test(row)) continue;\n\n            var range = this.getFoldWidgetRange(row);\n            if (range && range.isMultiLine()\n                && range.end.row <= endRow\n                && range.start.row >= startRow\n            ) {\n                row = range.end.row;\n                range.collapseChildren = depth;\n                this.addFold(\"...\", range);\n            }\n        }\n    };\n    \n    this.foldToLevel = function(level) {\n        this.foldAll();\n        while (level-- > 0)\n            this.unfold(null, false);\n    };\n    \n    this.foldAllComments = function() {\n        var session = this;\n        this.foldAll(null, null, null, function(row) {\n            var tokens = session.getTokens(row);\n            for (var i = 0; i < tokens.length; i++) {\n                var token = tokens[i];\n                if (token.type == \"text\" && /^\\s+$/.test(token.value))\n                    continue;\n                if (/comment/.test(token.type))\n                    return true;\n                return false;\n            }\n        });\n    };\n    this.$foldStyles = {\n        \"manual\": 1,\n        \"markbegin\": 1,\n        \"markbeginend\": 1\n    };\n    this.$foldStyle = \"markbegin\";\n    this.setFoldStyle = function(style) {\n        if (!this.$foldStyles[style])\n            throw new Error(\"invalid fold style: \" + style + \"[\" + Object.keys(this.$foldStyles).join(\", \") + \"]\");\n        \n        if (this.$foldStyle == style)\n            return;\n\n        this.$foldStyle = style;\n        \n        if (style == \"manual\")\n            this.unfold();\n        var mode = this.$foldMode;\n        this.$setFolding(null);\n        this.$setFolding(mode);\n    };\n\n    this.$setFolding = function(foldMode) {\n        if (this.$foldMode == foldMode)\n            return;\n            \n        this.$foldMode = foldMode;\n        \n        this.off('change', this.$updateFoldWidgets);\n        this.off('tokenizerUpdate', this.$tokenizerUpdateFoldWidgets);\n        this._signal(\"changeAnnotation\");\n        \n        if (!foldMode || this.$foldStyle == \"manual\") {\n            this.foldWidgets = null;\n            return;\n        }\n        \n        this.foldWidgets = [];\n        this.getFoldWidget = foldMode.getFoldWidget.bind(foldMode, this, this.$foldStyle);\n        this.getFoldWidgetRange = foldMode.getFoldWidgetRange.bind(foldMode, this, this.$foldStyle);\n        \n        this.$updateFoldWidgets = this.updateFoldWidgets.bind(this);\n        this.$tokenizerUpdateFoldWidgets = this.tokenizerUpdateFoldWidgets.bind(this);\n        this.on('change', this.$updateFoldWidgets);\n        this.on('tokenizerUpdate', this.$tokenizerUpdateFoldWidgets);\n    };\n\n    this.getParentFoldRangeData = function (row, ignoreCurrent) {\n        var fw = this.foldWidgets;\n        if (!fw || (ignoreCurrent && fw[row]))\n            return {};\n\n        var i = row - 1, firstRange;\n        while (i >= 0) {\n            var c = fw[i];\n            if (c == null)\n                c = fw[i] = this.getFoldWidget(i);\n\n            if (c == \"start\") {\n                var range = this.getFoldWidgetRange(i);\n                if (!firstRange)\n                    firstRange = range;\n                if (range && range.end.row >= row)\n                    break;\n            }\n            i--;\n        }\n\n        return {\n            range: i !== -1 && range,\n            firstRange: firstRange\n        };\n    };\n\n    this.onFoldWidgetClick = function(row, e) {\n        e = e.domEvent;\n        var options = {\n            children: e.shiftKey,\n            all: e.ctrlKey || e.metaKey,\n            siblings: e.altKey\n        };\n        \n        var range = this.$toggleFoldWidget(row, options);\n        if (!range) {\n            var el = (e.target || e.srcElement);\n            if (el && /ace_fold-widget/.test(el.className))\n                el.className += \" ace_invalid\";\n        }\n    };\n    \n    this.$toggleFoldWidget = function(row, options) {\n        if (!this.getFoldWidget)\n            return;\n        var type = this.getFoldWidget(row);\n        var line = this.getLine(row);\n\n        var dir = type === \"end\" ? -1 : 1;\n        var fold = this.getFoldAt(row, dir === -1 ? 0 : line.length, dir);\n\n        if (fold) {\n            if (options.children || options.all)\n                this.removeFold(fold);\n            else\n                this.expandFold(fold);\n            return fold;\n        }\n\n        var range = this.getFoldWidgetRange(row, true);\n        if (range && !range.isMultiLine()) {\n            fold = this.getFoldAt(range.start.row, range.start.column, 1);\n            if (fold && range.isEqual(fold.range)) {\n                this.removeFold(fold);\n                return fold;\n            }\n        }\n        \n        if (options.siblings) {\n            var data = this.getParentFoldRangeData(row);\n            if (data.range) {\n                var startRow = data.range.start.row + 1;\n                var endRow = data.range.end.row;\n            }\n            this.foldAll(startRow, endRow, options.all ? 10000 : 0);\n        } else if (options.children) {\n            endRow = range ? range.end.row : this.getLength();\n            this.foldAll(row + 1, endRow, options.all ? 10000 : 0);\n        } else if (range) {\n            if (options.all) \n                range.collapseChildren = 10000;\n            this.addFold(\"...\", range);\n        }\n        \n        return range;\n    };\n    \n    \n    \n    this.toggleFoldWidget = function(toggleParent) {\n        var row = this.selection.getCursor().row;\n        row = this.getRowFoldStart(row);\n        var range = this.$toggleFoldWidget(row, {});\n        \n        if (range)\n            return;\n        var data = this.getParentFoldRangeData(row, true);\n        range = data.range || data.firstRange;\n        \n        if (range) {\n            row = range.start.row;\n            var fold = this.getFoldAt(row, this.getLine(row).length, 1);\n\n            if (fold) {\n                this.removeFold(fold);\n            } else {\n                this.addFold(\"...\", range);\n            }\n        }\n    };\n\n    this.updateFoldWidgets = function(delta) {\n        var firstRow = delta.start.row;\n        var len = delta.end.row - firstRow;\n\n        if (len === 0) {\n            this.foldWidgets[firstRow] = null;\n        } else if (delta.action == 'remove') {\n            this.foldWidgets.splice(firstRow, len + 1, null);\n        } else {\n            var args = Array(len + 1);\n            args.unshift(firstRow, 1);\n            this.foldWidgets.splice.apply(this.foldWidgets, args);\n        }\n    };\n    this.tokenizerUpdateFoldWidgets = function(e) {\n        var rows = e.data;\n        if (rows.first != rows.last) {\n            if (this.foldWidgets.length > rows.first)\n                this.foldWidgets.splice(rows.first, this.foldWidgets.length);\n        }\n    };\n}\n\nexports.Folding = Folding;\n\n});\n\nace.define(\"ace/edit_session/bracket_match\",[\"require\",\"exports\",\"module\",\"ace/token_iterator\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar TokenIterator = require(\"../token_iterator\").TokenIterator;\nvar Range = require(\"../range\").Range;\n\n\nfunction BracketMatch() {\n\n    this.findMatchingBracket = function(position, chr) {\n        if (position.column == 0) return null;\n\n        var charBeforeCursor = chr || this.getLine(position.row).charAt(position.column-1);\n        if (charBeforeCursor == \"\") return null;\n\n        var match = charBeforeCursor.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n        if (!match)\n            return null;\n\n        if (match[1])\n            return this.$findClosingBracket(match[1], position);\n        else\n            return this.$findOpeningBracket(match[2], position);\n    };\n    \n    this.getBracketRange = function(pos) {\n        var line = this.getLine(pos.row);\n        var before = true, range;\n\n        var chr = line.charAt(pos.column - 1);\n        var match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n        if (!match) {\n            chr = line.charAt(pos.column);\n            pos = {row: pos.row, column: pos.column + 1};\n            match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n            before = false;\n        }\n        if (!match)\n            return null;\n\n        if (match[1]) {\n            var bracketPos = this.$findClosingBracket(match[1], pos);\n            if (!bracketPos)\n                return null;\n            range = Range.fromPoints(pos, bracketPos);\n            if (!before) {\n                range.end.column++;\n                range.start.column--;\n            }\n            range.cursor = range.end;\n        } else {\n            var bracketPos = this.$findOpeningBracket(match[2], pos);\n            if (!bracketPos)\n                return null;\n            range = Range.fromPoints(bracketPos, pos);\n            if (!before) {\n                range.start.column++;\n                range.end.column--;\n            }\n            range.cursor = range.start;\n        }\n        \n        return range;\n    };\n    this.getMatchingBracketRanges = function(pos) {\n        var line = this.getLine(pos.row);\n\n        var chr = line.charAt(pos.column - 1);\n        var match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n        if (!match) {\n            chr = line.charAt(pos.column);\n            pos = {row: pos.row, column: pos.column + 1};\n            match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n        }\n\n        if (!match)\n            return null;\n\n        var startRange = new Range(pos.row, pos.column - 1, pos.row, pos.column);\n        var bracketPos = match[1] ? this.$findClosingBracket(match[1], pos)\n            : this.$findOpeningBracket(match[2], pos);\n        if (!bracketPos)\n            return [startRange];\n        var endRange = new Range(bracketPos.row, bracketPos.column, bracketPos.row, bracketPos.column + 1);\n\n        return [startRange, endRange];\n    };\n\n    this.$brackets = {\n        \")\": \"(\",\n        \"(\": \")\",\n        \"]\": \"[\",\n        \"[\": \"]\",\n        \"{\": \"}\",\n        \"}\": \"{\",\n        \"<\": \">\",\n        \">\": \"<\"\n    };\n\n    this.$findOpeningBracket = function(bracket, position, typeRe) {\n        var openBracket = this.$brackets[bracket];\n        var depth = 1;\n\n        var iterator = new TokenIterator(this, position.row, position.column);\n        var token = iterator.getCurrentToken();\n        if (!token)\n            token = iterator.stepForward();\n        if (!token)\n            return;\n        \n         if (!typeRe){\n            typeRe = new RegExp(\n                \"(\\\\.?\" +\n                token.type.replace(\".\", \"\\\\.\").replace(\"rparen\", \".paren\")\n                    .replace(/\\b(?:end)\\b/, \"(?:start|begin|end)\")\n                + \")+\"\n            );\n        }\n        var valueIndex = position.column - iterator.getCurrentTokenColumn() - 2;\n        var value = token.value;\n        \n        while (true) {\n        \n            while (valueIndex >= 0) {\n                var chr = value.charAt(valueIndex);\n                if (chr == openBracket) {\n                    depth -= 1;\n                    if (depth == 0) {\n                        return {row: iterator.getCurrentTokenRow(),\n                            column: valueIndex + iterator.getCurrentTokenColumn()};\n                    }\n                }\n                else if (chr == bracket) {\n                    depth += 1;\n                }\n                valueIndex -= 1;\n            }\n            do {\n                token = iterator.stepBackward();\n            } while (token && !typeRe.test(token.type));\n\n            if (token == null)\n                break;\n                \n            value = token.value;\n            valueIndex = value.length - 1;\n        }\n        \n        return null;\n    };\n\n    this.$findClosingBracket = function(bracket, position, typeRe) {\n        var closingBracket = this.$brackets[bracket];\n        var depth = 1;\n\n        var iterator = new TokenIterator(this, position.row, position.column);\n        var token = iterator.getCurrentToken();\n        if (!token)\n            token = iterator.stepForward();\n        if (!token)\n            return;\n\n        if (!typeRe){\n            typeRe = new RegExp(\n                \"(\\\\.?\" +\n                token.type.replace(\".\", \"\\\\.\").replace(\"lparen\", \".paren\")\n                    .replace(/\\b(?:start|begin)\\b/, \"(?:start|begin|end)\")\n                + \")+\"\n            );\n        }\n        var valueIndex = position.column - iterator.getCurrentTokenColumn();\n\n        while (true) {\n\n            var value = token.value;\n            var valueLength = value.length;\n            while (valueIndex < valueLength) {\n                var chr = value.charAt(valueIndex);\n                if (chr == closingBracket) {\n                    depth -= 1;\n                    if (depth == 0) {\n                        return {row: iterator.getCurrentTokenRow(),\n                            column: valueIndex + iterator.getCurrentTokenColumn()};\n                    }\n                }\n                else if (chr == bracket) {\n                    depth += 1;\n                }\n                valueIndex += 1;\n            }\n            do {\n                token = iterator.stepForward();\n            } while (token && !typeRe.test(token.type));\n\n            if (token == null)\n                break;\n\n            valueIndex = 0;\n        }\n        \n        return null;\n    };\n}\nexports.BracketMatch = BracketMatch;\n\n});\n\nace.define(\"ace/edit_session\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/bidihandler\",\"ace/config\",\"ace/lib/event_emitter\",\"ace/selection\",\"ace/mode/text\",\"ace/range\",\"ace/document\",\"ace/background_tokenizer\",\"ace/search_highlight\",\"ace/edit_session/folding\",\"ace/edit_session/bracket_match\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar lang = require(\"./lib/lang\");\nvar BidiHandler = require(\"./bidihandler\").BidiHandler;\nvar config = require(\"./config\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Selection = require(\"./selection\").Selection;\nvar TextMode = require(\"./mode/text\").Mode;\nvar Range = require(\"./range\").Range;\nvar Document = require(\"./document\").Document;\nvar BackgroundTokenizer = require(\"./background_tokenizer\").BackgroundTokenizer;\nvar SearchHighlight = require(\"./search_highlight\").SearchHighlight;\n\nvar EditSession = function(text, mode) {\n    this.$breakpoints = [];\n    this.$decorations = [];\n    this.$frontMarkers = {};\n    this.$backMarkers = {};\n    this.$markerId = 1;\n    this.$undoSelect = true;\n\n    this.$foldData = [];\n    this.id = \"session\" + (++EditSession.$uid);\n    this.$foldData.toString = function() {\n        return this.join(\"\\n\");\n    };\n    this.on(\"changeFold\", this.onChangeFold.bind(this));\n    this.$onChange = this.onChange.bind(this);\n\n    if (typeof text != \"object\" || !text.getLine)\n        text = new Document(text);\n\n    this.setDocument(text);\n    this.selection = new Selection(this);\n    this.$bidiHandler = new BidiHandler(this);\n\n    config.resetOptions(this);\n    this.setMode(mode);\n    config._signal(\"session\", this);\n};\n\n\nEditSession.$uid = 0;\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.setDocument = function(doc) {\n        if (this.doc)\n            this.doc.removeListener(\"change\", this.$onChange);\n\n        this.doc = doc;\n        doc.on(\"change\", this.$onChange);\n\n        if (this.bgTokenizer)\n            this.bgTokenizer.setDocument(this.getDocument());\n\n        this.resetCaches();\n    };\n    this.getDocument = function() {\n        return this.doc;\n    };\n    this.$resetRowCache = function(docRow) {\n        if (!docRow) {\n            this.$docRowCache = [];\n            this.$screenRowCache = [];\n            return;\n        }\n        var l = this.$docRowCache.length;\n        var i = this.$getRowCacheIndex(this.$docRowCache, docRow) + 1;\n        if (l > i) {\n            this.$docRowCache.splice(i, l);\n            this.$screenRowCache.splice(i, l);\n        }\n    };\n\n    this.$getRowCacheIndex = function(cacheArray, val) {\n        var low = 0;\n        var hi = cacheArray.length - 1;\n\n        while (low <= hi) {\n            var mid = (low + hi) >> 1;\n            var c = cacheArray[mid];\n\n            if (val > c)\n                low = mid + 1;\n            else if (val < c)\n                hi = mid - 1;\n            else\n                return mid;\n        }\n\n        return low -1;\n    };\n\n    this.resetCaches = function() {\n        this.$modified = true;\n        this.$wrapData = [];\n        this.$rowLengthCache = [];\n        this.$resetRowCache(0);\n        if (this.bgTokenizer)\n            this.bgTokenizer.start(0);\n    };\n\n    this.onChangeFold = function(e) {\n        var fold = e.data;\n        this.$resetRowCache(fold.start.row);\n    };\n\n    this.onChange = function(delta) {\n        this.$modified = true;\n        this.$bidiHandler.onChange(delta);\n        this.$resetRowCache(delta.start.row);\n\n        var removedFolds = this.$updateInternalDataOnChange(delta);\n        if (!this.$fromUndo && this.$undoManager) {\n            if (removedFolds && removedFolds.length) {\n                this.$undoManager.add({\n                    action: \"removeFolds\",\n                    folds:  removedFolds\n                }, this.mergeUndoDeltas);\n                this.mergeUndoDeltas = true;\n            }\n            this.$undoManager.add(delta, this.mergeUndoDeltas);\n            this.mergeUndoDeltas = true;\n            \n            this.$informUndoManager.schedule();\n        }\n\n        this.bgTokenizer && this.bgTokenizer.$updateOnChange(delta);\n        this._signal(\"change\", delta);\n    };\n    this.setValue = function(text) {\n        this.doc.setValue(text);\n        this.selection.moveTo(0, 0);\n\n        this.$resetRowCache(0);\n        this.setUndoManager(this.$undoManager);\n        this.getUndoManager().reset();\n    };\n    this.getValue =\n    this.toString = function() {\n        return this.doc.getValue();\n    };\n    this.getSelection = function() {\n        return this.selection;\n    };\n    this.getState = function(row) {\n        return this.bgTokenizer.getState(row);\n    };\n    this.getTokens = function(row) {\n        return this.bgTokenizer.getTokens(row);\n    };\n    this.getTokenAt = function(row, column) {\n        var tokens = this.bgTokenizer.getTokens(row);\n        var token, c = 0;\n        if (column == null) {\n            var i = tokens.length - 1;\n            c = this.getLine(row).length;\n        } else {\n            for (var i = 0; i < tokens.length; i++) {\n                c += tokens[i].value.length;\n                if (c >= column)\n                    break;\n            }\n        }\n        token = tokens[i];\n        if (!token)\n            return null;\n        token.index = i;\n        token.start = c - token.value.length;\n        return token;\n    };\n    this.setUndoManager = function(undoManager) {\n        this.$undoManager = undoManager;\n        \n        if (this.$informUndoManager)\n            this.$informUndoManager.cancel();\n        \n        if (undoManager) {\n            var self = this;\n            undoManager.addSession(this);\n            this.$syncInformUndoManager = function() {\n                self.$informUndoManager.cancel();\n                self.mergeUndoDeltas = false;\n            };\n            this.$informUndoManager = lang.delayedCall(this.$syncInformUndoManager);\n        } else {\n            this.$syncInformUndoManager = function() {};\n        }\n    };\n    this.markUndoGroup = function() {\n        if (this.$syncInformUndoManager)\n            this.$syncInformUndoManager();\n    };\n    \n    this.$defaultUndoManager = {\n        undo: function() {},\n        redo: function() {},\n        hasUndo: function() {},\n        hasRedo: function() {},\n        reset: function() {},\n        add: function() {},\n        addSelection: function() {},\n        startNewGroup: function() {},\n        addSession: function() {}\n    };\n    this.getUndoManager = function() {\n        return this.$undoManager || this.$defaultUndoManager;\n    };\n    this.getTabString = function() {\n        if (this.getUseSoftTabs()) {\n            return lang.stringRepeat(\" \", this.getTabSize());\n        } else {\n            return \"\\t\";\n        }\n    };\n    this.setUseSoftTabs = function(val) {\n        this.setOption(\"useSoftTabs\", val);\n    };\n    this.getUseSoftTabs = function() {\n        return this.$useSoftTabs && !this.$mode.$indentWithTabs;\n    };\n    this.setTabSize = function(tabSize) {\n        this.setOption(\"tabSize\", tabSize);\n    };\n    this.getTabSize = function() {\n        return this.$tabSize;\n    };\n    this.isTabStop = function(position) {\n        return this.$useSoftTabs && (position.column % this.$tabSize === 0);\n    };\n    this.setNavigateWithinSoftTabs = function (navigateWithinSoftTabs) {\n        this.setOption(\"navigateWithinSoftTabs\", navigateWithinSoftTabs);\n    };\n    this.getNavigateWithinSoftTabs = function() {\n        return this.$navigateWithinSoftTabs;\n    };\n\n    this.$overwrite = false;\n    this.setOverwrite = function(overwrite) {\n        this.setOption(\"overwrite\", overwrite);\n    };\n    this.getOverwrite = function() {\n        return this.$overwrite;\n    };\n    this.toggleOverwrite = function() {\n        this.setOverwrite(!this.$overwrite);\n    };\n    this.addGutterDecoration = function(row, className) {\n        if (!this.$decorations[row])\n            this.$decorations[row] = \"\";\n        this.$decorations[row] += \" \" + className;\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.removeGutterDecoration = function(row, className) {\n        this.$decorations[row] = (this.$decorations[row] || \"\").replace(\" \" + className, \"\");\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.getBreakpoints = function() {\n        return this.$breakpoints;\n    };\n    this.setBreakpoints = function(rows) {\n        this.$breakpoints = [];\n        for (var i=0; i<rows.length; i++) {\n            this.$breakpoints[rows[i]] = \"ace_breakpoint\";\n        }\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.clearBreakpoints = function() {\n        this.$breakpoints = [];\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.setBreakpoint = function(row, className) {\n        if (className === undefined)\n            className = \"ace_breakpoint\";\n        if (className)\n            this.$breakpoints[row] = className;\n        else\n            delete this.$breakpoints[row];\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.clearBreakpoint = function(row) {\n        delete this.$breakpoints[row];\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.addMarker = function(range, clazz, type, inFront) {\n        var id = this.$markerId++;\n\n        var marker = {\n            range : range,\n            type : type || \"line\",\n            renderer: typeof type == \"function\" ? type : null,\n            clazz : clazz,\n            inFront: !!inFront,\n            id: id\n        };\n\n        if (inFront) {\n            this.$frontMarkers[id] = marker;\n            this._signal(\"changeFrontMarker\");\n        } else {\n            this.$backMarkers[id] = marker;\n            this._signal(\"changeBackMarker\");\n        }\n\n        return id;\n    };\n    this.addDynamicMarker = function(marker, inFront) {\n        if (!marker.update)\n            return;\n        var id = this.$markerId++;\n        marker.id = id;\n        marker.inFront = !!inFront;\n\n        if (inFront) {\n            this.$frontMarkers[id] = marker;\n            this._signal(\"changeFrontMarker\");\n        } else {\n            this.$backMarkers[id] = marker;\n            this._signal(\"changeBackMarker\");\n        }\n\n        return marker;\n    };\n    this.removeMarker = function(markerId) {\n        var marker = this.$frontMarkers[markerId] || this.$backMarkers[markerId];\n        if (!marker)\n            return;\n\n        var markers = marker.inFront ? this.$frontMarkers : this.$backMarkers;\n        delete (markers[markerId]);\n        this._signal(marker.inFront ? \"changeFrontMarker\" : \"changeBackMarker\");\n    };\n    this.getMarkers = function(inFront) {\n        return inFront ? this.$frontMarkers : this.$backMarkers;\n    };\n\n    this.highlight = function(re) {\n        if (!this.$searchHighlight) {\n            var highlight = new SearchHighlight(null, \"ace_selected-word\", \"text\");\n            this.$searchHighlight = this.addDynamicMarker(highlight);\n        }\n        this.$searchHighlight.setRegexp(re);\n    };\n    this.highlightLines = function(startRow, endRow, clazz, inFront) {\n        if (typeof endRow != \"number\") {\n            clazz = endRow;\n            endRow = startRow;\n        }\n        if (!clazz)\n            clazz = \"ace_step\";\n\n        var range = new Range(startRow, 0, endRow, Infinity);\n        range.id = this.addMarker(range, clazz, \"fullLine\", inFront);\n        return range;\n    };\n    this.setAnnotations = function(annotations) {\n        this.$annotations = annotations;\n        this._signal(\"changeAnnotation\", {});\n    };\n    this.getAnnotations = function() {\n        return this.$annotations || [];\n    };\n    this.clearAnnotations = function() {\n        this.setAnnotations([]);\n    };\n    this.$detectNewLine = function(text) {\n        var match = text.match(/^.*?(\\r?\\n)/m);\n        if (match) {\n            this.$autoNewLine = match[1];\n        } else {\n            this.$autoNewLine = \"\\n\";\n        }\n    };\n    this.getWordRange = function(row, column) {\n        var line = this.getLine(row);\n\n        var inToken = false;\n        if (column > 0)\n            inToken = !!line.charAt(column - 1).match(this.tokenRe);\n\n        if (!inToken)\n            inToken = !!line.charAt(column).match(this.tokenRe);\n\n        if (inToken)\n            var re = this.tokenRe;\n        else if (/^\\s+$/.test(line.slice(column-1, column+1)))\n            var re = /\\s/;\n        else\n            var re = this.nonTokenRe;\n\n        var start = column;\n        if (start > 0) {\n            do {\n                start--;\n            }\n            while (start >= 0 && line.charAt(start).match(re));\n            start++;\n        }\n\n        var end = column;\n        while (end < line.length && line.charAt(end).match(re)) {\n            end++;\n        }\n\n        return new Range(row, start, row, end);\n    };\n    this.getAWordRange = function(row, column) {\n        var wordRange = this.getWordRange(row, column);\n        var line = this.getLine(wordRange.end.row);\n\n        while (line.charAt(wordRange.end.column).match(/[ \\t]/)) {\n            wordRange.end.column += 1;\n        }\n        return wordRange;\n    };\n    this.setNewLineMode = function(newLineMode) {\n        this.doc.setNewLineMode(newLineMode);\n    };\n    this.getNewLineMode = function() {\n        return this.doc.getNewLineMode();\n    };\n    this.setUseWorker = function(useWorker) { this.setOption(\"useWorker\", useWorker); };\n    this.getUseWorker = function() { return this.$useWorker; };\n    this.onReloadTokenizer = function(e) {\n        var rows = e.data;\n        this.bgTokenizer.start(rows.first);\n        this._signal(\"tokenizerUpdate\", e);\n    };\n\n    this.$modes = config.$modes;\n    this.$mode = null;\n    this.$modeId = null;\n    this.setMode = function(mode, cb) {\n        if (mode && typeof mode === \"object\") {\n            if (mode.getTokenizer)\n                return this.$onChangeMode(mode);\n            var options = mode;\n            var path = options.path;\n        } else {\n            path = mode || \"ace/mode/text\";\n        }\n        if (!this.$modes[\"ace/mode/text\"])\n            this.$modes[\"ace/mode/text\"] = new TextMode();\n\n        if (this.$modes[path] && !options) {\n            this.$onChangeMode(this.$modes[path]);\n            cb && cb();\n            return;\n        }\n        this.$modeId = path;\n        config.loadModule([\"mode\", path], function(m) {\n            if (this.$modeId !== path)\n                return cb && cb();\n            if (this.$modes[path] && !options) {\n                this.$onChangeMode(this.$modes[path]);\n            } else if (m && m.Mode) {\n                m = new m.Mode(options);\n                if (!options) {\n                    this.$modes[path] = m;\n                    m.$id = path;\n                }\n                this.$onChangeMode(m);\n            }\n            cb && cb();\n        }.bind(this));\n        if (!this.$mode)\n            this.$onChangeMode(this.$modes[\"ace/mode/text\"], true);\n    };\n\n    this.$onChangeMode = function(mode, $isPlaceholder) {\n        if (!$isPlaceholder)\n            this.$modeId = mode.$id;\n        if (this.$mode === mode) \n            return;\n            \n        var oldMode = this.$mode;\n        this.$mode = mode;\n\n        this.$stopWorker();\n\n        if (this.$useWorker)\n            this.$startWorker();\n\n        var tokenizer = mode.getTokenizer();\n\n        if(tokenizer.on !== undefined) {\n            var onReloadTokenizer = this.onReloadTokenizer.bind(this);\n            tokenizer.on(\"update\", onReloadTokenizer);\n        }\n\n        if (!this.bgTokenizer) {\n            this.bgTokenizer = new BackgroundTokenizer(tokenizer);\n            var _self = this;\n            this.bgTokenizer.on(\"update\", function(e) {\n                _self._signal(\"tokenizerUpdate\", e);\n            });\n        } else {\n            this.bgTokenizer.setTokenizer(tokenizer);\n        }\n\n        this.bgTokenizer.setDocument(this.getDocument());\n\n        this.tokenRe = mode.tokenRe;\n        this.nonTokenRe = mode.nonTokenRe;\n\n        \n        if (!$isPlaceholder) {\n            if (mode.attachToSession)\n                mode.attachToSession(this);\n            this.$options.wrapMethod.set.call(this, this.$wrapMethod);\n            this.$setFolding(mode.foldingRules);\n            this.bgTokenizer.start(0);\n            this._emit(\"changeMode\", {oldMode: oldMode, mode: mode});\n        }\n    };\n\n    this.$stopWorker = function() {\n        if (this.$worker) {\n            this.$worker.terminate();\n            this.$worker = null;\n        }\n    };\n\n    this.$startWorker = function() {\n        try {\n            this.$worker = this.$mode.createWorker(this);\n        } catch (e) {\n            config.warn(\"Could not load worker\", e);\n            this.$worker = null;\n        }\n    };\n    this.getMode = function() {\n        return this.$mode;\n    };\n\n    this.$scrollTop = 0;\n    this.setScrollTop = function(scrollTop) {\n        if (this.$scrollTop === scrollTop || isNaN(scrollTop))\n            return;\n\n        this.$scrollTop = scrollTop;\n        this._signal(\"changeScrollTop\", scrollTop);\n    };\n    this.getScrollTop = function() {\n        return this.$scrollTop;\n    };\n\n    this.$scrollLeft = 0;\n    this.setScrollLeft = function(scrollLeft) {\n        if (this.$scrollLeft === scrollLeft || isNaN(scrollLeft))\n            return;\n\n        this.$scrollLeft = scrollLeft;\n        this._signal(\"changeScrollLeft\", scrollLeft);\n    };\n    this.getScrollLeft = function() {\n        return this.$scrollLeft;\n    };\n    this.getScreenWidth = function() {\n        this.$computeWidth();\n        if (this.lineWidgets) \n            return Math.max(this.getLineWidgetMaxWidth(), this.screenWidth);\n        return this.screenWidth;\n    };\n    \n    this.getLineWidgetMaxWidth = function() {\n        if (this.lineWidgetsWidth != null) return this.lineWidgetsWidth;\n        var width = 0;\n        this.lineWidgets.forEach(function(w) {\n            if (w && w.screenWidth > width)\n                width = w.screenWidth;\n        });\n        return this.lineWidgetWidth = width;\n    };\n\n    this.$computeWidth = function(force) {\n        if (this.$modified || force) {\n            this.$modified = false;\n\n            if (this.$useWrapMode)\n                return this.screenWidth = this.$wrapLimit;\n\n            var lines = this.doc.getAllLines();\n            var cache = this.$rowLengthCache;\n            var longestScreenLine = 0;\n            var foldIndex = 0;\n            var foldLine = this.$foldData[foldIndex];\n            var foldStart = foldLine ? foldLine.start.row : Infinity;\n            var len = lines.length;\n\n            for (var i = 0; i < len; i++) {\n                if (i > foldStart) {\n                    i = foldLine.end.row + 1;\n                    if (i >= len)\n                        break;\n                    foldLine = this.$foldData[foldIndex++];\n                    foldStart = foldLine ? foldLine.start.row : Infinity;\n                }\n\n                if (cache[i] == null)\n                    cache[i] = this.$getStringScreenWidth(lines[i])[0];\n\n                if (cache[i] > longestScreenLine)\n                    longestScreenLine = cache[i];\n            }\n            this.screenWidth = longestScreenLine;\n        }\n    };\n    this.getLine = function(row) {\n        return this.doc.getLine(row);\n    };\n    this.getLines = function(firstRow, lastRow) {\n        return this.doc.getLines(firstRow, lastRow);\n    };\n    this.getLength = function() {\n        return this.doc.getLength();\n    };\n    this.getTextRange = function(range) {\n        return this.doc.getTextRange(range || this.selection.getRange());\n    };\n    this.insert = function(position, text) {\n        return this.doc.insert(position, text);\n    };\n    this.remove = function(range) {\n        return this.doc.remove(range);\n    };\n    this.removeFullLines = function(firstRow, lastRow){\n        return this.doc.removeFullLines(firstRow, lastRow);\n    };\n    this.undoChanges = function(deltas, dontSelect) {\n        if (!deltas.length)\n            return;\n\n        this.$fromUndo = true;\n        for (var i = deltas.length - 1; i != -1; i--) {\n            var delta = deltas[i];\n            if (delta.action == \"insert\" || delta.action == \"remove\") {\n                this.doc.revertDelta(delta);\n            } else if (delta.folds) {\n                this.addFolds(delta.folds);\n            }\n        }\n        if (!dontSelect && this.$undoSelect) {\n            if (deltas.selectionBefore)\n                this.selection.fromJSON(deltas.selectionBefore);\n            else\n                this.selection.setRange(this.$getUndoSelection(deltas, true));\n        }\n        this.$fromUndo = false;\n    };\n    this.redoChanges = function(deltas, dontSelect) {\n        if (!deltas.length)\n            return;\n\n        this.$fromUndo = true;\n        for (var i = 0; i < deltas.length; i++) {\n            var delta = deltas[i];\n            if (delta.action == \"insert\" || delta.action == \"remove\") {\n                this.doc.$safeApplyDelta(delta);\n            }\n        }\n\n        if (!dontSelect && this.$undoSelect) {\n            if (deltas.selectionAfter)\n                this.selection.fromJSON(deltas.selectionAfter);\n            else\n                this.selection.setRange(this.$getUndoSelection(deltas, false));\n        }\n        this.$fromUndo = false;\n    };\n    this.setUndoSelect = function(enable) {\n        this.$undoSelect = enable;\n    };\n\n    this.$getUndoSelection = function(deltas, isUndo) {\n        function isInsert(delta) {\n            return isUndo ? delta.action !== \"insert\" : delta.action === \"insert\";\n        }\n\n        var range, point;\n\n        for (var i = 0; i < deltas.length; i++) {\n            var delta = deltas[i];\n            if (!delta.start) continue; // skip folds\n            if (!range) {\n                if (isInsert(delta)) {\n                    range = Range.fromPoints(delta.start, delta.end);\n                } else {\n                    range = Range.fromPoints(delta.start, delta.start);\n                }\n                continue;\n            }\n            \n            if (isInsert(delta)) {\n                point = delta.start;\n                if (range.compare(point.row, point.column) == -1) {\n                    range.setStart(point);\n                }\n                point = delta.end;\n                if (range.compare(point.row, point.column) == 1) {\n                    range.setEnd(point);\n                }\n            } else {\n                point = delta.start;\n                if (range.compare(point.row, point.column) == -1) {\n                    range = Range.fromPoints(delta.start, delta.start);\n                }\n            }\n        }\n        return range;\n    };\n    this.replace = function(range, text) {\n        return this.doc.replace(range, text);\n    };\n    this.moveText = function(fromRange, toPosition, copy) {\n        var text = this.getTextRange(fromRange);\n        var folds = this.getFoldsInRange(fromRange);\n\n        var toRange = Range.fromPoints(toPosition, toPosition);\n        if (!copy) {\n            this.remove(fromRange);\n            var rowDiff = fromRange.start.row - fromRange.end.row;\n            var collDiff = rowDiff ? -fromRange.end.column : fromRange.start.column - fromRange.end.column;\n            if (collDiff) {\n                if (toRange.start.row == fromRange.end.row && toRange.start.column > fromRange.end.column)\n                    toRange.start.column += collDiff;\n                if (toRange.end.row == fromRange.end.row && toRange.end.column > fromRange.end.column)\n                    toRange.end.column += collDiff;\n            }\n            if (rowDiff && toRange.start.row >= fromRange.end.row) {\n                toRange.start.row += rowDiff;\n                toRange.end.row += rowDiff;\n            }\n        }\n\n        toRange.end = this.insert(toRange.start, text);\n        if (folds.length) {\n            var oldStart = fromRange.start;\n            var newStart = toRange.start;\n            var rowDiff = newStart.row - oldStart.row;\n            var collDiff = newStart.column - oldStart.column;\n            this.addFolds(folds.map(function(x) {\n                x = x.clone();\n                if (x.start.row == oldStart.row)\n                    x.start.column += collDiff;\n                if (x.end.row == oldStart.row)\n                    x.end.column += collDiff;\n                x.start.row += rowDiff;\n                x.end.row += rowDiff;\n                return x;\n            }));\n        }\n\n        return toRange;\n    };\n    this.indentRows = function(startRow, endRow, indentString) {\n        indentString = indentString.replace(/\\t/g, this.getTabString());\n        for (var row=startRow; row<=endRow; row++)\n            this.doc.insertInLine({row: row, column: 0}, indentString);\n    };\n    this.outdentRows = function (range) {\n        var rowRange = range.collapseRows();\n        var deleteRange = new Range(0, 0, 0, 0);\n        var size = this.getTabSize();\n\n        for (var i = rowRange.start.row; i <= rowRange.end.row; ++i) {\n            var line = this.getLine(i);\n\n            deleteRange.start.row = i;\n            deleteRange.end.row = i;\n            for (var j = 0; j < size; ++j)\n                if (line.charAt(j) != ' ')\n                    break;\n            if (j < size && line.charAt(j) == '\\t') {\n                deleteRange.start.column = j;\n                deleteRange.end.column = j + 1;\n            } else {\n                deleteRange.start.column = 0;\n                deleteRange.end.column = j;\n            }\n            this.remove(deleteRange);\n        }\n    };\n\n    this.$moveLines = function(firstRow, lastRow, dir) {\n        firstRow = this.getRowFoldStart(firstRow);\n        lastRow = this.getRowFoldEnd(lastRow);\n        if (dir < 0) {\n            var row = this.getRowFoldStart(firstRow + dir);\n            if (row < 0) return 0;\n            var diff = row-firstRow;\n        } else if (dir > 0) {\n            var row = this.getRowFoldEnd(lastRow + dir);\n            if (row > this.doc.getLength()-1) return 0;\n            var diff = row-lastRow;\n        } else {\n            firstRow = this.$clipRowToDocument(firstRow);\n            lastRow = this.$clipRowToDocument(lastRow);\n            var diff = lastRow - firstRow + 1;\n        }\n\n        var range = new Range(firstRow, 0, lastRow, Number.MAX_VALUE);\n        var folds = this.getFoldsInRange(range).map(function(x){\n            x = x.clone();\n            x.start.row += diff;\n            x.end.row += diff;\n            return x;\n        });\n        \n        var lines = dir == 0\n            ? this.doc.getLines(firstRow, lastRow)\n            : this.doc.removeFullLines(firstRow, lastRow);\n        this.doc.insertFullLines(firstRow+diff, lines);\n        folds.length && this.addFolds(folds);\n        return diff;\n    };\n    this.moveLinesUp = function(firstRow, lastRow) {\n        return this.$moveLines(firstRow, lastRow, -1);\n    };\n    this.moveLinesDown = function(firstRow, lastRow) {\n        return this.$moveLines(firstRow, lastRow, 1);\n    };\n    this.duplicateLines = function(firstRow, lastRow) {\n        return this.$moveLines(firstRow, lastRow, 0);\n    };\n\n\n    this.$clipRowToDocument = function(row) {\n        return Math.max(0, Math.min(row, this.doc.getLength()-1));\n    };\n\n    this.$clipColumnToRow = function(row, column) {\n        if (column < 0)\n            return 0;\n        return Math.min(this.doc.getLine(row).length, column);\n    };\n\n\n    this.$clipPositionToDocument = function(row, column) {\n        column = Math.max(0, column);\n\n        if (row < 0) {\n            row = 0;\n            column = 0;\n        } else {\n            var len = this.doc.getLength();\n            if (row >= len) {\n                row = len - 1;\n                column = this.doc.getLine(len-1).length;\n            } else {\n                column = Math.min(this.doc.getLine(row).length, column);\n            }\n        }\n\n        return {\n            row: row,\n            column: column\n        };\n    };\n\n    this.$clipRangeToDocument = function(range) {\n        if (range.start.row < 0) {\n            range.start.row = 0;\n            range.start.column = 0;\n        } else {\n            range.start.column = this.$clipColumnToRow(\n                range.start.row,\n                range.start.column\n            );\n        }\n\n        var len = this.doc.getLength() - 1;\n        if (range.end.row > len) {\n            range.end.row = len;\n            range.end.column = this.doc.getLine(len).length;\n        } else {\n            range.end.column = this.$clipColumnToRow(\n                range.end.row,\n                range.end.column\n            );\n        }\n        return range;\n    };\n    this.$wrapLimit = 80;\n    this.$useWrapMode = false;\n    this.$wrapLimitRange = {\n        min : null,\n        max : null\n    };\n    this.setUseWrapMode = function(useWrapMode) {\n        if (useWrapMode != this.$useWrapMode) {\n            this.$useWrapMode = useWrapMode;\n            this.$modified = true;\n            this.$resetRowCache(0);\n            if (useWrapMode) {\n                var len = this.getLength();\n                this.$wrapData = Array(len);\n                this.$updateWrapData(0, len - 1);\n            }\n\n            this._signal(\"changeWrapMode\");\n        }\n    };\n    this.getUseWrapMode = function() {\n        return this.$useWrapMode;\n    };\n    this.setWrapLimitRange = function(min, max) {\n        if (this.$wrapLimitRange.min !== min || this.$wrapLimitRange.max !== max) {\n            this.$wrapLimitRange = { min: min, max: max };\n            this.$modified = true;\n            this.$bidiHandler.markAsDirty();\n            if (this.$useWrapMode)\n                this._signal(\"changeWrapMode\");\n        }\n    };\n    this.adjustWrapLimit = function(desiredLimit, $printMargin) {\n        var limits = this.$wrapLimitRange;\n        if (limits.max < 0)\n            limits = {min: $printMargin, max: $printMargin};\n        var wrapLimit = this.$constrainWrapLimit(desiredLimit, limits.min, limits.max);\n        if (wrapLimit != this.$wrapLimit && wrapLimit > 1) {\n            this.$wrapLimit = wrapLimit;\n            this.$modified = true;\n            if (this.$useWrapMode) {\n                this.$updateWrapData(0, this.getLength() - 1);\n                this.$resetRowCache(0);\n                this._signal(\"changeWrapLimit\");\n            }\n            return true;\n        }\n        return false;\n    };\n\n    this.$constrainWrapLimit = function(wrapLimit, min, max) {\n        if (min)\n            wrapLimit = Math.max(min, wrapLimit);\n\n        if (max)\n            wrapLimit = Math.min(max, wrapLimit);\n\n        return wrapLimit;\n    };\n    this.getWrapLimit = function() {\n        return this.$wrapLimit;\n    };\n    this.setWrapLimit = function (limit) {\n        this.setWrapLimitRange(limit, limit);\n    };\n    this.getWrapLimitRange = function() {\n        return {\n            min : this.$wrapLimitRange.min,\n            max : this.$wrapLimitRange.max\n        };\n    };\n\n    this.$updateInternalDataOnChange = function(delta) {\n        var useWrapMode = this.$useWrapMode;\n        var action = delta.action;\n        var start = delta.start;\n        var end = delta.end;\n        var firstRow = start.row;\n        var lastRow = end.row;\n        var len = lastRow - firstRow;\n        var removedFolds = null;\n        \n        this.$updating = true;\n        if (len != 0) {\n            if (action === \"remove\") {\n                this[useWrapMode ? \"$wrapData\" : \"$rowLengthCache\"].splice(firstRow, len);\n\n                var foldLines = this.$foldData;\n                removedFolds = this.getFoldsInRange(delta);\n                this.removeFolds(removedFolds);\n\n                var foldLine = this.getFoldLine(end.row);\n                var idx = 0;\n                if (foldLine) {\n                    foldLine.addRemoveChars(end.row, end.column, start.column - end.column);\n                    foldLine.shiftRow(-len);\n\n                    var foldLineBefore = this.getFoldLine(firstRow);\n                    if (foldLineBefore && foldLineBefore !== foldLine) {\n                        foldLineBefore.merge(foldLine);\n                        foldLine = foldLineBefore;\n                    }\n                    idx = foldLines.indexOf(foldLine) + 1;\n                }\n\n                for (idx; idx < foldLines.length; idx++) {\n                    var foldLine = foldLines[idx];\n                    if (foldLine.start.row >= end.row) {\n                        foldLine.shiftRow(-len);\n                    }\n                }\n\n                lastRow = firstRow;\n            } else {\n                var args = Array(len);\n                args.unshift(firstRow, 0);\n                var arr = useWrapMode ? this.$wrapData : this.$rowLengthCache;\n                arr.splice.apply(arr, args);\n                var foldLines = this.$foldData;\n                var foldLine = this.getFoldLine(firstRow);\n                var idx = 0;\n                if (foldLine) {\n                    var cmp = foldLine.range.compareInside(start.row, start.column);\n                    if (cmp == 0) {\n                        foldLine = foldLine.split(start.row, start.column);\n                        if (foldLine) {\n                            foldLine.shiftRow(len);\n                            foldLine.addRemoveChars(lastRow, 0, end.column - start.column);\n                        }\n                    } else\n                    if (cmp == -1) {\n                        foldLine.addRemoveChars(firstRow, 0, end.column - start.column);\n                        foldLine.shiftRow(len);\n                    }\n                    idx = foldLines.indexOf(foldLine) + 1;\n                }\n\n                for (idx; idx < foldLines.length; idx++) {\n                    var foldLine = foldLines[idx];\n                    if (foldLine.start.row >= firstRow) {\n                        foldLine.shiftRow(len);\n                    }\n                }\n            }\n        } else {\n            len = Math.abs(delta.start.column - delta.end.column);\n            if (action === \"remove\") {\n                removedFolds = this.getFoldsInRange(delta);\n                this.removeFolds(removedFolds);\n\n                len = -len;\n            }\n            var foldLine = this.getFoldLine(firstRow);\n            if (foldLine) {\n                foldLine.addRemoveChars(firstRow, start.column, len);\n            }\n        }\n\n        if (useWrapMode && this.$wrapData.length != this.doc.getLength()) {\n            console.error(\"doc.getLength() and $wrapData.length have to be the same!\");\n        }\n        this.$updating = false;\n\n        if (useWrapMode)\n            this.$updateWrapData(firstRow, lastRow);\n        else\n            this.$updateRowLengthCache(firstRow, lastRow);\n\n        return removedFolds;\n    };\n\n    this.$updateRowLengthCache = function(firstRow, lastRow, b) {\n        this.$rowLengthCache[firstRow] = null;\n        this.$rowLengthCache[lastRow] = null;\n    };\n\n    this.$updateWrapData = function(firstRow, lastRow) {\n        var lines = this.doc.getAllLines();\n        var tabSize = this.getTabSize();\n        var wrapData = this.$wrapData;\n        var wrapLimit = this.$wrapLimit;\n        var tokens;\n        var foldLine;\n\n        var row = firstRow;\n        lastRow = Math.min(lastRow, lines.length - 1);\n        while (row <= lastRow) {\n            foldLine = this.getFoldLine(row, foldLine);\n            if (!foldLine) {\n                tokens = this.$getDisplayTokens(lines[row]);\n                wrapData[row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);\n                row ++;\n            } else {\n                tokens = [];\n                foldLine.walk(function(placeholder, row, column, lastColumn) {\n                        var walkTokens;\n                        if (placeholder != null) {\n                            walkTokens = this.$getDisplayTokens(\n                                            placeholder, tokens.length);\n                            walkTokens[0] = PLACEHOLDER_START;\n                            for (var i = 1; i < walkTokens.length; i++) {\n                                walkTokens[i] = PLACEHOLDER_BODY;\n                            }\n                        } else {\n                            walkTokens = this.$getDisplayTokens(\n                                lines[row].substring(lastColumn, column),\n                                tokens.length);\n                        }\n                        tokens = tokens.concat(walkTokens);\n                    }.bind(this),\n                    foldLine.end.row,\n                    lines[foldLine.end.row].length + 1\n                );\n\n                wrapData[foldLine.start.row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);\n                row = foldLine.end.row + 1;\n            }\n        }\n    };\n    var CHAR = 1,\n        CHAR_EXT = 2,\n        PLACEHOLDER_START = 3,\n        PLACEHOLDER_BODY =  4,\n        PUNCTUATION = 9,\n        SPACE = 10,\n        TAB = 11,\n        TAB_SPACE = 12;\n\n\n    this.$computeWrapSplits = function(tokens, wrapLimit, tabSize) {\n        if (tokens.length == 0) {\n            return [];\n        }\n\n        var splits = [];\n        var displayLength = tokens.length;\n        var lastSplit = 0, lastDocSplit = 0;\n\n        var isCode = this.$wrapAsCode;\n\n        var indentedSoftWrap = this.$indentedSoftWrap;\n        var maxIndent = wrapLimit <= Math.max(2 * tabSize, 8)\n            || indentedSoftWrap === false ? 0 : Math.floor(wrapLimit / 2);\n\n        function getWrapIndent() {\n            var indentation = 0;\n            if (maxIndent === 0)\n                return indentation;\n            if (indentedSoftWrap) {\n                for (var i = 0; i < tokens.length; i++) {\n                    var token = tokens[i];\n                    if (token == SPACE)\n                        indentation += 1;\n                    else if (token == TAB)\n                        indentation += tabSize;\n                    else if (token == TAB_SPACE)\n                        continue;\n                    else\n                        break;\n                }\n            }\n            if (isCode && indentedSoftWrap !== false)\n                indentation += tabSize;\n            return Math.min(indentation, maxIndent);\n        }\n        function addSplit(screenPos) {\n            var len = screenPos - lastSplit;\n            for (var i = lastSplit; i < screenPos; i++) {\n                var ch = tokens[i];\n                if (ch === 12 || ch === 2) len -= 1;\n            }\n\n            if (!splits.length) {\n                indent = getWrapIndent();\n                splits.indent = indent;\n            }\n            lastDocSplit += len;\n            splits.push(lastDocSplit);\n            lastSplit = screenPos;\n        }\n        var indent = 0;\n        while (displayLength - lastSplit > wrapLimit - indent) {\n            var split = lastSplit + wrapLimit - indent;\n            if (tokens[split - 1] >= SPACE && tokens[split] >= SPACE) {\n                addSplit(split);\n                continue;\n            }\n            if (tokens[split] == PLACEHOLDER_START || tokens[split] == PLACEHOLDER_BODY) {\n                for (split; split != lastSplit - 1; split--) {\n                    if (tokens[split] == PLACEHOLDER_START) {\n                        break;\n                    }\n                }\n                if (split > lastSplit) {\n                    addSplit(split);\n                    continue;\n                }\n                split = lastSplit + wrapLimit;\n                for (split; split < tokens.length; split++) {\n                    if (tokens[split] != PLACEHOLDER_BODY) {\n                        break;\n                    }\n                }\n                if (split == tokens.length) {\n                    break;  // Breaks the while-loop.\n                }\n                addSplit(split);\n                continue;\n            }\n            var minSplit = Math.max(split - (wrapLimit -(wrapLimit>>2)), lastSplit - 1);\n            while (split > minSplit && tokens[split] < PLACEHOLDER_START) {\n                split --;\n            }\n            if (isCode) {\n                while (split > minSplit && tokens[split] < PLACEHOLDER_START) {\n                    split --;\n                }\n                while (split > minSplit && tokens[split] == PUNCTUATION) {\n                    split --;\n                }\n            } else {\n                while (split > minSplit && tokens[split] < SPACE) {\n                    split --;\n                }\n            }\n            if (split > minSplit) {\n                addSplit(++split);\n                continue;\n            }\n            split = lastSplit + wrapLimit;\n            if (tokens[split] == CHAR_EXT)\n                split--;\n            addSplit(split - indent);\n        }\n        return splits;\n    };\n    this.$getDisplayTokens = function(str, offset) {\n        var arr = [];\n        var tabSize;\n        offset = offset || 0;\n\n        for (var i = 0; i < str.length; i++) {\n            var c = str.charCodeAt(i);\n            if (c == 9) {\n                tabSize = this.getScreenTabSize(arr.length + offset);\n                arr.push(TAB);\n                for (var n = 1; n < tabSize; n++) {\n                    arr.push(TAB_SPACE);\n                }\n            }\n            else if (c == 32) {\n                arr.push(SPACE);\n            } else if((c > 39 && c < 48) || (c > 57 && c < 64)) {\n                arr.push(PUNCTUATION);\n            }\n            else if (c >= 0x1100 && isFullWidth(c)) {\n                arr.push(CHAR, CHAR_EXT);\n            } else {\n                arr.push(CHAR);\n            }\n        }\n        return arr;\n    };\n    this.$getStringScreenWidth = function(str, maxScreenColumn, screenColumn) {\n        if (maxScreenColumn == 0)\n            return [0, 0];\n        if (maxScreenColumn == null)\n            maxScreenColumn = Infinity;\n        screenColumn = screenColumn || 0;\n\n        var c, column;\n        for (column = 0; column < str.length; column++) {\n            c = str.charCodeAt(column);\n            if (c == 9) {\n                screenColumn += this.getScreenTabSize(screenColumn);\n            }\n            else if (c >= 0x1100 && isFullWidth(c)) {\n                screenColumn += 2;\n            } else {\n                screenColumn += 1;\n            }\n            if (screenColumn > maxScreenColumn) {\n                break;\n            }\n        }\n\n        return [screenColumn, column];\n    };\n\n    this.lineWidgets = null;\n    this.getRowLength = function(row) {\n        var h = 1;\n        if (this.lineWidgets)\n            h += this.lineWidgets[row] && this.lineWidgets[row].rowCount || 0;\n        \n        if (!this.$useWrapMode || !this.$wrapData[row])\n            return h;\n        else\n            return this.$wrapData[row].length + h;\n    };\n    this.getRowLineCount = function(row) {\n        if (!this.$useWrapMode || !this.$wrapData[row]) {\n            return 1;\n        } else {\n            return this.$wrapData[row].length + 1;\n        }\n    };\n\n    this.getRowWrapIndent = function(screenRow) {\n        if (this.$useWrapMode) {\n            var pos = this.screenToDocumentPosition(screenRow, Number.MAX_VALUE);\n            var splits = this.$wrapData[pos.row];\n            return splits.length && splits[0] < pos.column ? splits.indent : 0;\n        } else {\n            return 0;\n        }\n    };\n    this.getScreenLastRowColumn = function(screenRow) {\n        var pos = this.screenToDocumentPosition(screenRow, Number.MAX_VALUE);\n        return this.documentToScreenColumn(pos.row, pos.column);\n    };\n    this.getDocumentLastRowColumn = function(docRow, docColumn) {\n        var screenRow = this.documentToScreenRow(docRow, docColumn);\n        return this.getScreenLastRowColumn(screenRow);\n    };\n    this.getDocumentLastRowColumnPosition = function(docRow, docColumn) {\n        var screenRow = this.documentToScreenRow(docRow, docColumn);\n        return this.screenToDocumentPosition(screenRow, Number.MAX_VALUE / 10);\n    };\n    this.getRowSplitData = function(row) {\n        if (!this.$useWrapMode) {\n            return undefined;\n        } else {\n            return this.$wrapData[row];\n        }\n    };\n    this.getScreenTabSize = function(screenColumn) {\n        return this.$tabSize - (screenColumn % this.$tabSize | 0);\n    };\n\n\n    this.screenToDocumentRow = function(screenRow, screenColumn) {\n        return this.screenToDocumentPosition(screenRow, screenColumn).row;\n    };\n\n\n    this.screenToDocumentColumn = function(screenRow, screenColumn) {\n        return this.screenToDocumentPosition(screenRow, screenColumn).column;\n    };\n    this.screenToDocumentPosition = function(screenRow, screenColumn, offsetX) {\n        if (screenRow < 0)\n            return {row: 0, column: 0};\n\n        var line;\n        var docRow = 0;\n        var docColumn = 0;\n        var column;\n        var row = 0;\n        var rowLength = 0;\n\n        var rowCache = this.$screenRowCache;\n        var i = this.$getRowCacheIndex(rowCache, screenRow);\n        var l = rowCache.length;\n        if (l && i >= 0) {\n            var row = rowCache[i];\n            var docRow = this.$docRowCache[i];\n            var doCache = screenRow > rowCache[l - 1];\n        } else {\n            var doCache = !l;\n        }\n\n        var maxRow = this.getLength() - 1;\n        var foldLine = this.getNextFoldLine(docRow);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n        while (row <= screenRow) {\n            rowLength = this.getRowLength(docRow);\n            if (row + rowLength > screenRow || docRow >= maxRow) {\n                break;\n            } else {\n                row += rowLength;\n                docRow++;\n                if (docRow > foldStart) {\n                    docRow = foldLine.end.row+1;\n                    foldLine = this.getNextFoldLine(docRow, foldLine);\n                    foldStart = foldLine ? foldLine.start.row : Infinity;\n                }\n            }\n\n            if (doCache) {\n                this.$docRowCache.push(docRow);\n                this.$screenRowCache.push(row);\n            }\n        }\n\n        if (foldLine && foldLine.start.row <= docRow) {\n            line = this.getFoldDisplayLine(foldLine);\n            docRow = foldLine.start.row;\n        } else if (row + rowLength <= screenRow || docRow > maxRow) {\n            return {\n                row: maxRow,\n                column: this.getLine(maxRow).length\n            };\n        } else {\n            line = this.getLine(docRow);\n            foldLine = null;\n        }\n        var wrapIndent = 0, splitIndex = Math.floor(screenRow - row);\n        if (this.$useWrapMode) {\n            var splits = this.$wrapData[docRow];\n            if (splits) {\n                column = splits[splitIndex];\n                if(splitIndex > 0 && splits.length) {\n                    wrapIndent = splits.indent;\n                    docColumn = splits[splitIndex - 1] || splits[splits.length - 1];\n                    line = line.substring(docColumn);\n                }\n            }\n        }\n\n        if (offsetX !== undefined && this.$bidiHandler.isBidiRow(row + splitIndex, docRow, splitIndex))\n            screenColumn = this.$bidiHandler.offsetToCol(offsetX);\n\n        docColumn += this.$getStringScreenWidth(line, screenColumn - wrapIndent)[1];\n        if (this.$useWrapMode && docColumn >= column)\n            docColumn = column - 1;\n\n        if (foldLine)\n            return foldLine.idxToPosition(docColumn);\n\n        return {row: docRow, column: docColumn};\n    };\n    this.documentToScreenPosition = function(docRow, docColumn) {\n        if (typeof docColumn === \"undefined\")\n            var pos = this.$clipPositionToDocument(docRow.row, docRow.column);\n        else\n            pos = this.$clipPositionToDocument(docRow, docColumn);\n\n        docRow = pos.row;\n        docColumn = pos.column;\n\n        var screenRow = 0;\n        var foldStartRow = null;\n        var fold = null;\n        fold = this.getFoldAt(docRow, docColumn, 1);\n        if (fold) {\n            docRow = fold.start.row;\n            docColumn = fold.start.column;\n        }\n\n        var rowEnd, row = 0;\n\n\n        var rowCache = this.$docRowCache;\n        var i = this.$getRowCacheIndex(rowCache, docRow);\n        var l = rowCache.length;\n        if (l && i >= 0) {\n            var row = rowCache[i];\n            var screenRow = this.$screenRowCache[i];\n            var doCache = docRow > rowCache[l - 1];\n        } else {\n            var doCache = !l;\n        }\n\n        var foldLine = this.getNextFoldLine(row);\n        var foldStart = foldLine ?foldLine.start.row :Infinity;\n\n        while (row < docRow) {\n            if (row >= foldStart) {\n                rowEnd = foldLine.end.row + 1;\n                if (rowEnd > docRow)\n                    break;\n                foldLine = this.getNextFoldLine(rowEnd, foldLine);\n                foldStart = foldLine ?foldLine.start.row :Infinity;\n            }\n            else {\n                rowEnd = row + 1;\n            }\n\n            screenRow += this.getRowLength(row);\n            row = rowEnd;\n\n            if (doCache) {\n                this.$docRowCache.push(row);\n                this.$screenRowCache.push(screenRow);\n            }\n        }\n        var textLine = \"\";\n        if (foldLine && row >= foldStart) {\n            textLine = this.getFoldDisplayLine(foldLine, docRow, docColumn);\n            foldStartRow = foldLine.start.row;\n        } else {\n            textLine = this.getLine(docRow).substring(0, docColumn);\n            foldStartRow = docRow;\n        }\n        var wrapIndent = 0;\n        if (this.$useWrapMode) {\n            var wrapRow = this.$wrapData[foldStartRow];\n            if (wrapRow) {\n                var screenRowOffset = 0;\n                while (textLine.length >= wrapRow[screenRowOffset]) {\n                    screenRow ++;\n                    screenRowOffset++;\n                }\n                textLine = textLine.substring(\n                    wrapRow[screenRowOffset - 1] || 0, textLine.length\n                );\n                wrapIndent = screenRowOffset > 0 ? wrapRow.indent : 0;\n            }\n        }\n        \n        if (this.lineWidgets && this.lineWidgets[row] && this.lineWidgets[row].rowsAbove)\n            screenRow += this.lineWidgets[row].rowsAbove;\n\n        return {\n            row: screenRow,\n            column: wrapIndent + this.$getStringScreenWidth(textLine)[0]\n        };\n    };\n    this.documentToScreenColumn = function(row, docColumn) {\n        return this.documentToScreenPosition(row, docColumn).column;\n    };\n    this.documentToScreenRow = function(docRow, docColumn) {\n        return this.documentToScreenPosition(docRow, docColumn).row;\n    };\n    this.getScreenLength = function() {\n        var screenRows = 0;\n        var fold = null;\n        if (!this.$useWrapMode) {\n            screenRows = this.getLength();\n            var foldData = this.$foldData;\n            for (var i = 0; i < foldData.length; i++) {\n                fold = foldData[i];\n                screenRows -= fold.end.row - fold.start.row;\n            }\n        } else {\n            var lastRow = this.$wrapData.length;\n            var row = 0, i = 0;\n            var fold = this.$foldData[i++];\n            var foldStart = fold ? fold.start.row :Infinity;\n\n            while (row < lastRow) {\n                var splits = this.$wrapData[row];\n                screenRows += splits ? splits.length + 1 : 1;\n                row ++;\n                if (row > foldStart) {\n                    row = fold.end.row+1;\n                    fold = this.$foldData[i++];\n                    foldStart = fold ?fold.start.row :Infinity;\n                }\n            }\n        }\n        if (this.lineWidgets)\n            screenRows += this.$getWidgetScreenLength();\n\n        return screenRows;\n    };\n    this.$setFontMetrics = function(fm) {\n        if (!this.$enableVarChar) return;\n        this.$getStringScreenWidth = function(str, maxScreenColumn, screenColumn) {\n            if (maxScreenColumn === 0)\n                return [0, 0];\n            if (!maxScreenColumn)\n                maxScreenColumn = Infinity;\n            screenColumn = screenColumn || 0;\n            \n            var c, column;\n            for (column = 0; column < str.length; column++) {\n                c = str.charAt(column);\n                if (c === \"\\t\") {\n                    screenColumn += this.getScreenTabSize(screenColumn);\n                } else {\n                    screenColumn += fm.getCharacterWidth(c);\n                }\n                if (screenColumn > maxScreenColumn) {\n                    break;\n                }\n            }\n            \n            return [screenColumn, column];\n        };\n    };\n    \n    this.destroy = function() {\n        if (this.bgTokenizer) {\n            this.bgTokenizer.setDocument(null);\n            this.bgTokenizer = null;\n        }\n        this.$stopWorker();\n        this.removeAllListeners();\n        this.selection.detach();\n    };\n\n    this.isFullWidth = isFullWidth;\n    function isFullWidth(c) {\n        if (c < 0x1100)\n            return false;\n        return c >= 0x1100 && c <= 0x115F ||\n               c >= 0x11A3 && c <= 0x11A7 ||\n               c >= 0x11FA && c <= 0x11FF ||\n               c >= 0x2329 && c <= 0x232A ||\n               c >= 0x2E80 && c <= 0x2E99 ||\n               c >= 0x2E9B && c <= 0x2EF3 ||\n               c >= 0x2F00 && c <= 0x2FD5 ||\n               c >= 0x2FF0 && c <= 0x2FFB ||\n               c >= 0x3000 && c <= 0x303E ||\n               c >= 0x3041 && c <= 0x3096 ||\n               c >= 0x3099 && c <= 0x30FF ||\n               c >= 0x3105 && c <= 0x312D ||\n               c >= 0x3131 && c <= 0x318E ||\n               c >= 0x3190 && c <= 0x31BA ||\n               c >= 0x31C0 && c <= 0x31E3 ||\n               c >= 0x31F0 && c <= 0x321E ||\n               c >= 0x3220 && c <= 0x3247 ||\n               c >= 0x3250 && c <= 0x32FE ||\n               c >= 0x3300 && c <= 0x4DBF ||\n               c >= 0x4E00 && c <= 0xA48C ||\n               c >= 0xA490 && c <= 0xA4C6 ||\n               c >= 0xA960 && c <= 0xA97C ||\n               c >= 0xAC00 && c <= 0xD7A3 ||\n               c >= 0xD7B0 && c <= 0xD7C6 ||\n               c >= 0xD7CB && c <= 0xD7FB ||\n               c >= 0xF900 && c <= 0xFAFF ||\n               c >= 0xFE10 && c <= 0xFE19 ||\n               c >= 0xFE30 && c <= 0xFE52 ||\n               c >= 0xFE54 && c <= 0xFE66 ||\n               c >= 0xFE68 && c <= 0xFE6B ||\n               c >= 0xFF01 && c <= 0xFF60 ||\n               c >= 0xFFE0 && c <= 0xFFE6;\n    }\n\n}).call(EditSession.prototype);\n\nrequire(\"./edit_session/folding\").Folding.call(EditSession.prototype);\nrequire(\"./edit_session/bracket_match\").BracketMatch.call(EditSession.prototype);\n\n\nconfig.defineOptions(EditSession.prototype, \"session\", {\n    wrap: {\n        set: function(value) {\n            if (!value || value == \"off\")\n                value = false;\n            else if (value == \"free\")\n                value = true;\n            else if (value == \"printMargin\")\n                value = -1;\n            else if (typeof value == \"string\")\n                value = parseInt(value, 10) || false;\n\n            if (this.$wrap == value)\n                return;\n            this.$wrap = value;\n            if (!value) {\n                this.setUseWrapMode(false);\n            } else {\n                var col = typeof value == \"number\" ? value : null;\n                this.setWrapLimitRange(col, col);\n                this.setUseWrapMode(true);\n            }\n        },\n        get: function() {\n            if (this.getUseWrapMode()) {\n                if (this.$wrap == -1)\n                    return \"printMargin\";\n                if (!this.getWrapLimitRange().min)\n                    return \"free\";\n                return this.$wrap;\n            }\n            return \"off\";\n        },\n        handlesSet: true\n    },    \n    wrapMethod: {\n        set: function(val) {\n            val = val == \"auto\"\n                ? this.$mode.type != \"text\"\n                : val != \"text\";\n            if (val != this.$wrapAsCode) {\n                this.$wrapAsCode = val;\n                if (this.$useWrapMode) {\n                    this.$useWrapMode = false;\n                    this.setUseWrapMode(true);\n                }\n            }\n        },\n        initialValue: \"auto\"\n    },\n    indentedSoftWrap: {\n        set: function() {\n            if (this.$useWrapMode) {\n                this.$useWrapMode = false;\n                this.setUseWrapMode(true);\n            }\n        },\n        initialValue: true \n    },\n    firstLineNumber: {\n        set: function() {this._signal(\"changeBreakpoint\");},\n        initialValue: 1\n    },\n    useWorker: {\n        set: function(useWorker) {\n            this.$useWorker = useWorker;\n\n            this.$stopWorker();\n            if (useWorker)\n                this.$startWorker();\n        },\n        initialValue: true\n    },\n    useSoftTabs: {initialValue: true},\n    tabSize: {\n        set: function(tabSize) {\n            tabSize = parseInt(tabSize);\n            if (tabSize > 0 && this.$tabSize !== tabSize) {\n                this.$modified = true;\n                this.$rowLengthCache = [];\n                this.$tabSize = tabSize;\n                this._signal(\"changeTabSize\");\n            }\n        },\n        initialValue: 4,\n        handlesSet: true\n    },\n    navigateWithinSoftTabs: {initialValue: false},\n    foldStyle: {\n        set: function(val) {this.setFoldStyle(val);},\n        handlesSet: true\n    },\n    overwrite: {\n        set: function(val) {this._signal(\"changeOverwrite\");},\n        initialValue: false\n    },\n    newLineMode: {\n        set: function(val) {this.doc.setNewLineMode(val);},\n        get: function() {return this.doc.getNewLineMode();},\n        handlesSet: true\n    },\n    mode: {\n        set: function(val) { this.setMode(val); },\n        get: function() { return this.$modeId; },\n        handlesSet: true\n    }\n});\n\nexports.EditSession = EditSession;\n});\n\nace.define(\"ace/search\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/lib/oop\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar lang = require(\"./lib/lang\");\nvar oop = require(\"./lib/oop\");\nvar Range = require(\"./range\").Range;\n\nvar Search = function() {\n    this.$options = {};\n};\n\n(function() {\n    this.set = function(options) {\n        oop.mixin(this.$options, options);\n        return this;\n    };\n    this.getOptions = function() {\n        return lang.copyObject(this.$options);\n    };\n    this.setOptions = function(options) {\n        this.$options = options;\n    };\n    this.find = function(session) {\n        var options = this.$options;\n        var iterator = this.$matchIterator(session, options);\n        if (!iterator)\n            return false;\n\n        var firstRange = null;\n        iterator.forEach(function(sr, sc, er, ec) {\n            firstRange = new Range(sr, sc, er, ec);\n            if (sc == ec && options.start && options.start.start\n                && options.skipCurrent != false && firstRange.isEqual(options.start)\n            ) {\n                firstRange = null;\n                return false;\n            }\n            \n            return true;\n        });\n\n        return firstRange;\n    };\n    this.findAll = function(session) {\n        var options = this.$options;\n        if (!options.needle)\n            return [];\n        this.$assembleRegExp(options);\n\n        var range = options.range;\n        var lines = range\n            ? session.getLines(range.start.row, range.end.row)\n            : session.doc.getAllLines();\n\n        var ranges = [];\n        var re = options.re;\n        if (options.$isMultiLine) {\n            var len = re.length;\n            var maxRow = lines.length - len;\n            var prevRange;\n            outer: for (var row = re.offset || 0; row <= maxRow; row++) {\n                for (var j = 0; j < len; j++)\n                    if (lines[row + j].search(re[j]) == -1)\n                        continue outer;\n                \n                var startLine = lines[row];\n                var line = lines[row + len - 1];\n                var startIndex = startLine.length - startLine.match(re[0])[0].length;\n                var endIndex = line.match(re[len - 1])[0].length;\n                \n                if (prevRange && prevRange.end.row === row &&\n                    prevRange.end.column > startIndex\n                ) {\n                    continue;\n                }\n                ranges.push(prevRange = new Range(\n                    row, startIndex, row + len - 1, endIndex\n                ));\n                if (len > 2)\n                    row = row + len - 2;\n            }\n        } else {\n            for (var i = 0; i < lines.length; i++) {\n                var matches = lang.getMatchOffsets(lines[i], re);\n                for (var j = 0; j < matches.length; j++) {\n                    var match = matches[j];\n                    ranges.push(new Range(i, match.offset, i, match.offset + match.length));\n                }\n            }\n        }\n\n        if (range) {\n            var startColumn = range.start.column;\n            var endColumn = range.start.column;\n            var i = 0, j = ranges.length - 1;\n            while (i < j && ranges[i].start.column < startColumn && ranges[i].start.row == range.start.row)\n                i++;\n\n            while (i < j && ranges[j].end.column > endColumn && ranges[j].end.row == range.end.row)\n                j--;\n            \n            ranges = ranges.slice(i, j + 1);\n            for (i = 0, j = ranges.length; i < j; i++) {\n                ranges[i].start.row += range.start.row;\n                ranges[i].end.row += range.start.row;\n            }\n        }\n\n        return ranges;\n    };\n    this.replace = function(input, replacement) {\n        var options = this.$options;\n\n        var re = this.$assembleRegExp(options);\n        if (options.$isMultiLine)\n            return replacement;\n\n        if (!re)\n            return;\n\n        var match = re.exec(input);\n        if (!match || match[0].length != input.length)\n            return null;\n        \n        replacement = input.replace(re, replacement);\n        if (options.preserveCase) {\n            replacement = replacement.split(\"\");\n            for (var i = Math.min(input.length, input.length); i--; ) {\n                var ch = input[i];\n                if (ch && ch.toLowerCase() != ch)\n                    replacement[i] = replacement[i].toUpperCase();\n                else\n                    replacement[i] = replacement[i].toLowerCase();\n            }\n            replacement = replacement.join(\"\");\n        }\n        \n        return replacement;\n    };\n\n    this.$assembleRegExp = function(options, $disableFakeMultiline) {\n        if (options.needle instanceof RegExp)\n            return options.re = options.needle;\n\n        var needle = options.needle;\n\n        if (!options.needle)\n            return options.re = false;\n\n        if (!options.regExp)\n            needle = lang.escapeRegExp(needle);\n\n        if (options.wholeWord)\n            needle = addWordBoundary(needle, options);\n\n        var modifier = options.caseSensitive ? \"gm\" : \"gmi\";\n\n        options.$isMultiLine = !$disableFakeMultiline && /[\\n\\r]/.test(needle);\n        if (options.$isMultiLine)\n            return options.re = this.$assembleMultilineRegExp(needle, modifier);\n\n        try {\n            var re = new RegExp(needle, modifier);\n        } catch(e) {\n            re = false;\n        }\n        return options.re = re;\n    };\n\n    this.$assembleMultilineRegExp = function(needle, modifier) {\n        var parts = needle.replace(/\\r\\n|\\r|\\n/g, \"$\\n^\").split(\"\\n\");\n        var re = [];\n        for (var i = 0; i < parts.length; i++) try {\n            re.push(new RegExp(parts[i], modifier));\n        } catch(e) {\n            return false;\n        }\n        return re;\n    };\n\n    this.$matchIterator = function(session, options) {\n        var re = this.$assembleRegExp(options);\n        if (!re)\n            return false;\n        var backwards = options.backwards == true;\n        var skipCurrent = options.skipCurrent != false;\n\n        var range = options.range;\n        var start = options.start;\n        if (!start)\n            start = range ? range[backwards ? \"end\" : \"start\"] : session.selection.getRange();\n         \n        if (start.start)\n            start = start[skipCurrent != backwards ? \"end\" : \"start\"];\n\n        var firstRow = range ? range.start.row : 0;\n        var lastRow = range ? range.end.row : session.getLength() - 1;\n        \n        if (backwards) {\n            var forEach = function(callback) {\n                var row = start.row;\n                if (forEachInLine(row, start.column, callback))\n                    return;\n                for (row--; row >= firstRow; row--)\n                    if (forEachInLine(row, Number.MAX_VALUE, callback))\n                        return;\n                if (options.wrap == false)\n                    return;\n                for (row = lastRow, firstRow = start.row; row >= firstRow; row--)\n                    if (forEachInLine(row, Number.MAX_VALUE, callback))\n                        return;\n            };\n        }\n        else {\n            var forEach = function(callback) {\n                var row = start.row;\n                if (forEachInLine(row, start.column, callback))\n                    return;\n                for (row = row + 1; row <= lastRow; row++)\n                    if (forEachInLine(row, 0, callback))\n                        return;\n                if (options.wrap == false)\n                    return;\n                for (row = firstRow, lastRow = start.row; row <= lastRow; row++)\n                    if (forEachInLine(row, 0, callback))\n                        return;\n            };\n        }\n        \n        if (options.$isMultiLine) {\n            var len = re.length;\n            var forEachInLine = function(row, offset, callback) {\n                var startRow = backwards ? row - len + 1 : row;\n                if (startRow < 0) return;\n                var line = session.getLine(startRow);\n                var startIndex = line.search(re[0]);\n                if (!backwards && startIndex < offset || startIndex === -1) return;\n                for (var i = 1; i < len; i++) {\n                    line = session.getLine(startRow + i);\n                    if (line.search(re[i]) == -1)\n                        return;\n                }\n                var endIndex = line.match(re[len - 1])[0].length;\n                if (backwards && endIndex > offset) return;\n                if (callback(startRow, startIndex, startRow + len - 1, endIndex))\n                    return true;\n            };\n        }\n        else if (backwards) {\n            var forEachInLine = function(row, endIndex, callback) {\n                var line = session.getLine(row);\n                var matches = [];\n                var m, last = 0;\n                re.lastIndex = 0;\n                while((m = re.exec(line))) {\n                    var length = m[0].length;\n                    last = m.index;\n                    if (!length) {\n                        if (last >= line.length) break;\n                        re.lastIndex = last += 1;\n                    }\n                    if (m.index + length > endIndex)\n                        break;\n                    matches.push(m.index, length);\n                }\n                for (var i = matches.length - 1; i >= 0; i -= 2) {\n                    var column = matches[i - 1];\n                    var length = matches[i];\n                    if (callback(row, column, row, column + length))\n                        return true;\n                }\n            };\n        }\n        else {\n            var forEachInLine = function(row, startIndex, callback) {\n                var line = session.getLine(row);\n                var last;\n                var m;\n                re.lastIndex = startIndex;\n                while((m = re.exec(line))) {\n                    var length = m[0].length;\n                    last = m.index;\n                    if (callback(row, last, row,last + length))\n                        return true;\n                    if (!length) {\n                        re.lastIndex = last += 1;\n                        if (last >= line.length) return false;\n                    }\n                }\n            };\n        }\n        return {forEach: forEach};\n    };\n\n}).call(Search.prototype);\n\nfunction addWordBoundary(needle, options) {\n    function wordBoundary(c) {\n        if (/\\w/.test(c) || options.regExp) return \"\\\\b\";\n        return \"\";\n    }\n    return wordBoundary(needle[0]) + needle\n        + wordBoundary(needle[needle.length - 1]);\n}\n\nexports.Search = Search;\n});\n\nace.define(\"ace/keyboard/hash_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/lib/useragent\"], function(require, exports, module) {\n\"use strict\";\n\nvar keyUtil = require(\"../lib/keys\");\nvar useragent = require(\"../lib/useragent\");\nvar KEY_MODS = keyUtil.KEY_MODS;\n\nfunction HashHandler(config, platform) {\n    this.platform = platform || (useragent.isMac ? \"mac\" : \"win\");\n    this.commands = {};\n    this.commandKeyBinding = {};\n    this.addCommands(config);\n    this.$singleCommand = true;\n}\n\nfunction MultiHashHandler(config, platform) {\n    HashHandler.call(this, config, platform);\n    this.$singleCommand = false;\n}\n\nMultiHashHandler.prototype = HashHandler.prototype;\n\n(function() {\n    \n\n    this.addCommand = function(command) {\n        if (this.commands[command.name])\n            this.removeCommand(command);\n\n        this.commands[command.name] = command;\n\n        if (command.bindKey)\n            this._buildKeyHash(command);\n    };\n\n    this.removeCommand = function(command, keepCommand) {\n        var name = command && (typeof command === 'string' ? command : command.name);\n        command = this.commands[name];\n        if (!keepCommand)\n            delete this.commands[name];\n        var ckb = this.commandKeyBinding;\n        for (var keyId in ckb) {\n            var cmdGroup = ckb[keyId];\n            if (cmdGroup == command) {\n                delete ckb[keyId];\n            } else if (Array.isArray(cmdGroup)) {\n                var i = cmdGroup.indexOf(command);\n                if (i != -1) {\n                    cmdGroup.splice(i, 1);\n                    if (cmdGroup.length == 1)\n                        ckb[keyId] = cmdGroup[0];\n                }\n            }\n        }\n    };\n\n    this.bindKey = function(key, command, position) {\n        if (typeof key == \"object\" && key) {\n            if (position == undefined)\n                position = key.position;\n            key = key[this.platform];\n        }\n        if (!key)\n            return;\n        if (typeof command == \"function\")\n            return this.addCommand({exec: command, bindKey: key, name: command.name || key});\n        \n        key.split(\"|\").forEach(function(keyPart) {\n            var chain = \"\";\n            if (keyPart.indexOf(\" \") != -1) {\n                var parts = keyPart.split(/\\s+/);\n                keyPart = parts.pop();\n                parts.forEach(function(keyPart) {\n                    var binding = this.parseKeys(keyPart);\n                    var id = KEY_MODS[binding.hashId] + binding.key;\n                    chain += (chain ? \" \" : \"\") + id;\n                    this._addCommandToBinding(chain, \"chainKeys\");\n                }, this);\n                chain += \" \";\n            }\n            var binding = this.parseKeys(keyPart);\n            var id = KEY_MODS[binding.hashId] + binding.key;\n            this._addCommandToBinding(chain + id, command, position);\n        }, this);\n    };\n    \n    function getPosition(command) {\n        return typeof command == \"object\" && command.bindKey\n            && command.bindKey.position \n            || (command.isDefault ? -100 : 0);\n    }\n    this._addCommandToBinding = function(keyId, command, position) {\n        var ckb = this.commandKeyBinding, i;\n        if (!command) {\n            delete ckb[keyId];\n        } else if (!ckb[keyId] || this.$singleCommand) {\n            ckb[keyId] = command;\n        } else {\n            if (!Array.isArray(ckb[keyId])) {\n                ckb[keyId] = [ckb[keyId]];\n            } else if ((i = ckb[keyId].indexOf(command)) != -1) {\n                ckb[keyId].splice(i, 1);\n            }\n            \n            if (typeof position != \"number\") {\n                position = getPosition(command);\n            }\n\n            var commands = ckb[keyId];\n            for (i = 0; i < commands.length; i++) {\n                var other = commands[i];\n                var otherPos = getPosition(other);\n                if (otherPos > position)\n                    break;\n            }\n            commands.splice(i, 0, command);\n        }\n    };\n\n    this.addCommands = function(commands) {\n        commands && Object.keys(commands).forEach(function(name) {\n            var command = commands[name];\n            if (!command)\n                return;\n            \n            if (typeof command === \"string\")\n                return this.bindKey(command, name);\n\n            if (typeof command === \"function\")\n                command = { exec: command };\n\n            if (typeof command !== \"object\")\n                return;\n\n            if (!command.name)\n                command.name = name;\n\n            this.addCommand(command);\n        }, this);\n    };\n\n    this.removeCommands = function(commands) {\n        Object.keys(commands).forEach(function(name) {\n            this.removeCommand(commands[name]);\n        }, this);\n    };\n\n    this.bindKeys = function(keyList) {\n        Object.keys(keyList).forEach(function(key) {\n            this.bindKey(key, keyList[key]);\n        }, this);\n    };\n\n    this._buildKeyHash = function(command) {\n        this.bindKey(command.bindKey, command);\n    };\n    this.parseKeys = function(keys) {\n        var parts = keys.toLowerCase().split(/[\\-\\+]([\\-\\+])?/).filter(function(x){return x;});\n        var key = parts.pop();\n\n        var keyCode = keyUtil[key];\n        if (keyUtil.FUNCTION_KEYS[keyCode])\n            key = keyUtil.FUNCTION_KEYS[keyCode].toLowerCase();\n        else if (!parts.length)\n            return {key: key, hashId: -1};\n        else if (parts.length == 1 && parts[0] == \"shift\")\n            return {key: key.toUpperCase(), hashId: -1};\n\n        var hashId = 0;\n        for (var i = parts.length; i--;) {\n            var modifier = keyUtil.KEY_MODS[parts[i]];\n            if (modifier == null) {\n                if (typeof console != \"undefined\")\n                    console.error(\"invalid modifier \" + parts[i] + \" in \" + keys);\n                return false;\n            }\n            hashId |= modifier;\n        }\n        return {key: key, hashId: hashId};\n    };\n\n    this.findKeyCommand = function findKeyCommand(hashId, keyString) {\n        var key = KEY_MODS[hashId] + keyString;\n        return this.commandKeyBinding[key];\n    };\n\n    this.handleKeyboard = function(data, hashId, keyString, keyCode) {\n        if (keyCode < 0) return;\n        var key = KEY_MODS[hashId] + keyString;\n        var command = this.commandKeyBinding[key];\n        if (data.$keyChain) {\n            data.$keyChain += \" \" + key;\n            command = this.commandKeyBinding[data.$keyChain] || command;\n        }\n        \n        if (command) {\n            if (command == \"chainKeys\" || command[command.length - 1] == \"chainKeys\") {\n                data.$keyChain = data.$keyChain || key;\n                return {command: \"null\"};\n            }\n        }\n        \n        if (data.$keyChain) {\n            if ((!hashId || hashId == 4) && keyString.length == 1)\n                data.$keyChain = data.$keyChain.slice(0, -key.length - 1); // wait for input\n            else if (hashId == -1 || keyCode > 0)\n                data.$keyChain = \"\"; // reset keyChain\n        }\n        return {command: command};\n    };\n    \n    this.getStatusText = function(editor, data) {\n        return data.$keyChain || \"\";\n    };\n\n}).call(HashHandler.prototype);\n\nexports.HashHandler = HashHandler;\nexports.MultiHashHandler = MultiHashHandler;\n});\n\nace.define(\"ace/commands/command_manager\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/keyboard/hash_handler\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../lib/oop\");\nvar MultiHashHandler = require(\"../keyboard/hash_handler\").MultiHashHandler;\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\n\nvar CommandManager = function(platform, commands) {\n    MultiHashHandler.call(this, commands, platform);\n    this.byName = this.commands;\n    this.setDefaultHandler(\"exec\", function(e) {\n        return e.command.exec(e.editor, e.args || {});\n    });\n};\n\noop.inherits(CommandManager, MultiHashHandler);\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n\n    this.exec = function(command, editor, args) {\n        if (Array.isArray(command)) {\n            for (var i = command.length; i--; ) {\n                if (this.exec(command[i], editor, args)) return true;\n            }\n            return false;\n        }\n\n        if (typeof command === \"string\")\n            command = this.commands[command];\n\n        if (!command)\n            return false;\n\n        if (editor && editor.$readOnly && !command.readOnly)\n            return false;\n\n        if (this.$checkCommandState != false && command.isAvailable && !command.isAvailable(editor))\n            return false;\n\n        var e = {editor: editor, command: command, args: args};\n        e.returnValue = this._emit(\"exec\", e);\n        this._signal(\"afterExec\", e);\n\n        return e.returnValue === false ? false : true;\n    };\n\n    this.toggleRecording = function(editor) {\n        if (this.$inReplay)\n            return;\n\n        editor && editor._emit(\"changeStatus\");\n        if (this.recording) {\n            this.macro.pop();\n            this.off(\"exec\", this.$addCommandToMacro);\n\n            if (!this.macro.length)\n                this.macro = this.oldMacro;\n\n            return this.recording = false;\n        }\n        if (!this.$addCommandToMacro) {\n            this.$addCommandToMacro = function(e) {\n                this.macro.push([e.command, e.args]);\n            }.bind(this);\n        }\n\n        this.oldMacro = this.macro;\n        this.macro = [];\n        this.on(\"exec\", this.$addCommandToMacro);\n        return this.recording = true;\n    };\n\n    this.replay = function(editor) {\n        if (this.$inReplay || !this.macro)\n            return;\n\n        if (this.recording)\n            return this.toggleRecording(editor);\n\n        try {\n            this.$inReplay = true;\n            this.macro.forEach(function(x) {\n                if (typeof x == \"string\")\n                    this.exec(x, editor);\n                else\n                    this.exec(x[0], editor, x[1]);\n            }, this);\n        } finally {\n            this.$inReplay = false;\n        }\n    };\n\n    this.trimMacro = function(m) {\n        return m.map(function(x){\n            if (typeof x[0] != \"string\")\n                x[0] = x[0].name;\n            if (!x[1])\n                x = x[0];\n            return x;\n        });\n    };\n\n}).call(CommandManager.prototype);\n\nexports.CommandManager = CommandManager;\n\n});\n\nace.define(\"ace/commands/default_commands\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/config\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar lang = require(\"../lib/lang\");\nvar config = require(\"../config\");\nvar Range = require(\"../range\").Range;\n\nfunction bindKey(win, mac) {\n    return {win: win, mac: mac};\n}\nexports.commands = [{\n    name: \"showSettingsMenu\",\n    bindKey: bindKey(\"Ctrl-,\", \"Command-,\"),\n    exec: function(editor) {\n        config.loadModule(\"ace/ext/settings_menu\", function(module) {\n            module.init(editor);\n            editor.showSettingsMenu();\n        });\n    },\n    readOnly: true\n}, {\n    name: \"goToNextError\",\n    bindKey: bindKey(\"Alt-E\", \"F4\"),\n    exec: function(editor) {\n        config.loadModule(\"./ext/error_marker\", function(module) {\n            module.showErrorMarker(editor, 1);\n        });\n    },\n    scrollIntoView: \"animate\",\n    readOnly: true\n}, {\n    name: \"goToPreviousError\",\n    bindKey: bindKey(\"Alt-Shift-E\", \"Shift-F4\"),\n    exec: function(editor) {\n        config.loadModule(\"./ext/error_marker\", function(module) {\n            module.showErrorMarker(editor, -1);\n        });\n    },\n    scrollIntoView: \"animate\",\n    readOnly: true\n}, {\n    name: \"selectall\",\n    description: \"Select all\",\n    bindKey: bindKey(\"Ctrl-A\", \"Command-A\"),\n    exec: function(editor) { editor.selectAll(); },\n    readOnly: true\n}, {\n    name: \"centerselection\",\n    description: \"Center selection\",\n    bindKey: bindKey(null, \"Ctrl-L\"),\n    exec: function(editor) { editor.centerSelection(); },\n    readOnly: true\n}, {\n    name: \"gotoline\",\n    description: \"Go to line...\",\n    bindKey: bindKey(\"Ctrl-L\", \"Command-L\"),\n    exec: function(editor, line) {\n        if (typeof line === \"number\" && !isNaN(line))\n            editor.gotoLine(line);\n        editor.prompt({ $type: \"gotoLine\" });\n    },\n    readOnly: true\n}, {\n    name: \"fold\",\n    bindKey: bindKey(\"Alt-L|Ctrl-F1\", \"Command-Alt-L|Command-F1\"),\n    exec: function(editor) { editor.session.toggleFold(false); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"unfold\",\n    bindKey: bindKey(\"Alt-Shift-L|Ctrl-Shift-F1\", \"Command-Alt-Shift-L|Command-Shift-F1\"),\n    exec: function(editor) { editor.session.toggleFold(true); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"toggleFoldWidget\",\n    bindKey: bindKey(\"F2\", \"F2\"),\n    exec: function(editor) { editor.session.toggleFoldWidget(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"toggleParentFoldWidget\",\n    bindKey: bindKey(\"Alt-F2\", \"Alt-F2\"),\n    exec: function(editor) { editor.session.toggleFoldWidget(true); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"foldall\",\n    description: \"Fold all\",\n    bindKey: bindKey(null, \"Ctrl-Command-Option-0\"),\n    exec: function(editor) { editor.session.foldAll(); },\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"foldAllComments\",\n    description: \"Fold all comments\",\n    bindKey: bindKey(null, \"Ctrl-Command-Option-0\"),\n    exec: function(editor) { editor.session.foldAllComments(); },\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"foldOther\",\n    description: \"Fold other\",\n    bindKey: bindKey(\"Alt-0\", \"Command-Option-0\"),\n    exec: function(editor) { \n        editor.session.foldAll();\n        editor.session.unfold(editor.selection.getAllRanges());\n    },\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"unfoldall\",\n    description: \"Unfold all\",\n    bindKey: bindKey(\"Alt-Shift-0\", \"Command-Option-Shift-0\"),\n    exec: function(editor) { editor.session.unfold(); },\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"findnext\",\n    description: \"Find next\",\n    bindKey: bindKey(\"Ctrl-K\", \"Command-G\"),\n    exec: function(editor) { editor.findNext(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"findprevious\",\n    description: \"Find previous\",\n    bindKey: bindKey(\"Ctrl-Shift-K\", \"Command-Shift-G\"),\n    exec: function(editor) { editor.findPrevious(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"selectOrFindNext\",\n    description: \"Select or find next\",\n    bindKey: bindKey(\"Alt-K\", \"Ctrl-G\"),\n    exec: function(editor) {\n        if (editor.selection.isEmpty())\n            editor.selection.selectWord();\n        else\n            editor.findNext(); \n    },\n    readOnly: true\n}, {\n    name: \"selectOrFindPrevious\",\n    description: \"Select or find previous\",\n    bindKey: bindKey(\"Alt-Shift-K\", \"Ctrl-Shift-G\"),\n    exec: function(editor) { \n        if (editor.selection.isEmpty())\n            editor.selection.selectWord();\n        else\n            editor.findPrevious();\n    },\n    readOnly: true\n}, {\n    name: \"find\",\n    description: \"Find\",\n    bindKey: bindKey(\"Ctrl-F\", \"Command-F\"),\n    exec: function(editor) {\n        config.loadModule(\"ace/ext/searchbox\", function(e) {e.Search(editor);});\n    },\n    readOnly: true\n}, {\n    name: \"overwrite\",\n    description: \"Overwrite\",\n    bindKey: \"Insert\",\n    exec: function(editor) { editor.toggleOverwrite(); },\n    readOnly: true\n}, {\n    name: \"selecttostart\",\n    description: \"Select to start\",\n    bindKey: bindKey(\"Ctrl-Shift-Home\", \"Command-Shift-Home|Command-Shift-Up\"),\n    exec: function(editor) { editor.getSelection().selectFileStart(); },\n    multiSelectAction: \"forEach\",\n    readOnly: true,\n    scrollIntoView: \"animate\",\n    aceCommandGroup: \"fileJump\"\n}, {\n    name: \"gotostart\",\n    description: \"Go to start\",\n    bindKey: bindKey(\"Ctrl-Home\", \"Command-Home|Command-Up\"),\n    exec: function(editor) { editor.navigateFileStart(); },\n    multiSelectAction: \"forEach\",\n    readOnly: true,\n    scrollIntoView: \"animate\",\n    aceCommandGroup: \"fileJump\"\n}, {\n    name: \"selectup\",\n    description: \"Select up\",\n    bindKey: bindKey(\"Shift-Up\", \"Shift-Up|Ctrl-Shift-P\"),\n    exec: function(editor) { editor.getSelection().selectUp(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"golineup\",\n    description: \"Go line up\",\n    bindKey: bindKey(\"Up\", \"Up|Ctrl-P\"),\n    exec: function(editor, args) { editor.navigateUp(args.times); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selecttoend\",\n    description: \"Select to end\",\n    bindKey: bindKey(\"Ctrl-Shift-End\", \"Command-Shift-End|Command-Shift-Down\"),\n    exec: function(editor) { editor.getSelection().selectFileEnd(); },\n    multiSelectAction: \"forEach\",\n    readOnly: true,\n    scrollIntoView: \"animate\",\n    aceCommandGroup: \"fileJump\"\n}, {\n    name: \"gotoend\",\n    description: \"Go to end\",\n    bindKey: bindKey(\"Ctrl-End\", \"Command-End|Command-Down\"),\n    exec: function(editor) { editor.navigateFileEnd(); },\n    multiSelectAction: \"forEach\",\n    readOnly: true,\n    scrollIntoView: \"animate\",\n    aceCommandGroup: \"fileJump\"\n}, {\n    name: \"selectdown\",\n    description: \"Select down\",\n    bindKey: bindKey(\"Shift-Down\", \"Shift-Down|Ctrl-Shift-N\"),\n    exec: function(editor) { editor.getSelection().selectDown(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"golinedown\",\n    description: \"Go line down\",\n    bindKey: bindKey(\"Down\", \"Down|Ctrl-N\"),\n    exec: function(editor, args) { editor.navigateDown(args.times); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectwordleft\",\n    description: \"Select word left\",\n    bindKey: bindKey(\"Ctrl-Shift-Left\", \"Option-Shift-Left\"),\n    exec: function(editor) { editor.getSelection().selectWordLeft(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotowordleft\",\n    description: \"Go to word left\",\n    bindKey: bindKey(\"Ctrl-Left\", \"Option-Left\"),\n    exec: function(editor) { editor.navigateWordLeft(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selecttolinestart\",\n    description: \"Select to line start\",\n    bindKey: bindKey(\"Alt-Shift-Left\", \"Command-Shift-Left|Ctrl-Shift-A\"),\n    exec: function(editor) { editor.getSelection().selectLineStart(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotolinestart\",\n    description: \"Go to line start\",\n    bindKey: bindKey(\"Alt-Left|Home\", \"Command-Left|Home|Ctrl-A\"),\n    exec: function(editor) { editor.navigateLineStart(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectleft\",\n    description: \"Select left\",\n    bindKey: bindKey(\"Shift-Left\", \"Shift-Left|Ctrl-Shift-B\"),\n    exec: function(editor) { editor.getSelection().selectLeft(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotoleft\",\n    description: \"Go to left\",\n    bindKey: bindKey(\"Left\", \"Left|Ctrl-B\"),\n    exec: function(editor, args) { editor.navigateLeft(args.times); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectwordright\",\n    description: \"Select word right\",\n    bindKey: bindKey(\"Ctrl-Shift-Right\", \"Option-Shift-Right\"),\n    exec: function(editor) { editor.getSelection().selectWordRight(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotowordright\",\n    description: \"Go to word right\",\n    bindKey: bindKey(\"Ctrl-Right\", \"Option-Right\"),\n    exec: function(editor) { editor.navigateWordRight(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selecttolineend\",\n    description: \"Select to line end\",\n    bindKey: bindKey(\"Alt-Shift-Right\", \"Command-Shift-Right|Shift-End|Ctrl-Shift-E\"),\n    exec: function(editor) { editor.getSelection().selectLineEnd(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotolineend\",\n    description: \"Go to line end\",\n    bindKey: bindKey(\"Alt-Right|End\", \"Command-Right|End|Ctrl-E\"),\n    exec: function(editor) { editor.navigateLineEnd(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectright\",\n    description: \"Select right\",\n    bindKey: bindKey(\"Shift-Right\", \"Shift-Right\"),\n    exec: function(editor) { editor.getSelection().selectRight(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotoright\",\n    description: \"Go to right\",\n    bindKey: bindKey(\"Right\", \"Right|Ctrl-F\"),\n    exec: function(editor, args) { editor.navigateRight(args.times); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectpagedown\",\n    description: \"Select page down\",\n    bindKey: \"Shift-PageDown\",\n    exec: function(editor) { editor.selectPageDown(); },\n    readOnly: true\n}, {\n    name: \"pagedown\",\n    description: \"Page down\",\n    bindKey: bindKey(null, \"Option-PageDown\"),\n    exec: function(editor) { editor.scrollPageDown(); },\n    readOnly: true\n}, {\n    name: \"gotopagedown\",\n    description: \"Go to page down\",\n    bindKey: bindKey(\"PageDown\", \"PageDown|Ctrl-V\"),\n    exec: function(editor) { editor.gotoPageDown(); },\n    readOnly: true\n}, {\n    name: \"selectpageup\",\n    description: \"Select page up\",\n    bindKey: \"Shift-PageUp\",\n    exec: function(editor) { editor.selectPageUp(); },\n    readOnly: true\n}, {\n    name: \"pageup\",\n    description: \"Page up\",\n    bindKey: bindKey(null, \"Option-PageUp\"),\n    exec: function(editor) { editor.scrollPageUp(); },\n    readOnly: true\n}, {\n    name: \"gotopageup\",\n    description: \"Go to page up\",\n    bindKey: \"PageUp\",\n    exec: function(editor) { editor.gotoPageUp(); },\n    readOnly: true\n}, {\n    name: \"scrollup\",\n    description: \"Scroll up\",\n    bindKey: bindKey(\"Ctrl-Up\", null),\n    exec: function(e) { e.renderer.scrollBy(0, -2 * e.renderer.layerConfig.lineHeight); },\n    readOnly: true\n}, {\n    name: \"scrolldown\",\n    description: \"Scroll down\",\n    bindKey: bindKey(\"Ctrl-Down\", null),\n    exec: function(e) { e.renderer.scrollBy(0, 2 * e.renderer.layerConfig.lineHeight); },\n    readOnly: true\n}, {\n    name: \"selectlinestart\",\n    description: \"Select line start\",\n    bindKey: \"Shift-Home\",\n    exec: function(editor) { editor.getSelection().selectLineStart(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectlineend\",\n    description: \"Select line end\",\n    bindKey: \"Shift-End\",\n    exec: function(editor) { editor.getSelection().selectLineEnd(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"togglerecording\",\n    description: \"Toggle recording\",\n    bindKey: bindKey(\"Ctrl-Alt-E\", \"Command-Option-E\"),\n    exec: function(editor) { editor.commands.toggleRecording(editor); },\n    readOnly: true\n}, {\n    name: \"replaymacro\",\n    description: \"Replay macro\",\n    bindKey: bindKey(\"Ctrl-Shift-E\", \"Command-Shift-E\"),\n    exec: function(editor) { editor.commands.replay(editor); },\n    readOnly: true\n}, {\n    name: \"jumptomatching\",\n    description: \"Jump to matching\",\n    bindKey: bindKey(\"Ctrl-\\\\|Ctrl-P\", \"Command-\\\\\"),\n    exec: function(editor) { editor.jumpToMatching(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"animate\",\n    readOnly: true\n}, {\n    name: \"selecttomatching\",\n    description: \"Select to matching\",\n    bindKey: bindKey(\"Ctrl-Shift-\\\\|Ctrl-Shift-P\", \"Command-Shift-\\\\\"),\n    exec: function(editor) { editor.jumpToMatching(true); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"animate\",\n    readOnly: true\n}, {\n    name: \"expandToMatching\",\n    description: \"Expand to matching\",\n    bindKey: bindKey(\"Ctrl-Shift-M\", \"Ctrl-Shift-M\"),\n    exec: function(editor) { editor.jumpToMatching(true, true); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"animate\",\n    readOnly: true\n}, {\n    name: \"passKeysToBrowser\",\n    description: \"Pass keys to browser\",\n    bindKey: bindKey(null, null),\n    exec: function() {},\n    passEvent: true,\n    readOnly: true\n}, {\n    name: \"copy\",\n    description: \"Copy\",\n    exec: function(editor) {\n    },\n    readOnly: true\n},\n{\n    name: \"cut\",\n    description: \"Cut\",\n    exec: function(editor) {\n        var cutLine = editor.$copyWithEmptySelection && editor.selection.isEmpty();\n        var range = cutLine ? editor.selection.getLineRange() : editor.selection.getRange();\n        editor._emit(\"cut\", range);\n\n        if (!range.isEmpty())\n            editor.session.remove(range);\n        editor.clearSelection();\n    },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEach\"\n}, {\n    name: \"paste\",\n    description: \"Paste\",\n    exec: function(editor, args) {\n        editor.$handlePaste(args);\n    },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removeline\",\n    description: \"Remove line\",\n    bindKey: bindKey(\"Ctrl-D\", \"Command-D\"),\n    exec: function(editor) { editor.removeLines(); },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEachLine\"\n}, {\n    name: \"duplicateSelection\",\n    description: \"Duplicate selection\",\n    bindKey: bindKey(\"Ctrl-Shift-D\", \"Command-Shift-D\"),\n    exec: function(editor) { editor.duplicateSelection(); },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEach\"\n}, {\n    name: \"sortlines\",\n    description: \"Sort lines\",\n    bindKey: bindKey(\"Ctrl-Alt-S\", \"Command-Alt-S\"),\n    exec: function(editor) { editor.sortLines(); },\n    scrollIntoView: \"selection\",\n    multiSelectAction: \"forEachLine\"\n}, {\n    name: \"togglecomment\",\n    description: \"Toggle comment\",\n    bindKey: bindKey(\"Ctrl-/\", \"Command-/\"),\n    exec: function(editor) { editor.toggleCommentLines(); },\n    multiSelectAction: \"forEachLine\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"toggleBlockComment\",\n    description: \"Toggle block comment\",\n    bindKey: bindKey(\"Ctrl-Shift-/\", \"Command-Shift-/\"),\n    exec: function(editor) { editor.toggleBlockComment(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"modifyNumberUp\",\n    description: \"Modify number up\",\n    bindKey: bindKey(\"Ctrl-Shift-Up\", \"Alt-Shift-Up\"),\n    exec: function(editor) { editor.modifyNumber(1); },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEach\"\n}, {\n    name: \"modifyNumberDown\",\n    description: \"Modify number down\",\n    bindKey: bindKey(\"Ctrl-Shift-Down\", \"Alt-Shift-Down\"),\n    exec: function(editor) { editor.modifyNumber(-1); },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEach\"\n}, {\n    name: \"replace\",\n    description: \"Replace\",\n    bindKey: bindKey(\"Ctrl-H\", \"Command-Option-F\"),\n    exec: function(editor) {\n        config.loadModule(\"ace/ext/searchbox\", function(e) {e.Search(editor, true);});\n    }\n}, {\n    name: \"undo\",\n    description: \"Undo\",\n    bindKey: bindKey(\"Ctrl-Z\", \"Command-Z\"),\n    exec: function(editor) { editor.undo(); }\n}, {\n    name: \"redo\",\n    description: \"Redo\",\n    bindKey: bindKey(\"Ctrl-Shift-Z|Ctrl-Y\", \"Command-Shift-Z|Command-Y\"),\n    exec: function(editor) { editor.redo(); }\n}, {\n    name: \"copylinesup\",\n    description: \"Copy lines up\",\n    bindKey: bindKey(\"Alt-Shift-Up\", \"Command-Option-Up\"),\n    exec: function(editor) { editor.copyLinesUp(); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"movelinesup\",\n    description: \"Move lines up\",\n    bindKey: bindKey(\"Alt-Up\", \"Option-Up\"),\n    exec: function(editor) { editor.moveLinesUp(); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"copylinesdown\",\n    description: \"Copy lines down\",\n    bindKey: bindKey(\"Alt-Shift-Down\", \"Command-Option-Down\"),\n    exec: function(editor) { editor.copyLinesDown(); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"movelinesdown\",\n    description: \"Move lines down\",\n    bindKey: bindKey(\"Alt-Down\", \"Option-Down\"),\n    exec: function(editor) { editor.moveLinesDown(); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"del\",\n    description: \"Delete\",\n    bindKey: bindKey(\"Delete\", \"Delete|Ctrl-D|Shift-Delete\"),\n    exec: function(editor) { editor.remove(\"right\"); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"backspace\",\n    description: \"Backspace\",\n    bindKey: bindKey(\n        \"Shift-Backspace|Backspace\",\n        \"Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H\"\n    ),\n    exec: function(editor) { editor.remove(\"left\"); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"cut_or_delete\",\n    description: \"Cut or delete\",\n    bindKey: bindKey(\"Shift-Delete\", null),\n    exec: function(editor) { \n        if (editor.selection.isEmpty()) {\n            editor.remove(\"left\");\n        } else {\n            return false;\n        }\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removetolinestart\",\n    description: \"Remove to line start\",\n    bindKey: bindKey(\"Alt-Backspace\", \"Command-Backspace\"),\n    exec: function(editor) { editor.removeToLineStart(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removetolineend\",\n    description: \"Remove to line end\",\n    bindKey: bindKey(\"Alt-Delete\", \"Ctrl-K|Command-Delete\"),\n    exec: function(editor) { editor.removeToLineEnd(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removetolinestarthard\",\n    description: \"Remove to line start hard\",\n    bindKey: bindKey(\"Ctrl-Shift-Backspace\", null),\n    exec: function(editor) {\n        var range = editor.selection.getRange();\n        range.start.column = 0;\n        editor.session.remove(range);\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removetolineendhard\",\n    description: \"Remove to line end hard\",\n    bindKey: bindKey(\"Ctrl-Shift-Delete\", null),\n    exec: function(editor) {\n        var range = editor.selection.getRange();\n        range.end.column = Number.MAX_VALUE;\n        editor.session.remove(range);\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removewordleft\",\n    description: \"Remove word left\",\n    bindKey: bindKey(\"Ctrl-Backspace\", \"Alt-Backspace|Ctrl-Alt-Backspace\"),\n    exec: function(editor) { editor.removeWordLeft(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removewordright\",\n    description: \"Remove word right\",\n    bindKey: bindKey(\"Ctrl-Delete\", \"Alt-Delete\"),\n    exec: function(editor) { editor.removeWordRight(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"outdent\",\n    description: \"Outdent\",\n    bindKey: bindKey(\"Shift-Tab\", \"Shift-Tab\"),\n    exec: function(editor) { editor.blockOutdent(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"indent\",\n    description: \"Indent\",\n    bindKey: bindKey(\"Tab\", \"Tab\"),\n    exec: function(editor) { editor.indent(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"blockoutdent\",\n    description: \"Block outdent\",\n    bindKey: bindKey(\"Ctrl-[\", \"Ctrl-[\"),\n    exec: function(editor) { editor.blockOutdent(); },\n    multiSelectAction: \"forEachLine\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"blockindent\",\n    description: \"Block indent\",\n    bindKey: bindKey(\"Ctrl-]\", \"Ctrl-]\"),\n    exec: function(editor) { editor.blockIndent(); },\n    multiSelectAction: \"forEachLine\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"insertstring\",\n    description: \"Insert string\",\n    exec: function(editor, str) { editor.insert(str); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"inserttext\",\n    description: \"Insert text\",\n    exec: function(editor, args) {\n        editor.insert(lang.stringRepeat(args.text  || \"\", args.times || 1));\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"splitline\",\n    description: \"Split line\",\n    bindKey: bindKey(null, \"Ctrl-O\"),\n    exec: function(editor) { editor.splitLine(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"transposeletters\",\n    description: \"Transpose letters\",\n    bindKey: bindKey(\"Alt-Shift-X\", \"Ctrl-T\"),\n    exec: function(editor) { editor.transposeLetters(); },\n    multiSelectAction: function(editor) {editor.transposeSelections(1); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"touppercase\",\n    description: \"To uppercase\",\n    bindKey: bindKey(\"Ctrl-U\", \"Ctrl-U\"),\n    exec: function(editor) { editor.toUpperCase(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"tolowercase\",\n    description: \"To lowercase\",\n    bindKey: bindKey(\"Ctrl-Shift-U\", \"Ctrl-Shift-U\"),\n    exec: function(editor) { editor.toLowerCase(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"autoindent\",\n    description: \"Auto Indent\",\n    bindKey: bindKey(null, null),\n    exec: function(editor) { editor.autoIndent(); },\n    multiSelectAction: \"forEachLine\",\n    scrollIntoView: \"animate\"\n}, {\n    name: \"expandtoline\",\n    description: \"Expand to line\",\n    bindKey: bindKey(\"Ctrl-Shift-L\", \"Command-Shift-L\"),\n    exec: function(editor) {\n        var range = editor.selection.getRange();\n\n        range.start.column = range.end.column = 0;\n        range.end.row++;\n        editor.selection.setRange(range, false);\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"joinlines\",\n    description: \"Join lines\",\n    bindKey: bindKey(null, null),\n    exec: function(editor) {\n        var isBackwards = editor.selection.isBackwards();\n        var selectionStart = isBackwards ? editor.selection.getSelectionLead() : editor.selection.getSelectionAnchor();\n        var selectionEnd = isBackwards ? editor.selection.getSelectionAnchor() : editor.selection.getSelectionLead();\n        var firstLineEndCol = editor.session.doc.getLine(selectionStart.row).length;\n        var selectedText = editor.session.doc.getTextRange(editor.selection.getRange());\n        var selectedCount = selectedText.replace(/\\n\\s*/, \" \").length;\n        var insertLine = editor.session.doc.getLine(selectionStart.row);\n\n        for (var i = selectionStart.row + 1; i <= selectionEnd.row + 1; i++) {\n            var curLine = lang.stringTrimLeft(lang.stringTrimRight(editor.session.doc.getLine(i)));\n            if (curLine.length !== 0) {\n                curLine = \" \" + curLine;\n            }\n            insertLine += curLine;\n        }\n\n        if (selectionEnd.row + 1 < (editor.session.doc.getLength() - 1)) {\n            insertLine += editor.session.doc.getNewLineCharacter();\n        }\n\n        editor.clearSelection();\n        editor.session.doc.replace(new Range(selectionStart.row, 0, selectionEnd.row + 2, 0), insertLine);\n\n        if (selectedCount > 0) {\n            editor.selection.moveCursorTo(selectionStart.row, selectionStart.column);\n            editor.selection.selectTo(selectionStart.row, selectionStart.column + selectedCount);\n        } else {\n            firstLineEndCol = editor.session.doc.getLine(selectionStart.row).length > firstLineEndCol ? (firstLineEndCol + 1) : firstLineEndCol;\n            editor.selection.moveCursorTo(selectionStart.row, firstLineEndCol);\n        }\n    },\n    multiSelectAction: \"forEach\",\n    readOnly: true\n}, {\n    name: \"invertSelection\",\n    description: \"Invert selection\",\n    bindKey: bindKey(null, null),\n    exec: function(editor) {\n        var endRow = editor.session.doc.getLength() - 1;\n        var endCol = editor.session.doc.getLine(endRow).length;\n        var ranges = editor.selection.rangeList.ranges;\n        var newRanges = [];\n        if (ranges.length < 1) {\n            ranges = [editor.selection.getRange()];\n        }\n\n        for (var i = 0; i < ranges.length; i++) {\n            if (i == (ranges.length - 1)) {\n                if (!(ranges[i].end.row === endRow && ranges[i].end.column === endCol)) {\n                    newRanges.push(new Range(ranges[i].end.row, ranges[i].end.column, endRow, endCol));\n                }\n            }\n\n            if (i === 0) {\n                if (!(ranges[i].start.row === 0 && ranges[i].start.column === 0)) {\n                    newRanges.push(new Range(0, 0, ranges[i].start.row, ranges[i].start.column));\n                }\n            } else {\n                newRanges.push(new Range(ranges[i-1].end.row, ranges[i-1].end.column, ranges[i].start.row, ranges[i].start.column));\n            }\n        }\n\n        editor.exitMultiSelectMode();\n        editor.clearSelection();\n\n        for(var i = 0; i < newRanges.length; i++) {\n            editor.selection.addRange(newRanges[i], false);\n        }\n    },\n    readOnly: true,\n    scrollIntoView: \"none\"\n}, {\n    name: \"addLineAfter\",\n    exec: function(editor) {\n        editor.selection.clearSelection();\n        editor.navigateLineEnd();\n        editor.insert(\"\\n\");\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"addLineBefore\",\n    exec: function(editor) {\n        editor.selection.clearSelection();\n        var cursor = editor.getCursorPosition();\n        editor.selection.moveTo(cursor.row - 1, Number.MAX_VALUE);\n        editor.insert(\"\\n\");\n        if (cursor.row === 0) editor.navigateUp();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"openCommandPallete\",\n    description: \"Open command pallete\",\n    bindKey: bindKey(\"F1\", \"F1\"),\n    exec: function(editor) {\n        editor.prompt({ $type: \"commands\" });\n    },\n    readOnly: true\n}, {\n    name: \"modeSelect\",\n    description: \"Change language mode...\",\n    bindKey: bindKey(null, null),\n    exec: function(editor) {\n        editor.prompt({ $type: \"modes\" });\n    },\n    readOnly: true\n}];\n\nfor (var i = 1; i < 9; i++) {\n    exports.commands.push({\n        name: \"foldToLevel\" + i,\n        description: \"Fold To Level \" + i,\n        level: i,\n        exec: function(editor) { editor.session.foldToLevel(this.level); },\n        scrollIntoView: \"center\",\n        readOnly: true\n    });\n}\n\n});\n\nace.define(\"ace/editor\",[\"require\",\"exports\",\"module\",\"ace/lib/fixoldbrowsers\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/lib/useragent\",\"ace/keyboard/textinput\",\"ace/mouse/mouse_handler\",\"ace/mouse/fold_handler\",\"ace/keyboard/keybinding\",\"ace/edit_session\",\"ace/search\",\"ace/range\",\"ace/lib/event_emitter\",\"ace/commands/command_manager\",\"ace/commands/default_commands\",\"ace/config\",\"ace/token_iterator\",\"ace/clipboard\"], function(require, exports, module) {\n\"use strict\";\n\nrequire(\"./lib/fixoldbrowsers\");\n\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar lang = require(\"./lib/lang\");\nvar useragent = require(\"./lib/useragent\");\nvar TextInput = require(\"./keyboard/textinput\").TextInput;\nvar MouseHandler = require(\"./mouse/mouse_handler\").MouseHandler;\nvar FoldHandler = require(\"./mouse/fold_handler\").FoldHandler;\nvar KeyBinding = require(\"./keyboard/keybinding\").KeyBinding;\nvar EditSession = require(\"./edit_session\").EditSession;\nvar Search = require(\"./search\").Search;\nvar Range = require(\"./range\").Range;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar CommandManager = require(\"./commands/command_manager\").CommandManager;\nvar defaultCommands = require(\"./commands/default_commands\").commands;\nvar config = require(\"./config\");\nvar TokenIterator = require(\"./token_iterator\").TokenIterator;\n\nvar clipboard = require(\"./clipboard\");\nvar Editor = function(renderer, session, options) {\n    this.$toDestroy = [];\n    var container = renderer.getContainerElement();\n    this.container = container;\n    this.renderer = renderer;\n    this.id = \"editor\" + (++Editor.$uid);\n\n    this.commands = new CommandManager(useragent.isMac ? \"mac\" : \"win\", defaultCommands);\n    if (typeof document == \"object\") {\n        this.textInput = new TextInput(renderer.getTextAreaContainer(), this);\n        this.renderer.textarea = this.textInput.getElement();\n        this.$mouseHandler = new MouseHandler(this);\n        new FoldHandler(this);\n    }\n\n    this.keyBinding = new KeyBinding(this);\n\n    this.$search = new Search().set({\n        wrap: true\n    });\n\n    this.$historyTracker = this.$historyTracker.bind(this);\n    this.commands.on(\"exec\", this.$historyTracker);\n\n    this.$initOperationListeners();\n    \n    this._$emitInputEvent = lang.delayedCall(function() {\n        this._signal(\"input\", {});\n        if (this.session && this.session.bgTokenizer)\n            this.session.bgTokenizer.scheduleStart();\n    }.bind(this));\n    \n    this.on(\"change\", function(_, _self) {\n        _self._$emitInputEvent.schedule(31);\n    });\n\n    this.setSession(session || options && options.session || new EditSession(\"\"));\n    config.resetOptions(this);\n    if (options)\n        this.setOptions(options);\n    config._signal(\"editor\", this);\n};\n\nEditor.$uid = 0;\n\n(function(){\n\n    oop.implement(this, EventEmitter);\n\n    this.$initOperationListeners = function() {\n        this.commands.on(\"exec\", this.startOperation.bind(this), true);\n        this.commands.on(\"afterExec\", this.endOperation.bind(this), true);\n\n        this.$opResetTimer = lang.delayedCall(this.endOperation.bind(this, true));\n        this.on(\"change\", function() {\n            if (!this.curOp) {\n                this.startOperation();\n                this.curOp.selectionBefore = this.$lastSel;\n            }\n            this.curOp.docChanged = true;\n        }.bind(this), true);\n        \n        this.on(\"changeSelection\", function() {\n            if (!this.curOp) {\n                this.startOperation();\n                this.curOp.selectionBefore = this.$lastSel;\n            }\n            this.curOp.selectionChanged = true;\n        }.bind(this), true);\n    };\n\n    this.curOp = null;\n    this.prevOp = {};\n    this.startOperation = function(commandEvent) {\n        if (this.curOp) {\n            if (!commandEvent || this.curOp.command)\n                return;\n            this.prevOp = this.curOp;\n        }\n        if (!commandEvent) {\n            this.previousCommand = null;\n            commandEvent = {};\n        }\n\n        this.$opResetTimer.schedule();\n        this.curOp = this.session.curOp = {\n            command: commandEvent.command || {},\n            args: commandEvent.args,\n            scrollTop: this.renderer.scrollTop\n        };\n        this.curOp.selectionBefore = this.selection.toJSON();\n    };\n\n    this.endOperation = function(e) {\n        if (this.curOp && this.session) {\n            if (e && e.returnValue === false || !this.session)\n                return (this.curOp = null);\n            if (e == true && this.curOp.command && this.curOp.command.name == \"mouse\")\n                return;\n            this._signal(\"beforeEndOperation\");\n            if (!this.curOp) return;\n            var command = this.curOp.command;\n            var scrollIntoView = command && command.scrollIntoView;\n            if (scrollIntoView) {\n                switch (scrollIntoView) {\n                    case \"center-animate\":\n                        scrollIntoView = \"animate\";\n                    case \"center\":\n                        this.renderer.scrollCursorIntoView(null, 0.5);\n                        break;\n                    case \"animate\":\n                    case \"cursor\":\n                        this.renderer.scrollCursorIntoView();\n                        break;\n                    case \"selectionPart\":\n                        var range = this.selection.getRange();\n                        var config = this.renderer.layerConfig;\n                        if (range.start.row >= config.lastRow || range.end.row <= config.firstRow) {\n                            this.renderer.scrollSelectionIntoView(this.selection.anchor, this.selection.lead);\n                        }\n                        break;\n                    default:\n                        break;\n                }\n                if (scrollIntoView == \"animate\")\n                    this.renderer.animateScrolling(this.curOp.scrollTop);\n            }\n            var sel = this.selection.toJSON();\n            this.curOp.selectionAfter = sel;\n            this.$lastSel = this.selection.toJSON();\n            this.session.getUndoManager().addSelection(sel);\n            this.prevOp = this.curOp;\n            this.curOp = null;\n        }\n    };\n    this.$mergeableCommands = [\"backspace\", \"del\", \"insertstring\"];\n    this.$historyTracker = function(e) {\n        if (!this.$mergeUndoDeltas)\n            return;\n\n        var prev = this.prevOp;\n        var mergeableCommands = this.$mergeableCommands;\n        var shouldMerge = prev.command && (e.command.name == prev.command.name);\n        if (e.command.name == \"insertstring\") {\n            var text = e.args;\n            if (this.mergeNextCommand === undefined)\n                this.mergeNextCommand = true;\n\n            shouldMerge = shouldMerge\n                && this.mergeNextCommand // previous command allows to coalesce with\n                && (!/\\s/.test(text) || /\\s/.test(prev.args)); // previous insertion was of same type\n\n            this.mergeNextCommand = true;\n        } else {\n            shouldMerge = shouldMerge\n                && mergeableCommands.indexOf(e.command.name) !== -1; // the command is mergeable\n        }\n\n        if (\n            this.$mergeUndoDeltas != \"always\"\n            && Date.now() - this.sequenceStartTime > 2000\n        ) {\n            shouldMerge = false; // the sequence is too long\n        }\n\n        if (shouldMerge)\n            this.session.mergeUndoDeltas = true;\n        else if (mergeableCommands.indexOf(e.command.name) !== -1)\n            this.sequenceStartTime = Date.now();\n    };\n    this.setKeyboardHandler = function(keyboardHandler, cb) {\n        if (keyboardHandler && typeof keyboardHandler === \"string\" && keyboardHandler != \"ace\") {\n            this.$keybindingId = keyboardHandler;\n            var _self = this;\n            config.loadModule([\"keybinding\", keyboardHandler], function(module) {\n                if (_self.$keybindingId == keyboardHandler)\n                    _self.keyBinding.setKeyboardHandler(module && module.handler);\n                cb && cb();\n            });\n        } else {\n            this.$keybindingId = null;\n            this.keyBinding.setKeyboardHandler(keyboardHandler);\n            cb && cb();\n        }\n    };\n    this.getKeyboardHandler = function() {\n        return this.keyBinding.getKeyboardHandler();\n    };\n    this.setSession = function(session) {\n        if (this.session == session)\n            return;\n        if (this.curOp) this.endOperation();\n        this.curOp = {};\n\n        var oldSession = this.session;\n        if (oldSession) {\n            this.session.off(\"change\", this.$onDocumentChange);\n            this.session.off(\"changeMode\", this.$onChangeMode);\n            this.session.off(\"tokenizerUpdate\", this.$onTokenizerUpdate);\n            this.session.off(\"changeTabSize\", this.$onChangeTabSize);\n            this.session.off(\"changeWrapLimit\", this.$onChangeWrapLimit);\n            this.session.off(\"changeWrapMode\", this.$onChangeWrapMode);\n            this.session.off(\"changeFold\", this.$onChangeFold);\n            this.session.off(\"changeFrontMarker\", this.$onChangeFrontMarker);\n            this.session.off(\"changeBackMarker\", this.$onChangeBackMarker);\n            this.session.off(\"changeBreakpoint\", this.$onChangeBreakpoint);\n            this.session.off(\"changeAnnotation\", this.$onChangeAnnotation);\n            this.session.off(\"changeOverwrite\", this.$onCursorChange);\n            this.session.off(\"changeScrollTop\", this.$onScrollTopChange);\n            this.session.off(\"changeScrollLeft\", this.$onScrollLeftChange);\n\n            var selection = this.session.getSelection();\n            selection.off(\"changeCursor\", this.$onCursorChange);\n            selection.off(\"changeSelection\", this.$onSelectionChange);\n        }\n\n        this.session = session;\n        if (session) {\n            this.$onDocumentChange = this.onDocumentChange.bind(this);\n            session.on(\"change\", this.$onDocumentChange);\n            this.renderer.setSession(session);\n    \n            this.$onChangeMode = this.onChangeMode.bind(this);\n            session.on(\"changeMode\", this.$onChangeMode);\n    \n            this.$onTokenizerUpdate = this.onTokenizerUpdate.bind(this);\n            session.on(\"tokenizerUpdate\", this.$onTokenizerUpdate);\n    \n            this.$onChangeTabSize = this.renderer.onChangeTabSize.bind(this.renderer);\n            session.on(\"changeTabSize\", this.$onChangeTabSize);\n    \n            this.$onChangeWrapLimit = this.onChangeWrapLimit.bind(this);\n            session.on(\"changeWrapLimit\", this.$onChangeWrapLimit);\n    \n            this.$onChangeWrapMode = this.onChangeWrapMode.bind(this);\n            session.on(\"changeWrapMode\", this.$onChangeWrapMode);\n    \n            this.$onChangeFold = this.onChangeFold.bind(this);\n            session.on(\"changeFold\", this.$onChangeFold);\n    \n            this.$onChangeFrontMarker = this.onChangeFrontMarker.bind(this);\n            this.session.on(\"changeFrontMarker\", this.$onChangeFrontMarker);\n    \n            this.$onChangeBackMarker = this.onChangeBackMarker.bind(this);\n            this.session.on(\"changeBackMarker\", this.$onChangeBackMarker);\n    \n            this.$onChangeBreakpoint = this.onChangeBreakpoint.bind(this);\n            this.session.on(\"changeBreakpoint\", this.$onChangeBreakpoint);\n    \n            this.$onChangeAnnotation = this.onChangeAnnotation.bind(this);\n            this.session.on(\"changeAnnotation\", this.$onChangeAnnotation);\n    \n            this.$onCursorChange = this.onCursorChange.bind(this);\n            this.session.on(\"changeOverwrite\", this.$onCursorChange);\n    \n            this.$onScrollTopChange = this.onScrollTopChange.bind(this);\n            this.session.on(\"changeScrollTop\", this.$onScrollTopChange);\n    \n            this.$onScrollLeftChange = this.onScrollLeftChange.bind(this);\n            this.session.on(\"changeScrollLeft\", this.$onScrollLeftChange);\n    \n            this.selection = session.getSelection();\n            this.selection.on(\"changeCursor\", this.$onCursorChange);\n    \n            this.$onSelectionChange = this.onSelectionChange.bind(this);\n            this.selection.on(\"changeSelection\", this.$onSelectionChange);\n    \n            this.onChangeMode();\n    \n            this.onCursorChange();\n    \n            this.onScrollTopChange();\n            this.onScrollLeftChange();\n            this.onSelectionChange();\n            this.onChangeFrontMarker();\n            this.onChangeBackMarker();\n            this.onChangeBreakpoint();\n            this.onChangeAnnotation();\n            this.session.getUseWrapMode() && this.renderer.adjustWrapLimit();\n            this.renderer.updateFull();\n        } else {\n            this.selection = null;\n            this.renderer.setSession(session);\n        }\n\n        this._signal(\"changeSession\", {\n            session: session,\n            oldSession: oldSession\n        });\n        \n        this.curOp = null;\n        \n        oldSession && oldSession._signal(\"changeEditor\", {oldEditor: this});\n        session && session._signal(\"changeEditor\", {editor: this});\n        \n        if (session && session.bgTokenizer)\n            session.bgTokenizer.scheduleStart();\n    };\n    this.getSession = function() {\n        return this.session;\n    };\n    this.setValue = function(val, cursorPos) {\n        this.session.doc.setValue(val);\n\n        if (!cursorPos)\n            this.selectAll();\n        else if (cursorPos == 1)\n            this.navigateFileEnd();\n        else if (cursorPos == -1)\n            this.navigateFileStart();\n\n        return val;\n    };\n    this.getValue = function() {\n        return this.session.getValue();\n    };\n    this.getSelection = function() {\n        return this.selection;\n    };\n    this.resize = function(force) {\n        this.renderer.onResize(force);\n    };\n    this.setTheme = function(theme, cb) {\n        this.renderer.setTheme(theme, cb);\n    };\n    this.getTheme = function() {\n        return this.renderer.getTheme();\n    };\n    this.setStyle = function(style) {\n        this.renderer.setStyle(style);\n    };\n    this.unsetStyle = function(style) {\n        this.renderer.unsetStyle(style);\n    };\n    this.getFontSize = function () {\n        return this.getOption(\"fontSize\") ||\n           dom.computedStyle(this.container).fontSize;\n    };\n    this.setFontSize = function(size) {\n        this.setOption(\"fontSize\", size);\n    };\n\n    this.$highlightBrackets = function() {\n        if (this.$highlightPending) {\n            return;\n        }\n        var self = this;\n        this.$highlightPending = true;\n        setTimeout(function () {\n            self.$highlightPending = false;\n            var session = self.session;\n            if (!session || !session.bgTokenizer) return;\n            if (session.$bracketHighlight) {\n                session.$bracketHighlight.markerIds.forEach(function(id) {\n                    session.removeMarker(id);\n                });\n                session.$bracketHighlight = null;\n            }\n            var ranges = session.getMatchingBracketRanges(self.getCursorPosition());\n            if (!ranges && session.$mode.getMatching) \n                ranges = session.$mode.getMatching(self.session);\n            if (!ranges)\n                return;\n\n            var markerType = \"ace_bracket\";\n            if (!Array.isArray(ranges)) {\n                ranges = [ranges];\n            } else if (ranges.length == 1) {\n                markerType = \"ace_error_bracket\";\n            }\n            if (ranges.length == 2) {\n                if (Range.comparePoints(ranges[0].end, ranges[1].start) == 0)\n                    ranges = [Range.fromPoints(ranges[0].start, ranges[1].end)];\n                else if (Range.comparePoints(ranges[0].start, ranges[1].end) == 0)\n                    ranges = [Range.fromPoints(ranges[1].start, ranges[0].end)];\n            }\n\n            session.$bracketHighlight = {\n                ranges: ranges,\n                markerIds: ranges.map(function(range) {\n                    return session.addMarker(range, markerType, \"text\");\n                })\n            };\n        }, 50);\n    };\n    this.$highlightTags = function() {\n        if (this.$highlightTagPending)\n            return;\n        var self = this;\n        this.$highlightTagPending = true;\n        setTimeout(function() {\n            self.$highlightTagPending = false;\n            \n            var session = self.session;\n            if (!session || !session.bgTokenizer) return;\n            \n            var pos = self.getCursorPosition();\n            var iterator = new TokenIterator(self.session, pos.row, pos.column);\n            var token = iterator.getCurrentToken();\n            \n            if (!token || !/\\b(?:tag-open|tag-name)/.test(token.type)) {\n                session.removeMarker(session.$tagHighlight);\n                session.$tagHighlight = null;\n                return;\n            }\n            \n            if (token.type.indexOf(\"tag-open\") !== -1) {\n                token = iterator.stepForward();\n                if (!token)\n                    return;\n            }\n            \n            var tag = token.value;\n            var currentTag = token.value;\n            var depth = 0;\n            var prevToken = iterator.stepBackward();\n            \n            if (prevToken.value === '<'){\n                do {\n                    prevToken = token;\n                    token = iterator.stepForward();\n\n                    if (token) {\n                        if (token.type.indexOf('tag-name') !== -1) {\n                            currentTag = token.value;\n                            if (tag === currentTag) {\n                                if (prevToken.value === '<') {\n                                    depth++;\n                                } else if (prevToken.value === '</') {\n                                    depth--;\n                                }\n                            }\n                        } else if (tag === currentTag && token.value === '/>') { // self closing tag\n                            depth--;\n                        }\n                    }\n                    \n                } while (token && depth >= 0);\n            } else {\n                do {\n                    token = prevToken;\n                    prevToken = iterator.stepBackward();\n\n                    if (token) {\n                        if (token.type.indexOf('tag-name') !== -1) {\n                            if (tag === token.value) {\n                                if (prevToken.value === '<') {\n                                    depth++;\n                                } else if (prevToken.value === '</') {\n                                    depth--;\n                                }\n                            }\n                        } else if (token.value === '/>') { // self closing tag\n                            var stepCount = 0;\n                            var tmpToken = prevToken;\n                            while (tmpToken) {\n                                if (tmpToken.type.indexOf('tag-name') !== -1 && tmpToken.value === tag) {\n                                    depth--;\n                                    break;\n                                } else if (tmpToken.value === '<') {\n                                    break;\n                                }\n                                tmpToken = iterator.stepBackward();\n                                stepCount++;\n                            }\n                            for (var i = 0; i < stepCount; i++) {\n                                iterator.stepForward();\n                            }\n                        }\n                    }\n                } while (prevToken && depth <= 0);\n                iterator.stepForward();\n            }\n            \n            if (!token) {\n                session.removeMarker(session.$tagHighlight);\n                session.$tagHighlight = null;\n                return;\n            }\n            \n            var row = iterator.getCurrentTokenRow();\n            var column = iterator.getCurrentTokenColumn();\n            var range = new Range(row, column, row, column+token.value.length);\n            var sbm = session.$backMarkers[session.$tagHighlight];\n            if (session.$tagHighlight && sbm != undefined && range.compareRange(sbm.range) !== 0) {\n                session.removeMarker(session.$tagHighlight);\n                session.$tagHighlight = null;\n            }\n            \n            if (!session.$tagHighlight)\n                session.$tagHighlight = session.addMarker(range, \"ace_bracket\", \"text\");\n        }, 50);\n    };\n    this.focus = function() {\n        var _self = this;\n        setTimeout(function() {\n            if (!_self.isFocused())\n                _self.textInput.focus();\n        });\n        this.textInput.focus();\n    };\n    this.isFocused = function() {\n        return this.textInput.isFocused();\n    };\n    this.blur = function() {\n        this.textInput.blur();\n    };\n    this.onFocus = function(e) {\n        if (this.$isFocused)\n            return;\n        this.$isFocused = true;\n        this.renderer.showCursor();\n        this.renderer.visualizeFocus();\n        this._emit(\"focus\", e);\n    };\n    this.onBlur = function(e) {\n        if (!this.$isFocused)\n            return;\n        this.$isFocused = false;\n        this.renderer.hideCursor();\n        this.renderer.visualizeBlur();\n        this._emit(\"blur\", e);\n    };\n\n    this.$cursorChange = function() {\n        this.renderer.updateCursor();\n        this.$highlightBrackets();\n        this.$highlightTags();\n        this.$updateHighlightActiveLine();\n    };\n    this.onDocumentChange = function(delta) {\n        var wrap = this.session.$useWrapMode;\n        var lastRow = (delta.start.row == delta.end.row ? delta.end.row : Infinity);\n        this.renderer.updateLines(delta.start.row, lastRow, wrap);\n\n        this._signal(\"change\", delta);\n        this.$cursorChange();\n    };\n\n    this.onTokenizerUpdate = function(e) {\n        var rows = e.data;\n        this.renderer.updateLines(rows.first, rows.last);\n    };\n\n\n    this.onScrollTopChange = function() {\n        this.renderer.scrollToY(this.session.getScrollTop());\n    };\n\n    this.onScrollLeftChange = function() {\n        this.renderer.scrollToX(this.session.getScrollLeft());\n    };\n    this.onCursorChange = function() {\n        this.$cursorChange();\n        this._signal(\"changeSelection\");\n    };\n\n    this.$updateHighlightActiveLine = function() {\n        var session = this.getSession();\n\n        var highlight;\n        if (this.$highlightActiveLine) {\n            if (this.$selectionStyle != \"line\" || !this.selection.isMultiLine())\n                highlight = this.getCursorPosition();\n            if (this.renderer.theme && this.renderer.theme.$selectionColorConflict && !this.selection.isEmpty())\n                highlight = false;\n            if (this.renderer.$maxLines && this.session.getLength() === 1 && !(this.renderer.$minLines > 1))\n                highlight = false;\n        }\n\n        if (session.$highlightLineMarker && !highlight) {\n            session.removeMarker(session.$highlightLineMarker.id);\n            session.$highlightLineMarker = null;\n        } else if (!session.$highlightLineMarker && highlight) {\n            var range = new Range(highlight.row, highlight.column, highlight.row, Infinity);\n            range.id = session.addMarker(range, \"ace_active-line\", \"screenLine\");\n            session.$highlightLineMarker = range;\n        } else if (highlight) {\n            session.$highlightLineMarker.start.row = highlight.row;\n            session.$highlightLineMarker.end.row = highlight.row;\n            session.$highlightLineMarker.start.column = highlight.column;\n            session._signal(\"changeBackMarker\");\n        }\n    };\n\n    this.onSelectionChange = function(e) {\n        var session = this.session;\n\n        if (session.$selectionMarker) {\n            session.removeMarker(session.$selectionMarker);\n        }\n        session.$selectionMarker = null;\n\n        if (!this.selection.isEmpty()) {\n            var range = this.selection.getRange();\n            var style = this.getSelectionStyle();\n            session.$selectionMarker = session.addMarker(range, \"ace_selection\", style);\n        } else {\n            this.$updateHighlightActiveLine();\n        }\n\n        var re = this.$highlightSelectedWord && this.$getSelectionHighLightRegexp();\n        this.session.highlight(re);\n\n        this._signal(\"changeSelection\");\n    };\n\n    this.$getSelectionHighLightRegexp = function() {\n        var session = this.session;\n\n        var selection = this.getSelectionRange();\n        if (selection.isEmpty() || selection.isMultiLine())\n            return;\n\n        var startColumn = selection.start.column;\n        var endColumn = selection.end.column;\n        var line = session.getLine(selection.start.row);\n        \n        var needle = line.substring(startColumn, endColumn);\n        if (needle.length > 5000 || !/[\\w\\d]/.test(needle))\n            return;\n\n        var re = this.$search.$assembleRegExp({\n            wholeWord: true,\n            caseSensitive: true,\n            needle: needle\n        });\n        \n        var wordWithBoundary = line.substring(startColumn - 1, endColumn + 1);\n        if (!re.test(wordWithBoundary))\n            return;\n        \n        return re;\n    };\n\n\n    this.onChangeFrontMarker = function() {\n        this.renderer.updateFrontMarkers();\n    };\n\n    this.onChangeBackMarker = function() {\n        this.renderer.updateBackMarkers();\n    };\n\n\n    this.onChangeBreakpoint = function() {\n        this.renderer.updateBreakpoints();\n    };\n\n    this.onChangeAnnotation = function() {\n        this.renderer.setAnnotations(this.session.getAnnotations());\n    };\n\n\n    this.onChangeMode = function(e) {\n        this.renderer.updateText();\n        this._emit(\"changeMode\", e);\n    };\n\n\n    this.onChangeWrapLimit = function() {\n        this.renderer.updateFull();\n    };\n\n    this.onChangeWrapMode = function() {\n        this.renderer.onResize(true);\n    };\n\n\n    this.onChangeFold = function() {\n        this.$updateHighlightActiveLine();\n        this.renderer.updateFull();\n    };\n    this.getSelectedText = function() {\n        return this.session.getTextRange(this.getSelectionRange());\n    };\n    this.getCopyText = function() {\n        var text = this.getSelectedText();\n        var nl = this.session.doc.getNewLineCharacter();\n        var copyLine= false;\n        if (!text && this.$copyWithEmptySelection) {\n            copyLine = true;\n            var ranges = this.selection.getAllRanges();\n            for (var i = 0; i < ranges.length; i++) {\n                var range = ranges[i];\n                if (i && ranges[i - 1].start.row == range.start.row)\n                    continue;\n                text += this.session.getLine(range.start.row) + nl;\n            }\n        }\n        var e = {text: text};\n        this._signal(\"copy\", e);\n        clipboard.lineMode = copyLine ? e.text : \"\";\n        return e.text;\n    };\n    this.onCopy = function() {\n        this.commands.exec(\"copy\", this);\n    };\n    this.onCut = function() {\n        this.commands.exec(\"cut\", this);\n    };\n    this.onPaste = function(text, event) {\n        var e = {text: text, event: event};\n        this.commands.exec(\"paste\", this, e);\n    };\n    \n    this.$handlePaste = function(e) {\n        if (typeof e == \"string\") \n            e = {text: e};\n        this._signal(\"paste\", e);\n        var text = e.text;\n\n        var lineMode = text == clipboard.lineMode;\n        var session = this.session;\n        if (!this.inMultiSelectMode || this.inVirtualSelectionMode) {\n            if (lineMode)\n                session.insert({ row: this.selection.lead.row, column: 0 }, text);\n            else\n                this.insert(text);\n        } else if (lineMode) {\n            this.selection.rangeList.ranges.forEach(function(range) {\n                session.insert({ row: range.start.row, column: 0 }, text);\n            });\n        } else {\n            var lines = text.split(/\\r\\n|\\r|\\n/);\n            var ranges = this.selection.rangeList.ranges;\n    \n            var isFullLine = lines.length == 2 && (!lines[0] || !lines[1]);\n            if (lines.length != ranges.length || isFullLine)\n                return this.commands.exec(\"insertstring\", this, text);\n    \n            for (var i = ranges.length; i--;) {\n                var range = ranges[i];\n                if (!range.isEmpty())\n                    session.remove(range);\n    \n                session.insert(range.start, lines[i]);\n            }\n        }\n    };\n\n    this.execCommand = function(command, args) {\n        return this.commands.exec(command, this, args);\n    };\n    this.insert = function(text, pasted) {\n        var session = this.session;\n        var mode = session.getMode();\n        var cursor = this.getCursorPosition();\n\n        if (this.getBehavioursEnabled() && !pasted) {\n            var transform = mode.transformAction(session.getState(cursor.row), 'insertion', this, session, text);\n            if (transform) {\n                if (text !== transform.text) {\n                    if (!this.inVirtualSelectionMode) {\n                        this.session.mergeUndoDeltas = false;\n                        this.mergeNextCommand = false;\n                    }\n                }\n                text = transform.text;\n\n            }\n        }\n        \n        if (text == \"\\t\")\n            text = this.session.getTabString();\n        if (!this.selection.isEmpty()) {\n            var range = this.getSelectionRange();\n            cursor = this.session.remove(range);\n            this.clearSelection();\n        }\n        else if (this.session.getOverwrite() && text.indexOf(\"\\n\") == -1) {\n            var range = new Range.fromPoints(cursor, cursor);\n            range.end.column += text.length;\n            this.session.remove(range);\n        }\n\n        if (text == \"\\n\" || text == \"\\r\\n\") {\n            var line = session.getLine(cursor.row);\n            if (cursor.column > line.search(/\\S|$/)) {\n                var d = line.substr(cursor.column).search(/\\S|$/);\n                session.doc.removeInLine(cursor.row, cursor.column, cursor.column + d);\n            }\n        }\n        this.clearSelection();\n\n        var start = cursor.column;\n        var lineState = session.getState(cursor.row);\n        var line = session.getLine(cursor.row);\n        var shouldOutdent = mode.checkOutdent(lineState, line, text);\n        session.insert(cursor, text);\n\n        if (transform && transform.selection) {\n            if (transform.selection.length == 2) { // Transform relative to the current column\n                this.selection.setSelectionRange(\n                    new Range(cursor.row, start + transform.selection[0],\n                              cursor.row, start + transform.selection[1]));\n            } else { // Transform relative to the current row.\n                this.selection.setSelectionRange(\n                    new Range(cursor.row + transform.selection[0],\n                              transform.selection[1],\n                              cursor.row + transform.selection[2],\n                              transform.selection[3]));\n            }\n        }\n        if (this.$enableAutoIndent) {\n            if (session.getDocument().isNewLine(text)) {\n                var lineIndent = mode.getNextLineIndent(lineState, line.slice(0, cursor.column), session.getTabString());\n\n                session.insert({row: cursor.row+1, column: 0}, lineIndent);\n            }\n            if (shouldOutdent)\n                mode.autoOutdent(lineState, session, cursor.row);\n        }\n    };\n\n    this.autoIndent = function () {\n        var session = this.session;\n        var mode = session.getMode();\n\n        var startRow, endRow;\n        if (this.selection.isEmpty()) {\n            startRow = 0;\n            endRow = session.doc.getLength() - 1;\n        } else {\n            var selectedRange = this.getSelectionRange();\n\n            startRow = selectedRange.start.row;\n            endRow = selectedRange.end.row;\n        }\n\n        var prevLineState = \"\";\n        var prevLine = \"\";\n        var lineIndent = \"\";\n        var line, currIndent, range;\n        var tab = session.getTabString();\n\n        for (var row = startRow; row <= endRow; row++) {\n            if (row > 0) {\n                prevLineState = session.getState(row - 1);\n                prevLine = session.getLine(row - 1);\n                lineIndent = mode.getNextLineIndent(prevLineState, prevLine, tab);\n            }\n\n            line = session.getLine(row);\n            currIndent = mode.$getIndent(line);\n            if (lineIndent !== currIndent) {\n                if (currIndent.length > 0) {\n                    range = new Range(row, 0, row, currIndent.length);\n                    session.remove(range);\n                }\n                if (lineIndent.length > 0) {\n                    session.insert({row: row, column: 0}, lineIndent);\n                }\n            }\n\n            mode.autoOutdent(prevLineState, session, row);\n        }\n    };\n\n\n    this.onTextInput = function(text, composition) {\n        if (!composition)\n            return this.keyBinding.onTextInput(text);\n        \n        this.startOperation({command: { name: \"insertstring\" }});\n        var applyComposition = this.applyComposition.bind(this, text, composition);\n        if (this.selection.rangeCount)\n            this.forEachSelection(applyComposition);\n        else\n            applyComposition();\n        this.endOperation();\n    };\n    \n    this.applyComposition = function(text, composition) {\n        if (composition.extendLeft || composition.extendRight) {\n            var r = this.selection.getRange();\n            r.start.column -= composition.extendLeft;\n            r.end.column += composition.extendRight;\n            if (r.start.column < 0) {\n                r.start.row--;\n                r.start.column += this.session.getLine(r.start.row).length + 1;\n            }\n            this.selection.setRange(r);\n            if (!text && !r.isEmpty())\n                this.remove();\n        }\n        if (text || !this.selection.isEmpty())\n            this.insert(text, true);\n        if (composition.restoreStart || composition.restoreEnd) {\n            var r = this.selection.getRange();\n            r.start.column -= composition.restoreStart;\n            r.end.column -= composition.restoreEnd;\n            this.selection.setRange(r);\n        }\n    };\n\n    this.onCommandKey = function(e, hashId, keyCode) {\n        return this.keyBinding.onCommandKey(e, hashId, keyCode);\n    };\n    this.setOverwrite = function(overwrite) {\n        this.session.setOverwrite(overwrite);\n    };\n    this.getOverwrite = function() {\n        return this.session.getOverwrite();\n    };\n    this.toggleOverwrite = function() {\n        this.session.toggleOverwrite();\n    };\n    this.setScrollSpeed = function(speed) {\n        this.setOption(\"scrollSpeed\", speed);\n    };\n    this.getScrollSpeed = function() {\n        return this.getOption(\"scrollSpeed\");\n    };\n    this.setDragDelay = function(dragDelay) {\n        this.setOption(\"dragDelay\", dragDelay);\n    };\n    this.getDragDelay = function() {\n        return this.getOption(\"dragDelay\");\n    };\n    this.setSelectionStyle = function(val) {\n        this.setOption(\"selectionStyle\", val);\n    };\n    this.getSelectionStyle = function() {\n        return this.getOption(\"selectionStyle\");\n    };\n    this.setHighlightActiveLine = function(shouldHighlight) {\n        this.setOption(\"highlightActiveLine\", shouldHighlight);\n    };\n    this.getHighlightActiveLine = function() {\n        return this.getOption(\"highlightActiveLine\");\n    };\n    this.setHighlightGutterLine = function(shouldHighlight) {\n        this.setOption(\"highlightGutterLine\", shouldHighlight);\n    };\n\n    this.getHighlightGutterLine = function() {\n        return this.getOption(\"highlightGutterLine\");\n    };\n    this.setHighlightSelectedWord = function(shouldHighlight) {\n        this.setOption(\"highlightSelectedWord\", shouldHighlight);\n    };\n    this.getHighlightSelectedWord = function() {\n        return this.$highlightSelectedWord;\n    };\n\n    this.setAnimatedScroll = function(shouldAnimate){\n        this.renderer.setAnimatedScroll(shouldAnimate);\n    };\n\n    this.getAnimatedScroll = function(){\n        return this.renderer.getAnimatedScroll();\n    };\n    this.setShowInvisibles = function(showInvisibles) {\n        this.renderer.setShowInvisibles(showInvisibles);\n    };\n    this.getShowInvisibles = function() {\n        return this.renderer.getShowInvisibles();\n    };\n\n    this.setDisplayIndentGuides = function(display) {\n        this.renderer.setDisplayIndentGuides(display);\n    };\n\n    this.getDisplayIndentGuides = function() {\n        return this.renderer.getDisplayIndentGuides();\n    };\n    this.setShowPrintMargin = function(showPrintMargin) {\n        this.renderer.setShowPrintMargin(showPrintMargin);\n    };\n    this.getShowPrintMargin = function() {\n        return this.renderer.getShowPrintMargin();\n    };\n    this.setPrintMarginColumn = function(showPrintMargin) {\n        this.renderer.setPrintMarginColumn(showPrintMargin);\n    };\n    this.getPrintMarginColumn = function() {\n        return this.renderer.getPrintMarginColumn();\n    };\n    this.setReadOnly = function(readOnly) {\n        this.setOption(\"readOnly\", readOnly);\n    };\n    this.getReadOnly = function() {\n        return this.getOption(\"readOnly\");\n    };\n    this.setBehavioursEnabled = function (enabled) {\n        this.setOption(\"behavioursEnabled\", enabled);\n    };\n    this.getBehavioursEnabled = function () {\n        return this.getOption(\"behavioursEnabled\");\n    };\n    this.setWrapBehavioursEnabled = function (enabled) {\n        this.setOption(\"wrapBehavioursEnabled\", enabled);\n    };\n    this.getWrapBehavioursEnabled = function () {\n        return this.getOption(\"wrapBehavioursEnabled\");\n    };\n    this.setShowFoldWidgets = function(show) {\n        this.setOption(\"showFoldWidgets\", show);\n\n    };\n    this.getShowFoldWidgets = function() {\n        return this.getOption(\"showFoldWidgets\");\n    };\n\n    this.setFadeFoldWidgets = function(fade) {\n        this.setOption(\"fadeFoldWidgets\", fade);\n    };\n\n    this.getFadeFoldWidgets = function() {\n        return this.getOption(\"fadeFoldWidgets\");\n    };\n    this.remove = function(dir) {\n        if (this.selection.isEmpty()){\n            if (dir == \"left\")\n                this.selection.selectLeft();\n            else\n                this.selection.selectRight();\n        }\n\n        var range = this.getSelectionRange();\n        if (this.getBehavioursEnabled()) {\n            var session = this.session;\n            var state = session.getState(range.start.row);\n            var new_range = session.getMode().transformAction(state, 'deletion', this, session, range);\n\n            if (range.end.column === 0) {\n                var text = session.getTextRange(range);\n                if (text[text.length - 1] == \"\\n\") {\n                    var line = session.getLine(range.end.row);\n                    if (/^\\s+$/.test(line)) {\n                        range.end.column = line.length;\n                    }\n                }\n            }\n            if (new_range)\n                range = new_range;\n        }\n\n        this.session.remove(range);\n        this.clearSelection();\n    };\n    this.removeWordRight = function() {\n        if (this.selection.isEmpty())\n            this.selection.selectWordRight();\n\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n    };\n    this.removeWordLeft = function() {\n        if (this.selection.isEmpty())\n            this.selection.selectWordLeft();\n\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n    };\n    this.removeToLineStart = function() {\n        if (this.selection.isEmpty())\n            this.selection.selectLineStart();\n        if (this.selection.isEmpty())\n            this.selection.selectLeft();\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n    };\n    this.removeToLineEnd = function() {\n        if (this.selection.isEmpty())\n            this.selection.selectLineEnd();\n\n        var range = this.getSelectionRange();\n        if (range.start.column == range.end.column && range.start.row == range.end.row) {\n            range.end.column = 0;\n            range.end.row++;\n        }\n\n        this.session.remove(range);\n        this.clearSelection();\n    };\n    this.splitLine = function() {\n        if (!this.selection.isEmpty()) {\n            this.session.remove(this.getSelectionRange());\n            this.clearSelection();\n        }\n\n        var cursor = this.getCursorPosition();\n        this.insert(\"\\n\");\n        this.moveCursorToPosition(cursor);\n    };\n    this.transposeLetters = function() {\n        if (!this.selection.isEmpty()) {\n            return;\n        }\n\n        var cursor = this.getCursorPosition();\n        var column = cursor.column;\n        if (column === 0)\n            return;\n\n        var line = this.session.getLine(cursor.row);\n        var swap, range;\n        if (column < line.length) {\n            swap = line.charAt(column) + line.charAt(column-1);\n            range = new Range(cursor.row, column-1, cursor.row, column+1);\n        }\n        else {\n            swap = line.charAt(column-1) + line.charAt(column-2);\n            range = new Range(cursor.row, column-2, cursor.row, column);\n        }\n        this.session.replace(range, swap);\n        this.session.selection.moveToPosition(range.end);\n    };\n    this.toLowerCase = function() {\n        var originalRange = this.getSelectionRange();\n        if (this.selection.isEmpty()) {\n            this.selection.selectWord();\n        }\n\n        var range = this.getSelectionRange();\n        var text = this.session.getTextRange(range);\n        this.session.replace(range, text.toLowerCase());\n        this.selection.setSelectionRange(originalRange);\n    };\n    this.toUpperCase = function() {\n        var originalRange = this.getSelectionRange();\n        if (this.selection.isEmpty()) {\n            this.selection.selectWord();\n        }\n\n        var range = this.getSelectionRange();\n        var text = this.session.getTextRange(range);\n        this.session.replace(range, text.toUpperCase());\n        this.selection.setSelectionRange(originalRange);\n    };\n    this.indent = function() {\n        var session = this.session;\n        var range = this.getSelectionRange();\n\n        if (range.start.row < range.end.row) {\n            var rows = this.$getSelectedRows();\n            session.indentRows(rows.first, rows.last, \"\\t\");\n            return;\n        } else if (range.start.column < range.end.column) {\n            var text = session.getTextRange(range);\n            if (!/^\\s+$/.test(text)) {\n                var rows = this.$getSelectedRows();\n                session.indentRows(rows.first, rows.last, \"\\t\");\n                return;\n            }\n        }\n        \n        var line = session.getLine(range.start.row);\n        var position = range.start;\n        var size = session.getTabSize();\n        var column = session.documentToScreenColumn(position.row, position.column);\n\n        if (this.session.getUseSoftTabs()) {\n            var count = (size - column % size);\n            var indentString = lang.stringRepeat(\" \", count);\n        } else {\n            var count = column % size;\n            while (line[range.start.column - 1] == \" \" && count) {\n                range.start.column--;\n                count--;\n            }\n            this.selection.setSelectionRange(range);\n            indentString = \"\\t\";\n        }\n        return this.insert(indentString);\n    };\n    this.blockIndent = function() {\n        var rows = this.$getSelectedRows();\n        this.session.indentRows(rows.first, rows.last, \"\\t\");\n    };\n    this.blockOutdent = function() {\n        var selection = this.session.getSelection();\n        this.session.outdentRows(selection.getRange());\n    };\n    this.sortLines = function() {\n        var rows = this.$getSelectedRows();\n        var session = this.session;\n\n        var lines = [];\n        for (var i = rows.first; i <= rows.last; i++)\n            lines.push(session.getLine(i));\n\n        lines.sort(function(a, b) {\n            if (a.toLowerCase() < b.toLowerCase()) return -1;\n            if (a.toLowerCase() > b.toLowerCase()) return 1;\n            return 0;\n        });\n\n        var deleteRange = new Range(0, 0, 0, 0);\n        for (var i = rows.first; i <= rows.last; i++) {\n            var line = session.getLine(i);\n            deleteRange.start.row = i;\n            deleteRange.end.row = i;\n            deleteRange.end.column = line.length;\n            session.replace(deleteRange, lines[i-rows.first]);\n        }\n    };\n    this.toggleCommentLines = function() {\n        var state = this.session.getState(this.getCursorPosition().row);\n        var rows = this.$getSelectedRows();\n        this.session.getMode().toggleCommentLines(state, this.session, rows.first, rows.last);\n    };\n\n    this.toggleBlockComment = function() {\n        var cursor = this.getCursorPosition();\n        var state = this.session.getState(cursor.row);\n        var range = this.getSelectionRange();\n        this.session.getMode().toggleBlockComment(state, this.session, range, cursor);\n    };\n    this.getNumberAt = function(row, column) {\n        var _numberRx = /[\\-]?[0-9]+(?:\\.[0-9]+)?/g;\n        _numberRx.lastIndex = 0;\n\n        var s = this.session.getLine(row);\n        while (_numberRx.lastIndex < column) {\n            var m = _numberRx.exec(s);\n            if(m.index <= column && m.index+m[0].length >= column){\n                var number = {\n                    value: m[0],\n                    start: m.index,\n                    end: m.index+m[0].length\n                };\n                return number;\n            }\n        }\n        return null;\n    };\n    this.modifyNumber = function(amount) {\n        var row = this.selection.getCursor().row;\n        var column = this.selection.getCursor().column;\n        var charRange = new Range(row, column-1, row, column);\n\n        var c = this.session.getTextRange(charRange);\n        if (!isNaN(parseFloat(c)) && isFinite(c)) {\n            var nr = this.getNumberAt(row, column);\n            if (nr) {\n                var fp = nr.value.indexOf(\".\") >= 0 ? nr.start + nr.value.indexOf(\".\") + 1 : nr.end;\n                var decimals = nr.start + nr.value.length - fp;\n\n                var t = parseFloat(nr.value);\n                t *= Math.pow(10, decimals);\n\n\n                if(fp !== nr.end && column < fp){\n                    amount *= Math.pow(10, nr.end - column - 1);\n                } else {\n                    amount *= Math.pow(10, nr.end - column);\n                }\n\n                t += amount;\n                t /= Math.pow(10, decimals);\n                var nnr = t.toFixed(decimals);\n                var replaceRange = new Range(row, nr.start, row, nr.end);\n                this.session.replace(replaceRange, nnr);\n                this.moveCursorTo(row, Math.max(nr.start +1, column + nnr.length - nr.value.length));\n\n            }\n        } else {\n            this.toggleWord();\n        }\n    };\n\n    this.$toggleWordPairs = [\n        [\"first\", \"last\"],\n        [\"true\", \"false\"],\n        [\"yes\", \"no\"],\n        [\"width\", \"height\"],\n        [\"top\", \"bottom\"],\n        [\"right\", \"left\"],\n        [\"on\", \"off\"],\n        [\"x\", \"y\"],\n        [\"get\", \"set\"],\n        [\"max\", \"min\"],\n        [\"horizontal\", \"vertical\"],\n        [\"show\", \"hide\"],\n        [\"add\", \"remove\"],\n        [\"up\", \"down\"],\n        [\"before\", \"after\"],\n        [\"even\", \"odd\"],\n        [\"in\", \"out\"],\n        [\"inside\", \"outside\"],\n        [\"next\", \"previous\"],\n        [\"increase\", \"decrease\"],\n        [\"attach\", \"detach\"],\n        [\"&&\", \"||\"],\n        [\"==\", \"!=\"]\n    ];\n\n    this.toggleWord = function () {\n        var row = this.selection.getCursor().row;\n        var column = this.selection.getCursor().column;\n        this.selection.selectWord();\n        var currentState = this.getSelectedText();\n        var currWordStart = this.selection.getWordRange().start.column;\n        var wordParts = currentState.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g, '$1 ').split(/\\s/);\n        var delta = column - currWordStart - 1;\n        if (delta < 0) delta = 0;\n        var curLength = 0, itLength = 0;\n        var that = this;\n        if (currentState.match(/[A-Za-z0-9_]+/)) {\n            wordParts.forEach(function (item, i) {\n                itLength = curLength + item.length;\n                if (delta >= curLength && delta <= itLength) {\n                    currentState = item;\n                    that.selection.clearSelection();\n                    that.moveCursorTo(row, curLength + currWordStart);\n                    that.selection.selectTo(row, itLength + currWordStart);\n                }\n                curLength = itLength;\n            });\n        }\n\n        var wordPairs = this.$toggleWordPairs;\n        var reg;\n        for (var i = 0; i < wordPairs.length; i++) {\n            var item = wordPairs[i];\n            for (var j = 0; j <= 1; j++) {\n                var negate = +!j;\n                var firstCondition = currentState.match(new RegExp('^\\\\s?_?(' + lang.escapeRegExp(item[j]) + ')\\\\s?$', 'i'));\n                if (firstCondition) {\n                    var secondCondition = currentState.match(new RegExp('([_]|^|\\\\s)(' + lang.escapeRegExp(firstCondition[1]) + ')($|\\\\s)', 'g'));\n                    if (secondCondition) {\n                        reg = currentState.replace(new RegExp(lang.escapeRegExp(item[j]), 'i'), function (result) {\n                            var res = item[negate];\n                            if (result.toUpperCase() == result) {\n                                res = res.toUpperCase();\n                            } else if (result.charAt(0).toUpperCase() == result.charAt(0)) {\n                                res = res.substr(0, 0) + item[negate].charAt(0).toUpperCase() + res.substr(1);\n                            }\n                            return res;\n                        });\n                        this.insert(reg);\n                        reg = \"\";\n                    }\n                }\n            }\n        }\n    };\n    this.removeLines = function() {\n        var rows = this.$getSelectedRows();\n        this.session.removeFullLines(rows.first, rows.last);\n        this.clearSelection();\n    };\n\n    this.duplicateSelection = function() {\n        var sel = this.selection;\n        var doc = this.session;\n        var range = sel.getRange();\n        var reverse = sel.isBackwards();\n        if (range.isEmpty()) {\n            var row = range.start.row;\n            doc.duplicateLines(row, row);\n        } else {\n            var point = reverse ? range.start : range.end;\n            var endPoint = doc.insert(point, doc.getTextRange(range), false);\n            range.start = point;\n            range.end = endPoint;\n\n            sel.setSelectionRange(range, reverse);\n        }\n    };\n    this.moveLinesDown = function() {\n        this.$moveLines(1, false);\n    };\n    this.moveLinesUp = function() {\n        this.$moveLines(-1, false);\n    };\n    this.moveText = function(range, toPosition, copy) {\n        return this.session.moveText(range, toPosition, copy);\n    };\n    this.copyLinesUp = function() {\n        this.$moveLines(-1, true);\n    };\n    this.copyLinesDown = function() {\n        this.$moveLines(1, true);\n    };\n    this.$moveLines = function(dir, copy) {\n        var rows, moved;\n        var selection = this.selection;\n        if (!selection.inMultiSelectMode || this.inVirtualSelectionMode) {\n            var range = selection.toOrientedRange();\n            rows = this.$getSelectedRows(range);\n            moved = this.session.$moveLines(rows.first, rows.last, copy ? 0 : dir);\n            if (copy && dir == -1) moved = 0;\n            range.moveBy(moved, 0);\n            selection.fromOrientedRange(range);\n        } else {\n            var ranges = selection.rangeList.ranges;\n            selection.rangeList.detach(this.session);\n            this.inVirtualSelectionMode = true;\n            \n            var diff = 0;\n            var totalDiff = 0;\n            var l = ranges.length;\n            for (var i = 0; i < l; i++) {\n                var rangeIndex = i;\n                ranges[i].moveBy(diff, 0);\n                rows = this.$getSelectedRows(ranges[i]);\n                var first = rows.first;\n                var last = rows.last;\n                while (++i < l) {\n                    if (totalDiff) ranges[i].moveBy(totalDiff, 0);\n                    var subRows = this.$getSelectedRows(ranges[i]);\n                    if (copy && subRows.first != last)\n                        break;\n                    else if (!copy && subRows.first > last + 1)\n                        break;\n                    last = subRows.last;\n                }\n                i--;\n                diff = this.session.$moveLines(first, last, copy ? 0 : dir);\n                if (copy && dir == -1) rangeIndex = i + 1;\n                while (rangeIndex <= i) {\n                    ranges[rangeIndex].moveBy(diff, 0);\n                    rangeIndex++;\n                }\n                if (!copy) diff = 0;\n                totalDiff += diff;\n            }\n            \n            selection.fromOrientedRange(selection.ranges[0]);\n            selection.rangeList.attach(this.session);\n            this.inVirtualSelectionMode = false;\n        }\n    };\n    this.$getSelectedRows = function(range) {\n        range = (range || this.getSelectionRange()).collapseRows();\n\n        return {\n            first: this.session.getRowFoldStart(range.start.row),\n            last: this.session.getRowFoldEnd(range.end.row)\n        };\n    };\n\n    this.onCompositionStart = function(compositionState) {\n        this.renderer.showComposition(compositionState);\n    };\n\n    this.onCompositionUpdate = function(text) {\n        this.renderer.setCompositionText(text);\n    };\n\n    this.onCompositionEnd = function() {\n        this.renderer.hideComposition();\n    };\n    this.getFirstVisibleRow = function() {\n        return this.renderer.getFirstVisibleRow();\n    };\n    this.getLastVisibleRow = function() {\n        return this.renderer.getLastVisibleRow();\n    };\n    this.isRowVisible = function(row) {\n        return (row >= this.getFirstVisibleRow() && row <= this.getLastVisibleRow());\n    };\n    this.isRowFullyVisible = function(row) {\n        return (row >= this.renderer.getFirstFullyVisibleRow() && row <= this.renderer.getLastFullyVisibleRow());\n    };\n    this.$getVisibleRowCount = function() {\n        return this.renderer.getScrollBottomRow() - this.renderer.getScrollTopRow() + 1;\n    };\n\n    this.$moveByPage = function(dir, select) {\n        var renderer = this.renderer;\n        var config = this.renderer.layerConfig;\n        var rows = dir * Math.floor(config.height / config.lineHeight);\n\n        if (select === true) {\n            this.selection.$moveSelection(function(){\n                this.moveCursorBy(rows, 0);\n            });\n        } else if (select === false) {\n            this.selection.moveCursorBy(rows, 0);\n            this.selection.clearSelection();\n        }\n\n        var scrollTop = renderer.scrollTop;\n\n        renderer.scrollBy(0, rows * config.lineHeight);\n        if (select != null)\n            renderer.scrollCursorIntoView(null, 0.5);\n\n        renderer.animateScrolling(scrollTop);\n    };\n    this.selectPageDown = function() {\n        this.$moveByPage(1, true);\n    };\n    this.selectPageUp = function() {\n        this.$moveByPage(-1, true);\n    };\n    this.gotoPageDown = function() {\n       this.$moveByPage(1, false);\n    };\n    this.gotoPageUp = function() {\n        this.$moveByPage(-1, false);\n    };\n    this.scrollPageDown = function() {\n        this.$moveByPage(1);\n    };\n    this.scrollPageUp = function() {\n        this.$moveByPage(-1);\n    };\n    this.scrollToRow = function(row) {\n        this.renderer.scrollToRow(row);\n    };\n    this.scrollToLine = function(line, center, animate, callback) {\n        this.renderer.scrollToLine(line, center, animate, callback);\n    };\n    this.centerSelection = function() {\n        var range = this.getSelectionRange();\n        var pos = {\n            row: Math.floor(range.start.row + (range.end.row - range.start.row) / 2),\n            column: Math.floor(range.start.column + (range.end.column - range.start.column) / 2)\n        };\n        this.renderer.alignCursor(pos, 0.5);\n    };\n    this.getCursorPosition = function() {\n        return this.selection.getCursor();\n    };\n    this.getCursorPositionScreen = function() {\n        return this.session.documentToScreenPosition(this.getCursorPosition());\n    };\n    this.getSelectionRange = function() {\n        return this.selection.getRange();\n    };\n    this.selectAll = function() {\n        this.selection.selectAll();\n    };\n    this.clearSelection = function() {\n        this.selection.clearSelection();\n    };\n    this.moveCursorTo = function(row, column) {\n        this.selection.moveCursorTo(row, column);\n    };\n    this.moveCursorToPosition = function(pos) {\n        this.selection.moveCursorToPosition(pos);\n    };\n    this.jumpToMatching = function(select, expand) {\n        var cursor = this.getCursorPosition();\n        var iterator = new TokenIterator(this.session, cursor.row, cursor.column);\n        var prevToken = iterator.getCurrentToken();\n        var token = prevToken || iterator.stepForward();\n\n        if (!token) return;\n        var matchType;\n        var found = false;\n        var depth = {};\n        var i = cursor.column - token.start;\n        var bracketType;\n        var brackets = {\n            \")\": \"(\",\n            \"(\": \"(\",\n            \"]\": \"[\",\n            \"[\": \"[\",\n            \"{\": \"{\",\n            \"}\": \"{\"\n        };\n        \n        do {\n            if (token.value.match(/[{}()\\[\\]]/g)) {\n                for (; i < token.value.length && !found; i++) {\n                    if (!brackets[token.value[i]]) {\n                        continue;\n                    }\n\n                    bracketType = brackets[token.value[i]] + '.' + token.type.replace(\"rparen\", \"lparen\");\n\n                    if (isNaN(depth[bracketType])) {\n                        depth[bracketType] = 0;\n                    }\n\n                    switch (token.value[i]) {\n                        case '(':\n                        case '[':\n                        case '{':\n                            depth[bracketType]++;\n                            break;\n                        case ')':\n                        case ']':\n                        case '}':\n                            depth[bracketType]--;\n\n                            if (depth[bracketType] === -1) {\n                                matchType = 'bracket';\n                                found = true;\n                            }\n                        break;\n                    }\n                }\n            }\n            else if (token.type.indexOf('tag-name') !== -1) {\n                if (isNaN(depth[token.value])) {\n                    depth[token.value] = 0;\n                }\n                \n                if (prevToken.value === '<') {\n                    depth[token.value]++;\n                }\n                else if (prevToken.value === '</') {\n                    depth[token.value]--;\n                }\n                \n                if (depth[token.value] === -1) {\n                    matchType = 'tag';\n                    found = true;\n                }\n            }\n\n            if (!found) {\n                prevToken = token;\n                token = iterator.stepForward();\n                i = 0;\n            }\n        } while (token && !found);\n        if (!matchType)\n            return;\n\n        var range, pos;\n        if (matchType === 'bracket') {\n            range = this.session.getBracketRange(cursor);\n            if (!range) {\n                range = new Range(\n                    iterator.getCurrentTokenRow(),\n                    iterator.getCurrentTokenColumn() + i - 1,\n                    iterator.getCurrentTokenRow(),\n                    iterator.getCurrentTokenColumn() + i - 1\n                );\n                pos = range.start;\n                if (expand || pos.row === cursor.row && Math.abs(pos.column - cursor.column) < 2)\n                    range = this.session.getBracketRange(pos);\n            }\n        }\n        else if (matchType === 'tag') {\n            if (token && token.type.indexOf('tag-name') !== -1) \n                var tag = token.value;\n            else\n                return;\n\n            range = new Range(\n                iterator.getCurrentTokenRow(),\n                iterator.getCurrentTokenColumn() - 2,\n                iterator.getCurrentTokenRow(),\n                iterator.getCurrentTokenColumn() - 2\n            );\n            if (range.compare(cursor.row, cursor.column) === 0) {\n                found = false;\n                do {\n                    token = prevToken;\n                    prevToken = iterator.stepBackward();\n                    \n                    if (prevToken) {\n                        if (prevToken.type.indexOf('tag-close') !== -1) {\n                            range.setEnd(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 1);\n                        }\n\n                        if (token.value === tag && token.type.indexOf('tag-name') !== -1) {\n                            if (prevToken.value === '<') {\n                                depth[tag]++;\n                            }\n                            else if (prevToken.value === '</') {\n                                depth[tag]--;\n                            }\n                            \n                            if (depth[tag] === 0)\n                                found = true;\n                        }\n                    }\n                } while (prevToken && !found);\n            }\n            if (token && token.type.indexOf('tag-name')) {\n                pos = range.start;\n                if (pos.row == cursor.row && Math.abs(pos.column - cursor.column) < 2)\n                    pos = range.end;\n            }\n        }\n\n        pos = range && range.cursor || pos;\n        if (pos) {\n            if (select) {\n                if (range && expand) {\n                    this.selection.setRange(range);\n                } else if (range && range.isEqual(this.getSelectionRange())) {\n                    this.clearSelection();\n                } else {\n                    this.selection.selectTo(pos.row, pos.column);\n                }\n            } else {\n                this.selection.moveTo(pos.row, pos.column);\n            }\n        }\n    };\n    this.gotoLine = function(lineNumber, column, animate) {\n        this.selection.clearSelection();\n        this.session.unfold({row: lineNumber - 1, column: column || 0});\n        this.exitMultiSelectMode && this.exitMultiSelectMode();\n        this.moveCursorTo(lineNumber - 1, column || 0);\n\n        if (!this.isRowFullyVisible(lineNumber - 1))\n            this.scrollToLine(lineNumber - 1, true, animate);\n    };\n    this.navigateTo = function(row, column) {\n        this.selection.moveTo(row, column);\n    };\n    this.navigateUp = function(times) {\n        if (this.selection.isMultiLine() && !this.selection.isBackwards()) {\n            var selectionStart = this.selection.anchor.getPosition();\n            return this.moveCursorToPosition(selectionStart);\n        }\n        this.selection.clearSelection();\n        this.selection.moveCursorBy(-times || -1, 0);\n    };\n    this.navigateDown = function(times) {\n        if (this.selection.isMultiLine() && this.selection.isBackwards()) {\n            var selectionEnd = this.selection.anchor.getPosition();\n            return this.moveCursorToPosition(selectionEnd);\n        }\n        this.selection.clearSelection();\n        this.selection.moveCursorBy(times || 1, 0);\n    };\n    this.navigateLeft = function(times) {\n        if (!this.selection.isEmpty()) {\n            var selectionStart = this.getSelectionRange().start;\n            this.moveCursorToPosition(selectionStart);\n        }\n        else {\n            times = times || 1;\n            while (times--) {\n                this.selection.moveCursorLeft();\n            }\n        }\n        this.clearSelection();\n    };\n    this.navigateRight = function(times) {\n        if (!this.selection.isEmpty()) {\n            var selectionEnd = this.getSelectionRange().end;\n            this.moveCursorToPosition(selectionEnd);\n        }\n        else {\n            times = times || 1;\n            while (times--) {\n                this.selection.moveCursorRight();\n            }\n        }\n        this.clearSelection();\n    };\n    this.navigateLineStart = function() {\n        this.selection.moveCursorLineStart();\n        this.clearSelection();\n    };\n    this.navigateLineEnd = function() {\n        this.selection.moveCursorLineEnd();\n        this.clearSelection();\n    };\n    this.navigateFileEnd = function() {\n        this.selection.moveCursorFileEnd();\n        this.clearSelection();\n    };\n    this.navigateFileStart = function() {\n        this.selection.moveCursorFileStart();\n        this.clearSelection();\n    };\n    this.navigateWordRight = function() {\n        this.selection.moveCursorWordRight();\n        this.clearSelection();\n    };\n    this.navigateWordLeft = function() {\n        this.selection.moveCursorWordLeft();\n        this.clearSelection();\n    };\n    this.replace = function(replacement, options) {\n        if (options)\n            this.$search.set(options);\n\n        var range = this.$search.find(this.session);\n        var replaced = 0;\n        if (!range)\n            return replaced;\n\n        if (this.$tryReplace(range, replacement)) {\n            replaced = 1;\n        }\n\n        this.selection.setSelectionRange(range);\n        this.renderer.scrollSelectionIntoView(range.start, range.end);\n\n        return replaced;\n    };\n    this.replaceAll = function(replacement, options) {\n        if (options) {\n            this.$search.set(options);\n        }\n\n        var ranges = this.$search.findAll(this.session);\n        var replaced = 0;\n        if (!ranges.length)\n            return replaced;\n\n        var selection = this.getSelectionRange();\n        this.selection.moveTo(0, 0);\n\n        for (var i = ranges.length - 1; i >= 0; --i) {\n            if(this.$tryReplace(ranges[i], replacement)) {\n                replaced++;\n            }\n        }\n\n        this.selection.setSelectionRange(selection);\n\n        return replaced;\n    };\n\n    this.$tryReplace = function(range, replacement) {\n        var input = this.session.getTextRange(range);\n        replacement = this.$search.replace(input, replacement);\n        if (replacement !== null) {\n            range.end = this.session.replace(range, replacement);\n            return range;\n        } else {\n            return null;\n        }\n    };\n    this.getLastSearchOptions = function() {\n        return this.$search.getOptions();\n    };\n    this.find = function(needle, options, animate) {\n        if (!options)\n            options = {};\n\n        if (typeof needle == \"string\" || needle instanceof RegExp)\n            options.needle = needle;\n        else if (typeof needle == \"object\")\n            oop.mixin(options, needle);\n\n        var range = this.selection.getRange();\n        if (options.needle == null) {\n            needle = this.session.getTextRange(range)\n                || this.$search.$options.needle;\n            if (!needle) {\n                range = this.session.getWordRange(range.start.row, range.start.column);\n                needle = this.session.getTextRange(range);\n            }\n            this.$search.set({needle: needle});\n        }\n\n        this.$search.set(options);\n        if (!options.start)\n            this.$search.set({start: range});\n\n        var newRange = this.$search.find(this.session);\n        if (options.preventScroll)\n            return newRange;\n        if (newRange) {\n            this.revealRange(newRange, animate);\n            return newRange;\n        }\n        if (options.backwards)\n            range.start = range.end;\n        else\n            range.end = range.start;\n        this.selection.setRange(range);\n    };\n    this.findNext = function(options, animate) {\n        this.find({skipCurrent: true, backwards: false}, options, animate);\n    };\n    this.findPrevious = function(options, animate) {\n        this.find(options, {skipCurrent: true, backwards: true}, animate);\n    };\n\n    this.revealRange = function(range, animate) {\n        this.session.unfold(range);\n        this.selection.setSelectionRange(range);\n\n        var scrollTop = this.renderer.scrollTop;\n        this.renderer.scrollSelectionIntoView(range.start, range.end, 0.5);\n        if (animate !== false)\n            this.renderer.animateScrolling(scrollTop);\n    };\n    this.undo = function() {\n        this.session.getUndoManager().undo(this.session);\n        this.renderer.scrollCursorIntoView(null, 0.5);\n    };\n    this.redo = function() {\n        this.session.getUndoManager().redo(this.session);\n        this.renderer.scrollCursorIntoView(null, 0.5);\n    };\n    this.destroy = function() {\n        if (this.$toDestroy) {\n            this.$toDestroy.forEach(function(el) {\n                el.destroy();\n            });\n            this.$toDestroy = null;\n        }\n        if (this.$mouseHandler)\n            this.$mouseHandler.destroy();\n        this.renderer.destroy();\n        this._signal(\"destroy\", this);\n        if (this.session)\n            this.session.destroy();\n        if (this._$emitInputEvent)\n            this._$emitInputEvent.cancel();\n        this.removeAllListeners();\n    };\n    this.setAutoScrollEditorIntoView = function(enable) {\n        if (!enable)\n            return;\n        var rect;\n        var self = this;\n        var shouldScroll = false;\n        if (!this.$scrollAnchor)\n            this.$scrollAnchor = document.createElement(\"div\");\n        var scrollAnchor = this.$scrollAnchor;\n        scrollAnchor.style.cssText = \"position:absolute\";\n        this.container.insertBefore(scrollAnchor, this.container.firstChild);\n        var onChangeSelection = this.on(\"changeSelection\", function() {\n            shouldScroll = true;\n        });\n        var onBeforeRender = this.renderer.on(\"beforeRender\", function() {\n            if (shouldScroll)\n                rect = self.renderer.container.getBoundingClientRect();\n        });\n        var onAfterRender = this.renderer.on(\"afterRender\", function() {\n            if (shouldScroll && rect && (self.isFocused()\n                || self.searchBox && self.searchBox.isFocused())\n            ) {\n                var renderer = self.renderer;\n                var pos = renderer.$cursorLayer.$pixelPos;\n                var config = renderer.layerConfig;\n                var top = pos.top - config.offset;\n                if (pos.top >= 0 && top + rect.top < 0) {\n                    shouldScroll = true;\n                } else if (pos.top < config.height &&\n                    pos.top + rect.top + config.lineHeight > window.innerHeight) {\n                    shouldScroll = false;\n                } else {\n                    shouldScroll = null;\n                }\n                if (shouldScroll != null) {\n                    scrollAnchor.style.top = top + \"px\";\n                    scrollAnchor.style.left = pos.left + \"px\";\n                    scrollAnchor.style.height = config.lineHeight + \"px\";\n                    scrollAnchor.scrollIntoView(shouldScroll);\n                }\n                shouldScroll = rect = null;\n            }\n        });\n        this.setAutoScrollEditorIntoView = function(enable) {\n            if (enable)\n                return;\n            delete this.setAutoScrollEditorIntoView;\n            this.off(\"changeSelection\", onChangeSelection);\n            this.renderer.off(\"afterRender\", onAfterRender);\n            this.renderer.off(\"beforeRender\", onBeforeRender);\n        };\n    };\n\n\n    this.$resetCursorStyle = function() {\n        var style = this.$cursorStyle || \"ace\";\n        var cursorLayer = this.renderer.$cursorLayer;\n        if (!cursorLayer)\n            return;\n        cursorLayer.setSmoothBlinking(/smooth/.test(style));\n        cursorLayer.isBlinking = !this.$readOnly && style != \"wide\";\n        dom.setCssClass(cursorLayer.element, \"ace_slim-cursors\", /slim/.test(style));\n    };\n    this.prompt = function(message, options, callback) {\n        var editor = this;\n        config.loadModule(\"./ext/prompt\", function (module) {\n            module.prompt(editor, message, options, callback);\n        });\n    };\n\n}).call(Editor.prototype);\n\n\n\nconfig.defineOptions(Editor.prototype, \"editor\", {\n    selectionStyle: {\n        set: function(style) {\n            this.onSelectionChange();\n            this._signal(\"changeSelectionStyle\", {data: style});\n        },\n        initialValue: \"line\"\n    },\n    highlightActiveLine: {\n        set: function() {this.$updateHighlightActiveLine();},\n        initialValue: true\n    },\n    highlightSelectedWord: {\n        set: function(shouldHighlight) {this.$onSelectionChange();},\n        initialValue: true\n    },\n    readOnly: {\n        set: function(readOnly) {\n            this.textInput.setReadOnly(readOnly);\n            this.$resetCursorStyle(); \n        },\n        initialValue: false\n    },\n    copyWithEmptySelection: {\n        set: function(value) {\n            this.textInput.setCopyWithEmptySelection(value);\n        },\n        initialValue: false\n    },\n    cursorStyle: {\n        set: function(val) { this.$resetCursorStyle(); },\n        values: [\"ace\", \"slim\", \"smooth\", \"wide\"],\n        initialValue: \"ace\"\n    },\n    mergeUndoDeltas: {\n        values: [false, true, \"always\"],\n        initialValue: true\n    },\n    behavioursEnabled: {initialValue: true},\n    wrapBehavioursEnabled: {initialValue: true},\n    enableAutoIndent: {initialValue: true},\n    autoScrollEditorIntoView: {\n        set: function(val) {this.setAutoScrollEditorIntoView(val);}\n    },\n    keyboardHandler: {\n        set: function(val) { this.setKeyboardHandler(val); },\n        get: function() { return this.$keybindingId; },\n        handlesSet: true\n    },\n    value: {\n        set: function(val) { this.session.setValue(val); },\n        get: function() { return this.getValue(); },\n        handlesSet: true,\n        hidden: true\n    },\n    session: {\n        set: function(val) { this.setSession(val); },\n        get: function() { return this.session; },\n        handlesSet: true,\n        hidden: true\n    },\n    \n    showLineNumbers: {\n        set: function(show) {\n            this.renderer.$gutterLayer.setShowLineNumbers(show);\n            this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER);\n            if (show && this.$relativeLineNumbers)\n                relativeNumberRenderer.attach(this);\n            else\n                relativeNumberRenderer.detach(this);\n        },\n        initialValue: true\n    },\n    relativeLineNumbers: {\n        set: function(value) {\n            if (this.$showLineNumbers && value)\n                relativeNumberRenderer.attach(this);\n            else\n                relativeNumberRenderer.detach(this);\n        }\n    },\n    placeholder: {\n        set: function(message) {\n            if (!this.$updatePlaceholder) {\n                this.$updatePlaceholder = function() {\n                    var value = this.session && (this.renderer.$composition || this.getValue());\n                    if (value && this.renderer.placeholderNode) {\n                        this.renderer.off(\"afterRender\", this.$updatePlaceholder);\n                        dom.removeCssClass(this.container, \"ace_hasPlaceholder\");\n                        this.renderer.placeholderNode.remove();\n                        this.renderer.placeholderNode = null;\n                    } else if (!value && !this.renderer.placeholderNode) {\n                        this.renderer.on(\"afterRender\", this.$updatePlaceholder);\n                        dom.addCssClass(this.container, \"ace_hasPlaceholder\");\n                        var el = dom.createElement(\"div\");\n                        el.className = \"ace_placeholder\";\n                        el.textContent = this.$placeholder || \"\";\n                        this.renderer.placeholderNode = el;\n                        this.renderer.content.appendChild(this.renderer.placeholderNode);\n                    } else if (!value && this.renderer.placeholderNode) {\n                        this.renderer.placeholderNode.textContent = this.$placeholder || \"\";\n                    }\n                }.bind(this);\n                this.on(\"input\", this.$updatePlaceholder);\n            }\n            this.$updatePlaceholder();\n        }\n    },\n\n    hScrollBarAlwaysVisible: \"renderer\",\n    vScrollBarAlwaysVisible: \"renderer\",\n    highlightGutterLine: \"renderer\",\n    animatedScroll: \"renderer\",\n    showInvisibles: \"renderer\",\n    showPrintMargin: \"renderer\",\n    printMarginColumn: \"renderer\",\n    printMargin: \"renderer\",\n    fadeFoldWidgets: \"renderer\",\n    showFoldWidgets: \"renderer\",\n    displayIndentGuides: \"renderer\",\n    showGutter: \"renderer\",\n    fontSize: \"renderer\",\n    fontFamily: \"renderer\",\n    maxLines: \"renderer\",\n    minLines: \"renderer\",\n    scrollPastEnd: \"renderer\",\n    fixedWidthGutter: \"renderer\",\n    theme: \"renderer\",\n    hasCssTransforms: \"renderer\",\n    maxPixelHeight: \"renderer\",\n    useTextareaForIME: \"renderer\",\n\n    scrollSpeed: \"$mouseHandler\",\n    dragDelay: \"$mouseHandler\",\n    dragEnabled: \"$mouseHandler\",\n    focusTimeout: \"$mouseHandler\",\n    tooltipFollowsMouse: \"$mouseHandler\",\n\n    firstLineNumber: \"session\",\n    overwrite: \"session\",\n    newLineMode: \"session\",\n    useWorker: \"session\",\n    useSoftTabs: \"session\",\n    navigateWithinSoftTabs: \"session\",\n    tabSize: \"session\",\n    wrap: \"session\",\n    indentedSoftWrap: \"session\",\n    foldStyle: \"session\",\n    mode: \"session\"\n});\n\n\nvar relativeNumberRenderer = {\n    getText: function(session, row) {\n        return (Math.abs(session.selection.lead.row - row) || (row + 1 + (row < 9 ? \"\\xb7\" : \"\"))) + \"\";\n    },\n    getWidth: function(session, lastLineNumber, config) {\n        return Math.max(\n            lastLineNumber.toString().length,\n            (config.lastRow + 1).toString().length,\n            2\n        ) * config.characterWidth;\n    },\n    update: function(e, editor) {\n        editor.renderer.$loop.schedule(editor.renderer.CHANGE_GUTTER);\n    },\n    attach: function(editor) {\n        editor.renderer.$gutterLayer.$renderer = this;\n        editor.on(\"changeSelection\", this.update);\n        this.update(null, editor);\n    },\n    detach: function(editor) {\n        if (editor.renderer.$gutterLayer.$renderer == this)\n            editor.renderer.$gutterLayer.$renderer = null;\n        editor.off(\"changeSelection\", this.update);\n        this.update(null, editor);\n    }\n};\n\nexports.Editor = Editor;\n});\n\nace.define(\"ace/undomanager\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\nvar UndoManager = function() {\n    this.$maxRev = 0;\n    this.$fromUndo = false;\n    this.reset();\n};\n\n(function() {\n    \n    this.addSession = function(session) {\n        this.$session = session;\n    };\n    this.add = function(delta, allowMerge, session) {\n        if (this.$fromUndo) return;\n        if (delta == this.$lastDelta) return;\n        if (!this.$keepRedoStack) this.$redoStack.length = 0;\n        if (allowMerge === false || !this.lastDeltas) {\n            this.lastDeltas = [];\n            this.$undoStack.push(this.lastDeltas);\n            delta.id = this.$rev = ++this.$maxRev;\n        }\n        if (delta.action == \"remove\" || delta.action == \"insert\")\n            this.$lastDelta = delta;\n        this.lastDeltas.push(delta);\n    };\n    \n    this.addSelection = function(selection, rev) {\n        this.selections.push({\n            value: selection,\n            rev: rev || this.$rev\n        });\n    };\n    \n    this.startNewGroup = function() {\n        this.lastDeltas = null;\n        return this.$rev;\n    };\n    \n    this.markIgnored = function(from, to) {\n        if (to == null) to = this.$rev + 1;\n        var stack = this.$undoStack;\n        for (var i = stack.length; i--;) {\n            var delta = stack[i][0];\n            if (delta.id <= from)\n                break;\n            if (delta.id < to)\n                delta.ignore = true;\n        }\n        this.lastDeltas = null;\n    };\n    \n    this.getSelection = function(rev, after) {\n        var stack = this.selections;\n        for (var i = stack.length; i--;) {\n            var selection = stack[i];\n            if (selection.rev < rev) {\n                if (after)\n                    selection = stack[i + 1];\n                return selection;\n            }\n        }\n    };\n    \n    this.getRevision = function() {\n        return this.$rev;\n    };\n    \n    this.getDeltas = function(from, to) {\n        if (to == null) to = this.$rev + 1;\n        var stack = this.$undoStack;\n        var end = null, start = 0;\n        for (var i = stack.length; i--;) {\n            var delta = stack[i][0];\n            if (delta.id < to && !end)\n                end = i+1;\n            if (delta.id <= from) {\n                start = i + 1;\n                break;\n            }\n        }\n        return stack.slice(start, end);\n    };\n    \n    this.getChangedRanges = function(from, to) {\n        if (to == null) to = this.$rev + 1;\n        \n    };\n    \n    this.getChangedLines = function(from, to) {\n        if (to == null) to = this.$rev + 1;\n        \n    };\n    this.undo = function(session, dontSelect) {\n        this.lastDeltas = null;\n        var stack = this.$undoStack;\n        \n        if (!rearrangeUndoStack(stack, stack.length))\n            return;\n        \n        if (!session)\n            session = this.$session;\n        \n        if (this.$redoStackBaseRev !== this.$rev && this.$redoStack.length)\n            this.$redoStack = [];\n        \n        this.$fromUndo = true;\n        \n        var deltaSet = stack.pop();\n        var undoSelectionRange = null;\n        if (deltaSet) {\n            undoSelectionRange = session.undoChanges(deltaSet, dontSelect);\n            this.$redoStack.push(deltaSet);\n            this.$syncRev();\n        }\n        \n        this.$fromUndo = false;\n\n        return undoSelectionRange;\n    };\n    this.redo = function(session, dontSelect) {\n        this.lastDeltas = null;\n        \n        if (!session)\n            session = this.$session;\n        \n        this.$fromUndo = true;\n        if (this.$redoStackBaseRev != this.$rev) {\n            var diff = this.getDeltas(this.$redoStackBaseRev, this.$rev + 1);\n            rebaseRedoStack(this.$redoStack, diff);\n            this.$redoStackBaseRev = this.$rev;\n            this.$redoStack.forEach(function(x) {\n                x[0].id = ++this.$maxRev;\n            }, this);\n        }\n        var deltaSet = this.$redoStack.pop();\n        var redoSelectionRange = null;\n        \n        if (deltaSet) {\n            redoSelectionRange = session.redoChanges(deltaSet, dontSelect);\n            this.$undoStack.push(deltaSet);\n            this.$syncRev();\n        }\n        this.$fromUndo = false;\n        \n        return redoSelectionRange;\n    };\n    \n    this.$syncRev = function() {\n        var stack = this.$undoStack;\n        var nextDelta = stack[stack.length - 1];\n        var id = nextDelta && nextDelta[0].id || 0;\n        this.$redoStackBaseRev = id;\n        this.$rev = id;\n    };\n    this.reset = function() {\n        this.lastDeltas = null;\n        this.$lastDelta = null;\n        this.$undoStack = [];\n        this.$redoStack = [];\n        this.$rev = 0;\n        this.mark = 0;\n        this.$redoStackBaseRev = this.$rev;\n        this.selections = [];\n    };\n    this.canUndo = function() {\n        return this.$undoStack.length > 0;\n    };\n    this.canRedo = function() {\n        return this.$redoStack.length > 0;\n    };\n    this.bookmark = function(rev) {\n        if (rev == undefined)\n            rev = this.$rev;\n        this.mark = rev;\n    };\n    this.isAtBookmark = function() {\n        return this.$rev === this.mark;\n    };\n    \n    this.toJSON = function() {\n        \n    };\n    \n    this.fromJSON = function() {\n        \n    };\n    \n    this.hasUndo = this.canUndo;\n    this.hasRedo = this.canRedo;\n    this.isClean = this.isAtBookmark;\n    this.markClean = this.bookmark;\n    \n    this.$prettyPrint = function(delta) {\n        if (delta) return stringifyDelta(delta);\n        return stringifyDelta(this.$undoStack) + \"\\n---\\n\" + stringifyDelta(this.$redoStack);\n    };\n}).call(UndoManager.prototype);\n\nfunction rearrangeUndoStack(stack, pos) {\n    for (var i = pos; i--; ) {\n        var deltaSet = stack[i];\n        if (deltaSet && !deltaSet[0].ignore) {\n            while(i < pos - 1) {\n                var swapped = swapGroups(stack[i], stack[i + 1]);\n                stack[i] = swapped[0];\n                stack[i + 1] = swapped[1];\n                i++;\n            }\n            return true;\n        }\n    }\n}\n\nvar Range = require(\"./range\").Range;\nvar cmp = Range.comparePoints;\nvar comparePoints = Range.comparePoints;\n\nfunction $updateMarkers(delta) {\n    var isInsert = delta.action == \"insert\";\n    var start = delta.start;\n    var end = delta.end;\n    var rowShift = (end.row - start.row) * (isInsert ? 1 : -1);\n    var colShift = (end.column - start.column) * (isInsert ? 1 : -1);\n    if (isInsert) end = start;\n\n    for (var i in this.marks) {\n        var point = this.marks[i];\n        var cmp = comparePoints(point, start);\n        if (cmp < 0) {\n            continue; // delta starts after the range\n        }\n        if (cmp === 0) {\n            if (isInsert) {\n                if (point.bias == 1) {\n                    cmp = 1;\n                }\n                else {\n                    point.bias == -1;\n                    continue;\n                }\n            }\n        }\n        var cmp2 = isInsert ? cmp : comparePoints(point, end);\n        if (cmp2 > 0) {\n            point.row += rowShift;\n            point.column += point.row == end.row ? colShift : 0;\n            continue;\n        }\n        if (!isInsert && cmp2 <= 0) {\n            point.row = start.row;\n            point.column = start.column;\n            if (cmp2 === 0)\n                point.bias = 1;\n        }\n    }\n}\n\n\n\nfunction clonePos(pos) {\n    return {row: pos.row,column: pos.column};\n}\nfunction cloneDelta(d) {\n    return {\n        start: clonePos(d.start),\n        end: clonePos(d.end),\n        action: d.action,\n        lines: d.lines.slice()\n    };\n}\nfunction stringifyDelta(d) {\n    d = d || this;\n    if (Array.isArray(d)) {\n        return d.map(stringifyDelta).join(\"\\n\");\n    }\n    var type = \"\";\n    if (d.action) {\n        type = d.action == \"insert\" ? \"+\" : \"-\";\n        type += \"[\" + d.lines + \"]\";\n    } else if (d.value) {\n        if (Array.isArray(d.value)) {\n            type = d.value.map(stringifyRange).join(\"\\n\");\n        } else {\n            type = stringifyRange(d.value);\n        }\n    }\n    if (d.start) {\n        type += stringifyRange(d);\n    }\n    if (d.id || d.rev) {\n        type += \"\\t(\" + (d.id || d.rev) + \")\";\n    }\n    return type;\n}\nfunction stringifyRange(r) {\n    return r.start.row + \":\" + r.start.column \n        + \"=>\" + r.end.row + \":\" + r.end.column;\n}\n\nfunction swap(d1, d2) {\n    var i1 = d1.action == \"insert\";\n    var i2 = d2.action == \"insert\";\n    \n    if (i1 && i2) {\n        if (cmp(d2.start, d1.end) >= 0) {\n            shift(d2, d1, -1);\n        } else if (cmp(d2.start, d1.start) <= 0) {\n            shift(d1, d2, +1);\n        } else {\n            return null;\n        }\n    } else if (i1 && !i2) {\n        if (cmp(d2.start, d1.end) >= 0) {\n            shift(d2, d1, -1);\n        } else if (cmp(d2.end, d1.start) <= 0) {\n            shift(d1, d2, -1);\n        } else {\n            return null;\n        }\n    } else if (!i1 && i2) {\n        if (cmp(d2.start, d1.start) >= 0) {\n            shift(d2, d1, +1);\n        } else if (cmp(d2.start, d1.start) <= 0) {\n            shift(d1, d2, +1);\n        } else {\n            return null;\n        }\n    } else if (!i1 && !i2) {\n        if (cmp(d2.start, d1.start) >= 0) {\n            shift(d2, d1, +1);\n        } else if (cmp(d2.end, d1.start) <= 0) {\n            shift(d1, d2, -1);\n        } else {\n            return null;\n        }\n    }\n    return [d2, d1];\n}\nfunction swapGroups(ds1, ds2) {\n    for (var i = ds1.length; i--; ) {\n        for (var j = 0; j < ds2.length; j++) {\n            if (!swap(ds1[i], ds2[j])) {\n                while (i < ds1.length) {\n                    while (j--) {\n                        swap(ds2[j], ds1[i]);\n                    }\n                    j = ds2.length;\n                    i++;\n                }                \n                return [ds1, ds2];\n            }\n        }\n    }\n    ds1.selectionBefore = ds2.selectionBefore = \n    ds1.selectionAfter = ds2.selectionAfter = null;\n    return [ds2, ds1];\n}\nfunction xform(d1, c1) {\n    var i1 = d1.action == \"insert\";\n    var i2 = c1.action == \"insert\";\n    \n    if (i1 && i2) {\n        if (cmp(d1.start, c1.start) < 0) {\n            shift(c1, d1, 1);\n        } else {\n            shift(d1, c1, 1);\n        }\n    } else if (i1 && !i2) {\n        if (cmp(d1.start, c1.end) >= 0) {\n            shift(d1, c1, -1);\n        } else if (cmp(d1.start, c1.start) <= 0) {\n            shift(c1, d1, +1);\n        } else {\n            shift(d1, Range.fromPoints(c1.start, d1.start), -1);\n            shift(c1, d1, +1);\n        }\n    } else if (!i1 && i2) {\n        if (cmp(c1.start, d1.end) >= 0) {\n            shift(c1, d1, -1);\n        } else if (cmp(c1.start, d1.start) <= 0) {\n            shift(d1, c1, +1);\n        } else {\n            shift(c1, Range.fromPoints(d1.start, c1.start), -1);\n            shift(d1, c1, +1);\n        }\n    } else if (!i1 && !i2) {\n        if (cmp(c1.start, d1.end) >= 0) {\n            shift(c1, d1, -1);\n        } else if (cmp(c1.end, d1.start) <= 0) {\n            shift(d1, c1, -1);\n        } else {\n            var before, after;\n            if (cmp(d1.start, c1.start) < 0) {\n                before = d1;\n                d1 = splitDelta(d1, c1.start);\n            }\n            if (cmp(d1.end, c1.end) > 0) {\n                after = splitDelta(d1, c1.end);\n            }\n\n            shiftPos(c1.end, d1.start, d1.end, -1);\n            if (after && !before) {\n                d1.lines = after.lines;\n                d1.start = after.start;\n                d1.end = after.end;\n                after = d1;\n            }\n\n            return [c1, before, after].filter(Boolean);\n        }\n    }\n    return [c1, d1];\n}\n    \nfunction shift(d1, d2, dir) {\n    shiftPos(d1.start, d2.start, d2.end, dir);\n    shiftPos(d1.end, d2.start, d2.end, dir);\n}\nfunction shiftPos(pos, start, end, dir) {\n    if (pos.row == (dir == 1 ? start : end).row) {\n        pos.column += dir * (end.column - start.column);\n    }\n    pos.row += dir * (end.row - start.row);\n}\nfunction splitDelta(c, pos) {\n    var lines = c.lines;\n    var end = c.end;\n    c.end = clonePos(pos);    \n    var rowsBefore = c.end.row - c.start.row;\n    var otherLines = lines.splice(rowsBefore, lines.length);\n    \n    var col = rowsBefore ? pos.column : pos.column - c.start.column;\n    lines.push(otherLines[0].substring(0, col));\n    otherLines[0] = otherLines[0].substr(col)   ; \n    var rest = {\n        start: clonePos(pos),\n        end: end,\n        lines: otherLines,\n        action: c.action\n    };\n    return rest;\n}\n\nfunction moveDeltasByOne(redoStack, d) {\n    d = cloneDelta(d);\n    for (var j = redoStack.length; j--;) {\n        var deltaSet = redoStack[j];\n        for (var i = 0; i < deltaSet.length; i++) {\n            var x = deltaSet[i];\n            var xformed = xform(x, d);\n            d = xformed[0];\n            if (xformed.length != 2) {\n                if (xformed[2]) {\n                    deltaSet.splice(i + 1, 1, xformed[1], xformed[2]);\n                    i++;\n                } else if (!xformed[1]) {\n                    deltaSet.splice(i, 1);\n                    i--;\n                }\n            }\n        }\n        if (!deltaSet.length) {\n            redoStack.splice(j, 1); \n        }\n    }\n    return redoStack;\n}\nfunction rebaseRedoStack(redoStack, deltaSets) {\n    for (var i = 0; i < deltaSets.length; i++) {\n        var deltas = deltaSets[i];\n        for (var j = 0; j < deltas.length; j++) {\n            moveDeltasByOne(redoStack, deltas[j]);\n        }\n    }\n}\n\nexports.UndoManager = UndoManager;\n\n});\n\nace.define(\"ace/layer/lines\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\n\nvar dom = require(\"../lib/dom\");\n\nvar Lines = function(element, canvasHeight) {\n    this.element = element;\n    this.canvasHeight = canvasHeight || 500000;\n    this.element.style.height = (this.canvasHeight * 2) + \"px\";\n    \n    this.cells = [];\n    this.cellCache = [];\n    this.$offsetCoefficient = 0;\n};\n\n(function() {\n    \n    this.moveContainer = function(config) {\n        dom.translate(this.element, 0, -((config.firstRowScreen * config.lineHeight) % this.canvasHeight) - config.offset * this.$offsetCoefficient);\n    };    \n    \n    this.pageChanged = function(oldConfig, newConfig) {\n        return (\n            Math.floor((oldConfig.firstRowScreen * oldConfig.lineHeight) / this.canvasHeight) !==\n            Math.floor((newConfig.firstRowScreen * newConfig.lineHeight) / this.canvasHeight)\n        );\n    };\n    \n    this.computeLineTop = function(row, config, session) {\n        var screenTop = config.firstRowScreen * config.lineHeight;\n        var screenPage = Math.floor(screenTop / this.canvasHeight);\n        var lineTop = session.documentToScreenRow(row, 0) * config.lineHeight;\n        return lineTop - (screenPage * this.canvasHeight);\n    };\n    \n    this.computeLineHeight = function(row, config, session) {\n        return config.lineHeight * session.getRowLineCount(row);\n    };\n    \n    this.getLength = function() {\n        return this.cells.length;\n    };\n    \n    this.get = function(index) {\n        return this.cells[index];\n    };\n    \n    this.shift = function() {\n        this.$cacheCell(this.cells.shift());\n    };\n    \n    this.pop = function() {\n        this.$cacheCell(this.cells.pop());\n    };\n    \n    this.push = function(cell) {\n        if (Array.isArray(cell)) {\n            this.cells.push.apply(this.cells, cell);\n            var fragment = dom.createFragment(this.element);\n            for (var i=0; i<cell.length; i++) {\n                fragment.appendChild(cell[i].element);\n            }\n            this.element.appendChild(fragment);\n        } else {\n            this.cells.push(cell);\n            this.element.appendChild(cell.element);\n        }\n    };\n    \n    this.unshift = function(cell) {\n        if (Array.isArray(cell)) {\n            this.cells.unshift.apply(this.cells, cell);\n            var fragment = dom.createFragment(this.element);\n            for (var i=0; i<cell.length; i++) {\n                fragment.appendChild(cell[i].element);\n            }\n            if (this.element.firstChild)\n                this.element.insertBefore(fragment, this.element.firstChild);\n            else\n                this.element.appendChild(fragment);\n        } else {\n            this.cells.unshift(cell);\n            this.element.insertAdjacentElement(\"afterbegin\", cell.element);\n        }\n    };\n    \n    this.last = function() {\n        if (this.cells.length)\n            return this.cells[this.cells.length-1];\n        else\n            return null;\n    };\n    \n    this.$cacheCell = function(cell) {\n        if (!cell)\n            return;\n            \n        cell.element.remove();\n        this.cellCache.push(cell);\n    };\n    \n    this.createCell = function(row, config, session, initElement) {\n        var cell = this.cellCache.pop();\n        if (!cell) {\n            var element = dom.createElement(\"div\");\n            if (initElement)\n                initElement(element);\n            \n            this.element.appendChild(element);\n            \n            cell = {\n                element: element,\n                text: \"\",\n                row: row\n            };\n        }\n        cell.row = row;\n        \n        return cell;\n    };\n    \n}).call(Lines.prototype);\n\nexports.Lines = Lines;\n\n});\n\nace.define(\"ace/layer/gutter\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/lib/event_emitter\",\"ace/layer/lines\"], function(require, exports, module) {\n\"use strict\";\n\nvar dom = require(\"../lib/dom\");\nvar oop = require(\"../lib/oop\");\nvar lang = require(\"../lib/lang\");\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\nvar Lines = require(\"./lines\").Lines;\n\nvar Gutter = function(parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_gutter-layer\";\n    parentEl.appendChild(this.element);\n    this.setShowFoldWidgets(this.$showFoldWidgets);\n    \n    this.gutterWidth = 0;\n\n    this.$annotations = [];\n    this.$updateAnnotations = this.$updateAnnotations.bind(this);\n    \n    this.$lines = new Lines(this.element);\n    this.$lines.$offsetCoefficient = 1;\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n\n    this.setSession = function(session) {\n        if (this.session)\n            this.session.off(\"change\", this.$updateAnnotations);\n        this.session = session;\n        if (session)\n            session.on(\"change\", this.$updateAnnotations);\n    };\n\n    this.addGutterDecoration = function(row, className) {\n        if (window.console)\n            console.warn && console.warn(\"deprecated use session.addGutterDecoration\");\n        this.session.addGutterDecoration(row, className);\n    };\n\n    this.removeGutterDecoration = function(row, className) {\n        if (window.console)\n            console.warn && console.warn(\"deprecated use session.removeGutterDecoration\");\n        this.session.removeGutterDecoration(row, className);\n    };\n\n    this.setAnnotations = function(annotations) {\n        this.$annotations = [];\n        for (var i = 0; i < annotations.length; i++) {\n            var annotation = annotations[i];\n            var row = annotation.row;\n            var rowInfo = this.$annotations[row];\n            if (!rowInfo)\n                rowInfo = this.$annotations[row] = {text: []};\n           \n            var annoText = annotation.text;\n            annoText = annoText ? lang.escapeHTML(annoText) : annotation.html || \"\";\n\n            if (rowInfo.text.indexOf(annoText) === -1)\n                rowInfo.text.push(annoText);\n\n            var type = annotation.type;\n            if (type == \"error\")\n                rowInfo.className = \" ace_error\";\n            else if (type == \"warning\" && rowInfo.className != \" ace_error\")\n                rowInfo.className = \" ace_warning\";\n            else if (type == \"info\" && (!rowInfo.className))\n                rowInfo.className = \" ace_info\";\n        }\n    };\n\n    this.$updateAnnotations = function (delta) {\n        if (!this.$annotations.length)\n            return;\n        var firstRow = delta.start.row;\n        var len = delta.end.row - firstRow;\n        if (len === 0) {\n        } else if (delta.action == 'remove') {\n            this.$annotations.splice(firstRow, len + 1, null);\n        } else {\n            var args = new Array(len + 1);\n            args.unshift(firstRow, 1);\n            this.$annotations.splice.apply(this.$annotations, args);\n        }\n    };\n\n    this.update = function(config) {\n        this.config = config;\n        \n        var session = this.session;\n        var firstRow = config.firstRow;\n        var lastRow = Math.min(config.lastRow + config.gutterOffset,  // needed to compensate for hor scollbar\n            session.getLength() - 1);\n            \n        this.oldLastRow = lastRow;\n        this.config = config;\n        \n        this.$lines.moveContainer(config);\n        this.$updateCursorRow();\n            \n        var fold = session.getNextFoldLine(firstRow);\n        var foldStart = fold ? fold.start.row : Infinity;\n\n        var cell = null;\n        var index = -1;\n        var row = firstRow;\n        \n        while (true) {\n            if (row > foldStart) {\n                row = fold.end.row + 1;\n                fold = session.getNextFoldLine(row, fold);\n                foldStart = fold ? fold.start.row : Infinity;\n            }\n            if (row > lastRow) {\n                while (this.$lines.getLength() > index + 1)\n                    this.$lines.pop();\n                    \n                break;\n            }\n\n            cell = this.$lines.get(++index);\n            if (cell) {\n                cell.row = row;\n            } else {\n                cell = this.$lines.createCell(row, config, this.session, onCreateCell);\n                this.$lines.push(cell);\n            }\n\n            this.$renderCell(cell, config, fold, row);\n            row++;\n        }\n        \n        this._signal(\"afterRender\");\n        this.$updateGutterWidth(config);\n    };\n\n    this.$updateGutterWidth = function(config) {\n        var session = this.session;\n        \n        var gutterRenderer = session.gutterRenderer || this.$renderer;\n        \n        var firstLineNumber = session.$firstLineNumber;\n        var lastLineText = this.$lines.last() ? this.$lines.last().text : \"\";\n        \n        if (this.$fixedWidth || session.$useWrapMode)\n            lastLineText = session.getLength() + firstLineNumber - 1;\n\n        var gutterWidth = gutterRenderer \n            ? gutterRenderer.getWidth(session, lastLineText, config)\n            : lastLineText.toString().length * config.characterWidth;\n        \n        var padding = this.$padding || this.$computePadding();\n        gutterWidth += padding.left + padding.right;\n        if (gutterWidth !== this.gutterWidth && !isNaN(gutterWidth)) {\n            this.gutterWidth = gutterWidth;\n            this.element.parentNode.style.width = \n            this.element.style.width = Math.ceil(this.gutterWidth) + \"px\";\n            this._signal(\"changeGutterWidth\", gutterWidth);\n        }\n    };\n    \n    this.$updateCursorRow = function() {\n        if (!this.$highlightGutterLine)\n            return;\n            \n        var position = this.session.selection.getCursor();\n        if (this.$cursorRow === position.row)\n            return;\n        \n        this.$cursorRow = position.row;\n    };\n    \n    this.updateLineHighlight = function() {\n        if (!this.$highlightGutterLine)\n            return;\n        var row = this.session.selection.cursor.row;\n        this.$cursorRow = row;\n\n        if (this.$cursorCell && this.$cursorCell.row == row)\n            return;\n        if (this.$cursorCell)\n            this.$cursorCell.element.className = this.$cursorCell.element.className.replace(\"ace_gutter-active-line \", \"\");\n        var cells = this.$lines.cells;\n        this.$cursorCell = null;\n        for (var i = 0; i < cells.length; i++) {\n            var cell = cells[i];\n            if (cell.row >= this.$cursorRow) {\n                if (cell.row > this.$cursorRow) {\n                    var fold = this.session.getFoldLine(this.$cursorRow);\n                    if (i > 0 && fold && fold.start.row == cells[i - 1].row)\n                        cell = cells[i - 1];\n                    else\n                        break;\n                }\n                cell.element.className = \"ace_gutter-active-line \" + cell.element.className;\n                this.$cursorCell = cell;\n                break;\n            }\n        }\n    };\n    \n    this.scrollLines = function(config) {\n        var oldConfig = this.config;\n        this.config = config;\n        \n        this.$updateCursorRow();\n        if (this.$lines.pageChanged(oldConfig, config))\n            return this.update(config);\n        \n        this.$lines.moveContainer(config);\n\n        var lastRow = Math.min(config.lastRow + config.gutterOffset,  // needed to compensate for hor scollbar\n            this.session.getLength() - 1);\n        var oldLastRow = this.oldLastRow;\n        this.oldLastRow = lastRow;\n        \n        if (!oldConfig || oldLastRow < config.firstRow)\n            return this.update(config);\n\n        if (lastRow < oldConfig.firstRow)\n            return this.update(config);\n\n        if (oldConfig.firstRow < config.firstRow)\n            for (var row=this.session.getFoldedRowCount(oldConfig.firstRow, config.firstRow - 1); row>0; row--)\n                this.$lines.shift();\n\n        if (oldLastRow > lastRow)\n            for (var row=this.session.getFoldedRowCount(lastRow + 1, oldLastRow); row>0; row--)\n                this.$lines.pop();\n\n        if (config.firstRow < oldConfig.firstRow) {\n            this.$lines.unshift(this.$renderLines(config, config.firstRow, oldConfig.firstRow - 1));\n        }\n\n        if (lastRow > oldLastRow) {\n            this.$lines.push(this.$renderLines(config, oldLastRow + 1, lastRow));\n        }\n        \n        this.updateLineHighlight();\n        \n        this._signal(\"afterRender\");\n        this.$updateGutterWidth(config);\n    };\n\n    this.$renderLines = function(config, firstRow, lastRow) {\n        var fragment = [];\n        var row = firstRow;\n        var foldLine = this.session.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n        while (true) {\n            if (row > foldStart) {\n                row = foldLine.end.row+1;\n                foldLine = this.session.getNextFoldLine(row, foldLine);\n                foldStart = foldLine ? foldLine.start.row : Infinity;\n            }\n            if (row > lastRow)\n                break;\n\n            var cell = this.$lines.createCell(row, config, this.session, onCreateCell);\n            this.$renderCell(cell, config, foldLine, row);\n            fragment.push(cell);\n\n            row++;\n        }\n        return fragment;\n    };\n    \n    this.$renderCell = function(cell, config, fold, row) {\n        var element = cell.element;\n        \n        var session = this.session;\n        \n        var textNode = element.childNodes[0];\n        var foldWidget = element.childNodes[1];\n\n        var firstLineNumber = session.$firstLineNumber;\n        \n        var breakpoints = session.$breakpoints;\n        var decorations = session.$decorations;\n        var gutterRenderer = session.gutterRenderer || this.$renderer;\n        var foldWidgets = this.$showFoldWidgets && session.foldWidgets;\n        var foldStart = fold ? fold.start.row : Number.MAX_VALUE;\n        \n        var className = \"ace_gutter-cell \";\n        if (this.$highlightGutterLine) {\n            if (row == this.$cursorRow || (fold && row < this.$cursorRow && row >= foldStart &&  this.$cursorRow <= fold.end.row)) {\n                className += \"ace_gutter-active-line \";\n                if (this.$cursorCell != cell) {\n                    if (this.$cursorCell)\n                        this.$cursorCell.element.className = this.$cursorCell.element.className.replace(\"ace_gutter-active-line \", \"\");\n                    this.$cursorCell = cell;\n                }\n            }\n        }\n        \n        if (breakpoints[row])\n            className += breakpoints[row];\n        if (decorations[row])\n            className += decorations[row];\n        if (this.$annotations[row])\n            className += this.$annotations[row].className;\n        if (element.className != className)\n            element.className = className;\n\n        if (foldWidgets) {\n            var c = foldWidgets[row];\n            if (c == null)\n                c = foldWidgets[row] = session.getFoldWidget(row);\n        }\n\n        if (c) {\n            var className = \"ace_fold-widget ace_\" + c;\n            if (c == \"start\" && row == foldStart && row < fold.end.row)\n                className += \" ace_closed\";\n            else\n                className += \" ace_open\";\n            if (foldWidget.className != className)\n                foldWidget.className = className;\n\n            var foldHeight = config.lineHeight + \"px\";\n            dom.setStyle(foldWidget.style, \"height\", foldHeight);\n            dom.setStyle(foldWidget.style, \"display\", \"inline-block\");\n        } else {\n            if (foldWidget) {\n                dom.setStyle(foldWidget.style, \"display\", \"none\");\n            }\n        }\n        \n        var text = (gutterRenderer\n            ? gutterRenderer.getText(session, row)\n            : row + firstLineNumber).toString();\n            \n        if (text !== textNode.data) {\n            textNode.data = text;\n        }\n        \n        dom.setStyle(cell.element.style, \"height\", this.$lines.computeLineHeight(row, config, session) + \"px\");\n        dom.setStyle(cell.element.style, \"top\", this.$lines.computeLineTop(row, config, session) + \"px\");\n        \n        cell.text = text;\n        return cell;\n    };\n\n    this.$fixedWidth = false;\n    \n    this.$highlightGutterLine = true;\n    this.$renderer = \"\";\n    this.setHighlightGutterLine = function(highlightGutterLine) {\n        this.$highlightGutterLine = highlightGutterLine;\n    };\n    \n    this.$showLineNumbers = true;\n    this.$renderer = \"\";\n    this.setShowLineNumbers = function(show) {\n        this.$renderer = !show && {\n            getWidth: function() {return 0;},\n            getText: function() {return \"\";}\n        };\n    };\n    \n    this.getShowLineNumbers = function() {\n        return this.$showLineNumbers;\n    };\n    \n    this.$showFoldWidgets = true;\n    this.setShowFoldWidgets = function(show) {\n        if (show)\n            dom.addCssClass(this.element, \"ace_folding-enabled\");\n        else\n            dom.removeCssClass(this.element, \"ace_folding-enabled\");\n\n        this.$showFoldWidgets = show;\n        this.$padding = null;\n    };\n    \n    this.getShowFoldWidgets = function() {\n        return this.$showFoldWidgets;\n    };\n\n    this.$computePadding = function() {\n        if (!this.element.firstChild)\n            return {left: 0, right: 0};\n        var style = dom.computedStyle(this.element.firstChild);\n        this.$padding = {};\n        this.$padding.left = (parseInt(style.borderLeftWidth) || 0)\n            + (parseInt(style.paddingLeft) || 0) + 1;\n        this.$padding.right = (parseInt(style.borderRightWidth) || 0)\n            + (parseInt(style.paddingRight) || 0);\n        return this.$padding;\n    };\n\n    this.getRegion = function(point) {\n        var padding = this.$padding || this.$computePadding();\n        var rect = this.element.getBoundingClientRect();\n        if (point.x < padding.left + rect.left)\n            return \"markers\";\n        if (this.$showFoldWidgets && point.x > rect.right - padding.right)\n            return \"foldWidgets\";\n    };\n\n}).call(Gutter.prototype);\n\nfunction onCreateCell(element) {\n    var textNode = document.createTextNode('');\n    element.appendChild(textNode);\n    \n    var foldWidget = dom.createElement(\"span\");\n    element.appendChild(foldWidget);\n    \n    return element;\n}\n\nexports.Gutter = Gutter;\n\n});\n\nace.define(\"ace/layer/marker\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\n\nvar Range = require(\"../range\").Range;\nvar dom = require(\"../lib/dom\");\n\nvar Marker = function(parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_marker-layer\";\n    parentEl.appendChild(this.element);\n};\n\n(function() {\n\n    this.$padding = 0;\n\n    this.setPadding = function(padding) {\n        this.$padding = padding;\n    };\n    this.setSession = function(session) {\n        this.session = session;\n    };\n    \n    this.setMarkers = function(markers) {\n        this.markers = markers;\n    };\n    \n    this.elt = function(className, css) {\n        var x = this.i != -1 && this.element.childNodes[this.i];\n        if (!x) {\n            x = document.createElement(\"div\");\n            this.element.appendChild(x);\n            this.i = -1;\n        } else {\n            this.i++;\n        }\n        x.style.cssText = css;\n        x.className = className;\n    };\n\n    this.update = function(config) {\n        if (!config) return;\n\n        this.config = config;\n\n        this.i = 0;\n        var html;\n        for (var key in this.markers) {\n            var marker = this.markers[key];\n\n            if (!marker.range) {\n                marker.update(html, this, this.session, config);\n                continue;\n            }\n\n            var range = marker.range.clipRows(config.firstRow, config.lastRow);\n            if (range.isEmpty()) continue;\n\n            range = range.toScreenRange(this.session);\n            if (marker.renderer) {\n                var top = this.$getTop(range.start.row, config);\n                var left = this.$padding + range.start.column * config.characterWidth;\n                marker.renderer(html, range, left, top, config);\n            } else if (marker.type == \"fullLine\") {\n                this.drawFullLineMarker(html, range, marker.clazz, config);\n            } else if (marker.type == \"screenLine\") {\n                this.drawScreenLineMarker(html, range, marker.clazz, config);\n            } else if (range.isMultiLine()) {\n                if (marker.type == \"text\")\n                    this.drawTextMarker(html, range, marker.clazz, config);\n                else\n                    this.drawMultiLineMarker(html, range, marker.clazz, config);\n            } else {\n                this.drawSingleLineMarker(html, range, marker.clazz + \" ace_start\" + \" ace_br15\", config);\n            }\n        }\n        if (this.i !=-1) {\n            while (this.i < this.element.childElementCount)\n                this.element.removeChild(this.element.lastChild);\n        }\n    };\n\n    this.$getTop = function(row, layerConfig) {\n        return (row - layerConfig.firstRowScreen) * layerConfig.lineHeight;\n    };\n\n    function getBorderClass(tl, tr, br, bl) {\n        return (tl ? 1 : 0) | (tr ? 2 : 0) | (br ? 4 : 0) | (bl ? 8 : 0);\n    }\n    this.drawTextMarker = function(stringBuilder, range, clazz, layerConfig, extraStyle) {\n        var session = this.session;\n        var start = range.start.row;\n        var end = range.end.row;\n        var row = start;\n        var prev = 0; \n        var curr = 0;\n        var next = session.getScreenLastRowColumn(row);\n        var lineRange = new Range(row, range.start.column, row, curr);\n        for (; row <= end; row++) {\n            lineRange.start.row = lineRange.end.row = row;\n            lineRange.start.column = row == start ? range.start.column : session.getRowWrapIndent(row);\n            lineRange.end.column = next;\n            prev = curr;\n            curr = next;\n            next = row + 1 < end ? session.getScreenLastRowColumn(row + 1) : row == end ? 0 : range.end.column;\n            this.drawSingleLineMarker(stringBuilder, lineRange, \n                clazz + (row == start  ? \" ace_start\" : \"\") + \" ace_br\"\n                    + getBorderClass(row == start || row == start + 1 && range.start.column, prev < curr, curr > next, row == end),\n                layerConfig, row == end ? 0 : 1, extraStyle);\n        }\n    };\n    this.drawMultiLineMarker = function(stringBuilder, range, clazz, config, extraStyle) {\n        var padding = this.$padding;\n        var height = config.lineHeight;\n        var top = this.$getTop(range.start.row, config);\n        var left = padding + range.start.column * config.characterWidth;\n        extraStyle = extraStyle || \"\";\n\n        if (this.session.$bidiHandler.isBidiRow(range.start.row)) {\n           var range1 = range.clone();\n           range1.end.row = range1.start.row;\n           range1.end.column = this.session.getLine(range1.start.row).length;\n           this.drawBidiSingleLineMarker(stringBuilder, range1, clazz + \" ace_br1 ace_start\", config, null, extraStyle);\n        } else {\n            this.elt(\n                clazz + \" ace_br1 ace_start\",\n                \"height:\"+ height+ \"px;\"+ \"right:0;\"+ \"top:\"+top+ \"px;left:\"+ left+ \"px;\" + (extraStyle || \"\")\n            );\n        }\n        if (this.session.$bidiHandler.isBidiRow(range.end.row)) {\n           var range1 = range.clone();\n           range1.start.row = range1.end.row;\n           range1.start.column = 0;\n           this.drawBidiSingleLineMarker(stringBuilder, range1, clazz + \" ace_br12\", config, null, extraStyle);\n        } else {\n            top = this.$getTop(range.end.row, config);\n            var width = range.end.column * config.characterWidth;\n\n            this.elt(\n                clazz + \" ace_br12\",\n                \"height:\"+ height+ \"px;\"+\n                \"width:\"+ width+ \"px;\"+\n                \"top:\"+ top+ \"px;\"+\n                \"left:\"+ padding+ \"px;\"+ (extraStyle || \"\")\n            );\n        }\n        height = (range.end.row - range.start.row - 1) * config.lineHeight;\n        if (height <= 0)\n            return;\n        top = this.$getTop(range.start.row + 1, config);\n        \n        var radiusClass = (range.start.column ? 1 : 0) | (range.end.column ? 0 : 8);\n\n        this.elt(\n            clazz + (radiusClass ? \" ace_br\" + radiusClass : \"\"),\n            \"height:\"+ height+ \"px;\"+\n            \"right:0;\"+\n            \"top:\"+ top+ \"px;\"+\n            \"left:\"+ padding+ \"px;\"+ (extraStyle || \"\")\n        );\n    };\n    this.drawSingleLineMarker = function(stringBuilder, range, clazz, config, extraLength, extraStyle) {\n        if (this.session.$bidiHandler.isBidiRow(range.start.row))\n            return this.drawBidiSingleLineMarker(stringBuilder, range, clazz, config, extraLength, extraStyle);\n        var height = config.lineHeight;\n        var width = (range.end.column + (extraLength || 0) - range.start.column) * config.characterWidth;\n\n        var top = this.$getTop(range.start.row, config);\n        var left = this.$padding + range.start.column * config.characterWidth;\n\n        this.elt(\n            clazz,\n            \"height:\"+ height+ \"px;\"+\n            \"width:\"+ width+ \"px;\"+\n            \"top:\"+ top+ \"px;\"+\n            \"left:\"+ left+ \"px;\"+ (extraStyle || \"\")\n        );\n    };\n    this.drawBidiSingleLineMarker = function(stringBuilder, range, clazz, config, extraLength, extraStyle) {\n        var height = config.lineHeight, top = this.$getTop(range.start.row, config), padding = this.$padding;\n        var selections = this.session.$bidiHandler.getSelections(range.start.column, range.end.column);\n\n        selections.forEach(function(selection) {\n            this.elt(\n                clazz,\n                \"height:\" + height + \"px;\" +\n                \"width:\" + selection.width + (extraLength || 0) + \"px;\" +\n                \"top:\" + top + \"px;\" +\n                \"left:\" + (padding + selection.left) + \"px;\" + (extraStyle || \"\")\n            );\n        }, this);\n    };\n\n    this.drawFullLineMarker = function(stringBuilder, range, clazz, config, extraStyle) {\n        var top = this.$getTop(range.start.row, config);\n        var height = config.lineHeight;\n        if (range.start.row != range.end.row)\n            height += this.$getTop(range.end.row, config) - top;\n\n        this.elt(\n            clazz,\n            \"height:\"+ height+ \"px;\"+\n            \"top:\"+ top+ \"px;\"+\n            \"left:0;right:0;\"+ (extraStyle || \"\")\n        );\n    };\n    \n    this.drawScreenLineMarker = function(stringBuilder, range, clazz, config, extraStyle) {\n        var top = this.$getTop(range.start.row, config);\n        var height = config.lineHeight;\n\n        this.elt(\n            clazz,\n            \"height:\"+ height+ \"px;\"+\n            \"top:\"+ top+ \"px;\"+\n            \"left:0;right:0;\"+ (extraStyle || \"\")\n        );\n    };\n\n}).call(Marker.prototype);\n\nexports.Marker = Marker;\n\n});\n\nace.define(\"ace/layer/text\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/layer/lines\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../lib/oop\");\nvar dom = require(\"../lib/dom\");\nvar lang = require(\"../lib/lang\");\nvar Lines = require(\"./lines\").Lines;\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\n\nvar Text = function(parentEl) {\n    this.dom = dom; \n    this.element = this.dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_text-layer\";\n    parentEl.appendChild(this.element);\n    this.$updateEolChar = this.$updateEolChar.bind(this);\n    this.$lines = new Lines(this.element);\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n\n    this.EOF_CHAR = \"\\xB6\";\n    this.EOL_CHAR_LF = \"\\xAC\";\n    this.EOL_CHAR_CRLF = \"\\xa4\";\n    this.EOL_CHAR = this.EOL_CHAR_LF;\n    this.TAB_CHAR = \"\\u2014\"; //\"\\u21E5\";\n    this.SPACE_CHAR = \"\\xB7\";\n    this.$padding = 0;\n    this.MAX_LINE_LENGTH = 10000;\n\n    this.$updateEolChar = function() {\n        var doc = this.session.doc;\n        var unixMode = doc.getNewLineCharacter() == \"\\n\" && doc.getNewLineMode() != \"windows\";\n        var EOL_CHAR = unixMode ? this.EOL_CHAR_LF : this.EOL_CHAR_CRLF;\n        if (this.EOL_CHAR != EOL_CHAR) {\n            this.EOL_CHAR = EOL_CHAR;\n            return true;\n        }\n    };\n\n    this.setPadding = function(padding) {\n        this.$padding = padding;\n        this.element.style.margin = \"0 \" + padding + \"px\";\n    };\n\n    this.getLineHeight = function() {\n        return this.$fontMetrics.$characterSize.height || 0;\n    };\n\n    this.getCharacterWidth = function() {\n        return this.$fontMetrics.$characterSize.width || 0;\n    };\n    \n    this.$setFontMetrics = function(measure) {\n        this.$fontMetrics = measure;\n        this.$fontMetrics.on(\"changeCharacterSize\", function(e) {\n            this._signal(\"changeCharacterSize\", e);\n        }.bind(this));\n        this.$pollSizeChanges();\n    };\n\n    this.checkForSizeChanges = function() {\n        this.$fontMetrics.checkForSizeChanges();\n    };\n    this.$pollSizeChanges = function() {\n        return this.$pollSizeChangesTimer = this.$fontMetrics.$pollSizeChanges();\n    };\n    this.setSession = function(session) {\n        this.session = session;\n        if (session)\n            this.$computeTabString();\n    };\n\n    this.showInvisibles = false;\n    this.showSpaces = false;\n    this.showTabs = false;\n    this.showEOL = false;\n    this.setShowInvisibles = function(showInvisibles) {\n        if (this.showInvisibles == showInvisibles)\n            return false;\n\n        this.showInvisibles = showInvisibles;\n        if (typeof showInvisibles == \"string\") {\n            this.showSpaces = /tab/i.test(showInvisibles);\n            this.showTabs = /space/i.test(showInvisibles);\n            this.showEOL = /eol/i.test(showInvisibles);\n        } else {\n            this.showSpaces = this.showTabs = this.showEOL = showInvisibles;\n        }\n        this.$computeTabString();\n        return true;\n    };\n\n    this.displayIndentGuides = true;\n    this.setDisplayIndentGuides = function(display) {\n        if (this.displayIndentGuides == display)\n            return false;\n\n        this.displayIndentGuides = display;\n        this.$computeTabString();\n        return true;\n    };\n\n    this.$tabStrings = [];\n    this.onChangeTabSize =\n    this.$computeTabString = function() {\n        var tabSize = this.session.getTabSize();\n        this.tabSize = tabSize;\n        var tabStr = this.$tabStrings = [0];\n        for (var i = 1; i < tabSize + 1; i++) {\n            if (this.showTabs) {\n                var span = this.dom.createElement(\"span\");\n                span.className = \"ace_invisible ace_invisible_tab\";\n                span.textContent = lang.stringRepeat(this.TAB_CHAR, i);\n                tabStr.push(span);\n            } else {\n                tabStr.push(this.dom.createTextNode(lang.stringRepeat(\" \", i), this.element));\n            }\n        }\n        if (this.displayIndentGuides) {\n            this.$indentGuideRe =  /\\s\\S| \\t|\\t |\\s$/;\n            var className = \"ace_indent-guide\";\n            var spaceClass = this.showSpaces ? \" ace_invisible ace_invisible_space\" : \"\";\n            var spaceContent = this.showSpaces\n                ? lang.stringRepeat(this.SPACE_CHAR, this.tabSize)\n                : lang.stringRepeat(\" \", this.tabSize);\n\n            var tabClass = this.showTabs ? \" ace_invisible ace_invisible_tab\" : \"\";\n            var tabContent = this.showTabs \n                ? lang.stringRepeat(this.TAB_CHAR, this.tabSize)\n                : spaceContent;\n\n            var span = this.dom.createElement(\"span\");\n            span.className = className + spaceClass;\n            span.textContent = spaceContent;\n            this.$tabStrings[\" \"] = span;\n            \n            var span = this.dom.createElement(\"span\");\n            span.className = className + tabClass;\n            span.textContent = tabContent;\n            this.$tabStrings[\"\\t\"] = span;\n        }\n    };\n\n    this.updateLines = function(config, firstRow, lastRow) {\n        if (this.config.lastRow != config.lastRow ||\n            this.config.firstRow != config.firstRow) {\n            return this.update(config);\n        }\n        \n        this.config = config;\n\n        var first = Math.max(firstRow, config.firstRow);\n        var last = Math.min(lastRow, config.lastRow);\n\n        var lineElements = this.element.childNodes;\n        var lineElementsIdx = 0;\n\n        for (var row = config.firstRow; row < first; row++) {\n            var foldLine = this.session.getFoldLine(row);\n            if (foldLine) {\n                if (foldLine.containsRow(first)) {\n                    first = foldLine.start.row;\n                    break;\n                } else {\n                    row = foldLine.end.row;\n                }\n            }\n            lineElementsIdx ++;\n        }\n\n        var heightChanged = false;\n        var row = first;\n        var foldLine = this.session.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n        while (true) {\n            if (row > foldStart) {\n                row = foldLine.end.row+1;\n                foldLine = this.session.getNextFoldLine(row, foldLine);\n                foldStart = foldLine ? foldLine.start.row :Infinity;\n            }\n            if (row > last)\n                break;\n\n            var lineElement = lineElements[lineElementsIdx++];\n            if (lineElement) {\n                this.dom.removeChildren(lineElement);\n                this.$renderLine(\n                    lineElement, row, row == foldStart ? foldLine : false\n                );\n\n                if (heightChanged)\n                    lineElement.style.top = this.$lines.computeLineTop(row, config, this.session) + \"px\";\n\n                var height = (config.lineHeight * this.session.getRowLength(row)) + \"px\";\n                if (lineElement.style.height != height) {\n                    heightChanged = true;\n                    lineElement.style.height = height;\n                }\n            }\n            row++;\n        }\n        if (heightChanged) {\n            while (lineElementsIdx < this.$lines.cells.length) {\n                var cell = this.$lines.cells[lineElementsIdx++];\n                cell.element.style.top = this.$lines.computeLineTop(cell.row, config, this.session) + \"px\";\n            }\n        }\n    };\n\n    this.scrollLines = function(config) {\n        var oldConfig = this.config;\n        this.config = config;\n\n        if (this.$lines.pageChanged(oldConfig, config))\n            return this.update(config);\n            \n        this.$lines.moveContainer(config);\n        \n        var lastRow = config.lastRow;\n        var oldLastRow = oldConfig ? oldConfig.lastRow : -1;\n\n        if (!oldConfig || oldLastRow < config.firstRow)\n            return this.update(config);\n\n        if (lastRow < oldConfig.firstRow)\n            return this.update(config);\n\n        if (!oldConfig || oldConfig.lastRow < config.firstRow)\n            return this.update(config);\n\n        if (config.lastRow < oldConfig.firstRow)\n            return this.update(config);\n\n        if (oldConfig.firstRow < config.firstRow)\n            for (var row=this.session.getFoldedRowCount(oldConfig.firstRow, config.firstRow - 1); row>0; row--)\n                this.$lines.shift();\n\n        if (oldConfig.lastRow > config.lastRow)\n            for (var row=this.session.getFoldedRowCount(config.lastRow + 1, oldConfig.lastRow); row>0; row--)\n                this.$lines.pop();\n\n        if (config.firstRow < oldConfig.firstRow) {\n            this.$lines.unshift(this.$renderLinesFragment(config, config.firstRow, oldConfig.firstRow - 1));\n        }\n\n        if (config.lastRow > oldConfig.lastRow) {\n            this.$lines.push(this.$renderLinesFragment(config, oldConfig.lastRow + 1, config.lastRow));\n        }\n    };\n\n    this.$renderLinesFragment = function(config, firstRow, lastRow) {\n        var fragment = [];\n        var row = firstRow;\n        var foldLine = this.session.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n        while (true) {\n            if (row > foldStart) {\n                row = foldLine.end.row+1;\n                foldLine = this.session.getNextFoldLine(row, foldLine);\n                foldStart = foldLine ? foldLine.start.row : Infinity;\n            }\n            if (row > lastRow)\n                break;\n\n            var line = this.$lines.createCell(row, config, this.session);\n            \n            var lineEl = line.element;\n            this.dom.removeChildren(lineEl);\n            dom.setStyle(lineEl.style, \"height\", this.$lines.computeLineHeight(row, config, this.session) + \"px\");\n            dom.setStyle(lineEl.style, \"top\", this.$lines.computeLineTop(row, config, this.session) + \"px\");\n            this.$renderLine(lineEl, row, row == foldStart ? foldLine : false);\n\n            if (this.$useLineGroups()) {\n                lineEl.className = \"ace_line_group\";\n            } else {\n                lineEl.className = \"ace_line\";\n            }\n            fragment.push(line);\n\n            row++;\n        }\n        return fragment;\n    };\n\n    this.update = function(config) {\n        this.$lines.moveContainer(config);\n        \n        this.config = config;\n\n        var firstRow = config.firstRow;\n        var lastRow = config.lastRow;\n\n        var lines = this.$lines;\n        while (lines.getLength())\n            lines.pop();\n            \n        lines.push(this.$renderLinesFragment(config, firstRow, lastRow));\n    };\n\n    this.$textToken = {\n        \"text\": true,\n        \"rparen\": true,\n        \"lparen\": true\n    };\n\n    this.$renderToken = function(parent, screenColumn, token, value) {\n        var self = this;\n        var re = /(\\t)|( +)|([\\x00-\\x1f\\x80-\\xa0\\xad\\u1680\\u180E\\u2000-\\u200f\\u2028\\u2029\\u202F\\u205F\\uFEFF\\uFFF9-\\uFFFC]+)|(\\u3000)|([\\u1100-\\u115F\\u11A3-\\u11A7\\u11FA-\\u11FF\\u2329-\\u232A\\u2E80-\\u2E99\\u2E9B-\\u2EF3\\u2F00-\\u2FD5\\u2FF0-\\u2FFB\\u3001-\\u303E\\u3041-\\u3096\\u3099-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u3190-\\u31BA\\u31C0-\\u31E3\\u31F0-\\u321E\\u3220-\\u3247\\u3250-\\u32FE\\u3300-\\u4DBF\\u4E00-\\uA48C\\uA490-\\uA4C6\\uA960-\\uA97C\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFAFF\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE66\\uFE68-\\uFE6B\\uFF01-\\uFF60\\uFFE0-\\uFFE6]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF])/g;\n        \n        var valueFragment = this.dom.createFragment(this.element);\n\n        var m;\n        var i = 0;\n        while (m = re.exec(value)) {\n            var tab = m[1];\n            var simpleSpace = m[2];\n            var controlCharacter = m[3];\n            var cjkSpace = m[4];\n            var cjk = m[5];\n            \n            if (!self.showSpaces && simpleSpace)\n                continue;\n\n            var before = i != m.index ? value.slice(i, m.index) : \"\";\n\n            i = m.index + m[0].length;\n            \n            if (before) {\n                valueFragment.appendChild(this.dom.createTextNode(before, this.element));\n            }\n                \n            if (tab) {\n                var tabSize = self.session.getScreenTabSize(screenColumn + m.index);\n                valueFragment.appendChild(self.$tabStrings[tabSize].cloneNode(true));\n                screenColumn += tabSize - 1;\n            } else if (simpleSpace) {\n                if (self.showSpaces) {\n                    var span = this.dom.createElement(\"span\");\n                    span.className = \"ace_invisible ace_invisible_space\";\n                    span.textContent = lang.stringRepeat(self.SPACE_CHAR, simpleSpace.length);\n                    valueFragment.appendChild(span);\n                } else {\n                    valueFragment.appendChild(this.com.createTextNode(simpleSpace, this.element));\n                }\n            } else if (controlCharacter) {\n                var span = this.dom.createElement(\"span\");\n                span.className = \"ace_invisible ace_invisible_space ace_invalid\";\n                span.textContent = lang.stringRepeat(self.SPACE_CHAR, controlCharacter.length);\n                valueFragment.appendChild(span);\n            } else if (cjkSpace) {\n                screenColumn += 1;\n                \n                var span = this.dom.createElement(\"span\");\n                span.style.width = (self.config.characterWidth * 2) + \"px\";\n                span.className = self.showSpaces ? \"ace_cjk ace_invisible ace_invisible_space\" : \"ace_cjk\";\n                span.textContent = self.showSpaces ? self.SPACE_CHAR : cjkSpace;\n                valueFragment.appendChild(span);\n            } else if (cjk) {\n                screenColumn += 1;\n                var span = this.dom.createElement(\"span\");\n                span.style.width = (self.config.characterWidth * 2) + \"px\";\n                span.className = \"ace_cjk\";\n                span.textContent = cjk;\n                valueFragment.appendChild(span);\n            }\n        }\n        \n        valueFragment.appendChild(this.dom.createTextNode(i ? value.slice(i) : value, this.element));\n\n        if (!this.$textToken[token.type]) {\n            var classes = \"ace_\" + token.type.replace(/\\./g, \" ace_\");\n            var span = this.dom.createElement(\"span\");\n            if (token.type == \"fold\")\n                span.style.width = (token.value.length * this.config.characterWidth) + \"px\";\n                \n            span.className = classes;\n            span.appendChild(valueFragment);\n            \n            parent.appendChild(span);\n        }\n        else {\n            parent.appendChild(valueFragment);\n        }\n        \n        return screenColumn + value.length;\n    };\n\n    this.renderIndentGuide = function(parent, value, max) {\n        var cols = value.search(this.$indentGuideRe);\n        if (cols <= 0 || cols >= max)\n            return value;\n        if (value[0] == \" \") {\n            cols -= cols % this.tabSize;\n            var count = cols/this.tabSize;\n            for (var i=0; i<count; i++) {\n                parent.appendChild(this.$tabStrings[\" \"].cloneNode(true));\n            }\n            return value.substr(cols);\n        } else if (value[0] == \"\\t\") {\n            for (var i=0; i<cols; i++) {\n                parent.appendChild(this.$tabStrings[\"\\t\"].cloneNode(true));\n            }\n            return value.substr(cols);\n        }\n        return value;\n    };\n\n    this.$createLineElement = function(parent) {\n        var lineEl = this.dom.createElement(\"div\");\n        lineEl.className = \"ace_line\";\n        lineEl.style.height = this.config.lineHeight + \"px\";\n        \n        return lineEl;\n    };\n\n    this.$renderWrappedLine = function(parent, tokens, splits) {\n        var chars = 0;\n        var split = 0;\n        var splitChars = splits[0];\n        var screenColumn = 0;\n\n        var lineEl = this.$createLineElement();\n        parent.appendChild(lineEl);\n        \n        for (var i = 0; i < tokens.length; i++) {\n            var token = tokens[i];\n            var value = token.value;\n            if (i == 0 && this.displayIndentGuides) {\n                chars = value.length;\n                value = this.renderIndentGuide(lineEl, value, splitChars);\n                if (!value)\n                    continue;\n                chars -= value.length;\n            }\n\n            if (chars + value.length < splitChars) {\n                screenColumn = this.$renderToken(lineEl, screenColumn, token, value);\n                chars += value.length;\n            } else {\n                while (chars + value.length >= splitChars) {\n                    screenColumn = this.$renderToken(\n                        lineEl, screenColumn,\n                        token, value.substring(0, splitChars - chars)\n                    );\n                    value = value.substring(splitChars - chars);\n                    chars = splitChars;\n\n                    lineEl = this.$createLineElement();\n                    parent.appendChild(lineEl);\n\n                    lineEl.appendChild(this.dom.createTextNode(lang.stringRepeat(\"\\xa0\", splits.indent), this.element));\n\n                    split ++;\n                    screenColumn = 0;\n                    splitChars = splits[split] || Number.MAX_VALUE;\n                }\n                if (value.length != 0) {\n                    chars += value.length;\n                    screenColumn = this.$renderToken(\n                        lineEl, screenColumn, token, value\n                    );\n                }\n            }\n        }\n        \n        if (splits[splits.length - 1] > this.MAX_LINE_LENGTH)\n            this.$renderOverflowMessage(lineEl, screenColumn, null, \"\", true);\n    };\n\n    this.$renderSimpleLine = function(parent, tokens) {\n        var screenColumn = 0;\n        var token = tokens[0];\n        var value = token.value;\n        if (this.displayIndentGuides)\n            value = this.renderIndentGuide(parent, value);\n        if (value)\n            screenColumn = this.$renderToken(parent, screenColumn, token, value);\n        for (var i = 1; i < tokens.length; i++) {\n            token = tokens[i];\n            value = token.value;\n            if (screenColumn + value.length > this.MAX_LINE_LENGTH)\n                return this.$renderOverflowMessage(parent, screenColumn, token, value);\n            screenColumn = this.$renderToken(parent, screenColumn, token, value);\n        }\n    };\n    \n    this.$renderOverflowMessage = function(parent, screenColumn, token, value, hide) {\n        token && this.$renderToken(parent, screenColumn, token,\n            value.slice(0, this.MAX_LINE_LENGTH - screenColumn));\n            \n        var overflowEl = this.dom.createElement(\"span\");\n        overflowEl.className = \"ace_inline_button ace_keyword ace_toggle_wrap\";\n        overflowEl.textContent = hide ? \"<hide>\" : \"<click to see more...>\";\n        \n        parent.appendChild(overflowEl);        \n    };\n    this.$renderLine = function(parent, row, foldLine) {\n        if (!foldLine && foldLine != false)\n            foldLine = this.session.getFoldLine(row);\n\n        if (foldLine)\n            var tokens = this.$getFoldLineTokens(row, foldLine);\n        else\n            var tokens = this.session.getTokens(row);\n\n        var lastLineEl = parent;\n        if (tokens.length) {\n            var splits = this.session.getRowSplitData(row);\n            if (splits && splits.length) {\n                this.$renderWrappedLine(parent, tokens, splits);\n                var lastLineEl = parent.lastChild;\n            } else {\n                var lastLineEl = parent;\n                if (this.$useLineGroups()) {\n                    lastLineEl = this.$createLineElement();\n                    parent.appendChild(lastLineEl);\n                }\n                this.$renderSimpleLine(lastLineEl, tokens);\n            }\n        } else if (this.$useLineGroups()) {\n            lastLineEl = this.$createLineElement();\n            parent.appendChild(lastLineEl);\n        }\n\n        if (this.showEOL && lastLineEl) {\n            if (foldLine)\n                row = foldLine.end.row;\n\n            var invisibleEl = this.dom.createElement(\"span\");\n            invisibleEl.className = \"ace_invisible ace_invisible_eol\";\n            invisibleEl.textContent = row == this.session.getLength() - 1 ? this.EOF_CHAR : this.EOL_CHAR;\n            \n            lastLineEl.appendChild(invisibleEl);\n        }\n    };\n\n    this.$getFoldLineTokens = function(row, foldLine) {\n        var session = this.session;\n        var renderTokens = [];\n\n        function addTokens(tokens, from, to) {\n            var idx = 0, col = 0;\n            while ((col + tokens[idx].value.length) < from) {\n                col += tokens[idx].value.length;\n                idx++;\n\n                if (idx == tokens.length)\n                    return;\n            }\n            if (col != from) {\n                var value = tokens[idx].value.substring(from - col);\n                if (value.length > (to - from))\n                    value = value.substring(0, to - from);\n\n                renderTokens.push({\n                    type: tokens[idx].type,\n                    value: value\n                });\n\n                col = from + value.length;\n                idx += 1;\n            }\n\n            while (col < to && idx < tokens.length) {\n                var value = tokens[idx].value;\n                if (value.length + col > to) {\n                    renderTokens.push({\n                        type: tokens[idx].type,\n                        value: value.substring(0, to - col)\n                    });\n                } else\n                    renderTokens.push(tokens[idx]);\n                col += value.length;\n                idx += 1;\n            }\n        }\n\n        var tokens = session.getTokens(row);\n        foldLine.walk(function(placeholder, row, column, lastColumn, isNewRow) {\n            if (placeholder != null) {\n                renderTokens.push({\n                    type: \"fold\",\n                    value: placeholder\n                });\n            } else {\n                if (isNewRow)\n                    tokens = session.getTokens(row);\n\n                if (tokens.length)\n                    addTokens(tokens, lastColumn, column);\n            }\n        }, foldLine.end.row, this.session.getLine(foldLine.end.row).length);\n\n        return renderTokens;\n    };\n\n    this.$useLineGroups = function() {\n        return this.session.getUseWrapMode();\n    };\n\n    this.destroy = function() {};\n}).call(Text.prototype);\n\nexports.Text = Text;\n\n});\n\nace.define(\"ace/layer/cursor\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\n\nvar dom = require(\"../lib/dom\");\n\nvar Cursor = function(parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_cursor-layer\";\n    parentEl.appendChild(this.element);\n    \n    this.isVisible = false;\n    this.isBlinking = true;\n    this.blinkInterval = 1000;\n    this.smoothBlinking = false;\n\n    this.cursors = [];\n    this.cursor = this.addCursor();\n    dom.addCssClass(this.element, \"ace_hidden-cursors\");\n    this.$updateCursors = this.$updateOpacity.bind(this);\n};\n\n(function() {\n    \n    this.$updateOpacity = function(val) {\n        var cursors = this.cursors;\n        for (var i = cursors.length; i--; )\n            dom.setStyle(cursors[i].style, \"opacity\", val ? \"\" : \"0\");\n    };\n\n    this.$startCssAnimation = function() {\n        var cursors = this.cursors;\n        for (var i = cursors.length; i--; )\n            cursors[i].style.animationDuration = this.blinkInterval + \"ms\";\n\n        setTimeout(function() {\n            dom.addCssClass(this.element, \"ace_animate-blinking\");\n        }.bind(this));\n    };\n    \n    this.$stopCssAnimation = function() {\n        dom.removeCssClass(this.element, \"ace_animate-blinking\");\n    };\n\n    this.$padding = 0;\n    this.setPadding = function(padding) {\n        this.$padding = padding;\n    };\n\n    this.setSession = function(session) {\n        this.session = session;\n    };\n\n    this.setBlinking = function(blinking) {\n        if (blinking != this.isBlinking) {\n            this.isBlinking = blinking;\n            this.restartTimer();\n        }\n    };\n\n    this.setBlinkInterval = function(blinkInterval) {\n        if (blinkInterval != this.blinkInterval) {\n            this.blinkInterval = blinkInterval;\n            this.restartTimer();\n        }\n    };\n\n    this.setSmoothBlinking = function(smoothBlinking) {\n        if (smoothBlinking != this.smoothBlinking) {\n            this.smoothBlinking = smoothBlinking;\n            dom.setCssClass(this.element, \"ace_smooth-blinking\", smoothBlinking);\n            this.$updateCursors(true);\n            this.restartTimer();\n        }\n    };\n\n    this.addCursor = function() {\n        var el = dom.createElement(\"div\");\n        el.className = \"ace_cursor\";\n        this.element.appendChild(el);\n        this.cursors.push(el);\n        return el;\n    };\n\n    this.removeCursor = function() {\n        if (this.cursors.length > 1) {\n            var el = this.cursors.pop();\n            el.parentNode.removeChild(el);\n            return el;\n        }\n    };\n\n    this.hideCursor = function() {\n        this.isVisible = false;\n        dom.addCssClass(this.element, \"ace_hidden-cursors\");\n        this.restartTimer();\n    };\n\n    this.showCursor = function() {\n        this.isVisible = true;\n        dom.removeCssClass(this.element, \"ace_hidden-cursors\");\n        this.restartTimer();\n    };\n\n    this.restartTimer = function() {\n        var update = this.$updateCursors;\n        clearInterval(this.intervalId);\n        clearTimeout(this.timeoutId);\n        this.$stopCssAnimation();\n\n        if (this.smoothBlinking) {\n            dom.removeCssClass(this.element, \"ace_smooth-blinking\");\n        }\n        \n        update(true);\n\n        if (!this.isBlinking || !this.blinkInterval || !this.isVisible) {\n            this.$stopCssAnimation();\n            return;\n        }\n\n        if (this.smoothBlinking) {\n            setTimeout(function(){\n                dom.addCssClass(this.element, \"ace_smooth-blinking\");\n            }.bind(this));\n        }\n        \n        if (dom.HAS_CSS_ANIMATION) {\n            this.$startCssAnimation();\n        } else {\n            var blink = function(){\n                this.timeoutId = setTimeout(function() {\n                    update(false);\n                }, 0.6 * this.blinkInterval);\n            }.bind(this);\n    \n            this.intervalId = setInterval(function() {\n                update(true);\n                blink();\n            }, this.blinkInterval);\n            blink();\n        }\n    };\n\n    this.getPixelPosition = function(position, onScreen) {\n        if (!this.config || !this.session)\n            return {left : 0, top : 0};\n\n        if (!position)\n            position = this.session.selection.getCursor();\n        var pos = this.session.documentToScreenPosition(position);\n        var cursorLeft = this.$padding + (this.session.$bidiHandler.isBidiRow(pos.row, position.row)\n            ? this.session.$bidiHandler.getPosLeft(pos.column)\n            : pos.column * this.config.characterWidth);\n\n        var cursorTop = (pos.row - (onScreen ? this.config.firstRowScreen : 0)) *\n            this.config.lineHeight;\n\n        return {left : cursorLeft, top : cursorTop};\n    };\n\n    this.isCursorInView = function(pixelPos, config) {\n        return pixelPos.top >= 0 && pixelPos.top < config.maxHeight;\n    };\n\n    this.update = function(config) {\n        this.config = config;\n\n        var selections = this.session.$selectionMarkers;\n        var i = 0, cursorIndex = 0;\n\n        if (selections === undefined || selections.length === 0){\n            selections = [{cursor: null}];\n        }\n\n        for (var i = 0, n = selections.length; i < n; i++) {\n            var pixelPos = this.getPixelPosition(selections[i].cursor, true);\n            if ((pixelPos.top > config.height + config.offset ||\n                 pixelPos.top < 0) && i > 1) {\n                continue;\n            }\n\n            var element = this.cursors[cursorIndex++] || this.addCursor();\n            var style = element.style;\n            \n            if (!this.drawCursor) {\n                if (!this.isCursorInView(pixelPos, config)) {\n                    dom.setStyle(style, \"display\", \"none\");\n                } else {\n                    dom.setStyle(style, \"display\", \"block\");\n                    dom.translate(element, pixelPos.left, pixelPos.top);\n                    dom.setStyle(style, \"width\", Math.round(config.characterWidth) + \"px\");\n                    dom.setStyle(style, \"height\", config.lineHeight + \"px\");\n                }\n            } else {\n                this.drawCursor(element, pixelPos, config, selections[i], this.session);\n            }\n        }\n        while (this.cursors.length > cursorIndex)\n            this.removeCursor();\n\n        var overwrite = this.session.getOverwrite();\n        this.$setOverwrite(overwrite);\n        this.$pixelPos = pixelPos;\n        this.restartTimer();\n    };\n    \n    this.drawCursor = null;\n\n    this.$setOverwrite = function(overwrite) {\n        if (overwrite != this.overwrite) {\n            this.overwrite = overwrite;\n            if (overwrite)\n                dom.addCssClass(this.element, \"ace_overwrite-cursors\");\n            else\n                dom.removeCssClass(this.element, \"ace_overwrite-cursors\");\n        }\n    };\n\n    this.destroy = function() {\n        clearInterval(this.intervalId);\n        clearTimeout(this.timeoutId);\n    };\n\n}).call(Cursor.prototype);\n\nexports.Cursor = Cursor;\n\n});\n\nace.define(\"ace/scrollbar\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar event = require(\"./lib/event\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar MAX_SCROLL_H = 0x8000;\nvar ScrollBar = function(parent) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_scrollbar ace_scrollbar\" + this.classSuffix;\n\n    this.inner = dom.createElement(\"div\");\n    this.inner.className = \"ace_scrollbar-inner\";\n    this.inner.textContent = \"\\xa0\";\n    this.element.appendChild(this.inner);\n\n    parent.appendChild(this.element);\n\n    this.setVisible(false);\n    this.skipEvent = false;\n\n    event.addListener(this.element, \"scroll\", this.onScroll.bind(this));\n    event.addListener(this.element, \"mousedown\", event.preventDefault);\n};\n\n(function() {\n    oop.implement(this, EventEmitter);\n\n    this.setVisible = function(isVisible) {\n        this.element.style.display = isVisible ? \"\" : \"none\";\n        this.isVisible = isVisible;\n        this.coeff = 1;\n    };\n}).call(ScrollBar.prototype);\nvar VScrollBar = function(parent, renderer) {\n    ScrollBar.call(this, parent);\n    this.scrollTop = 0;\n    this.scrollHeight = 0;\n    renderer.$scrollbarWidth = \n    this.width = dom.scrollbarWidth(parent.ownerDocument);\n    this.inner.style.width =\n    this.element.style.width = (this.width || 15) + 5 + \"px\";\n    this.$minWidth = 0;\n};\n\noop.inherits(VScrollBar, ScrollBar);\n\n(function() {\n\n    this.classSuffix = '-v';\n    this.onScroll = function() {\n        if (!this.skipEvent) {\n            this.scrollTop = this.element.scrollTop;\n            if (this.coeff != 1) {\n                var h = this.element.clientHeight / this.scrollHeight;\n                this.scrollTop = this.scrollTop * (1 - h) / (this.coeff - h);\n            }\n            this._emit(\"scroll\", {data: this.scrollTop});\n        }\n        this.skipEvent = false;\n    };\n    this.getWidth = function() {\n        return Math.max(this.isVisible ? this.width : 0, this.$minWidth || 0);\n    };\n    this.setHeight = function(height) {\n        this.element.style.height = height + \"px\";\n    };\n    this.setInnerHeight = \n    this.setScrollHeight = function(height) {\n        this.scrollHeight = height;\n        if (height > MAX_SCROLL_H) {\n            this.coeff = MAX_SCROLL_H / height;\n            height = MAX_SCROLL_H;\n        } else if (this.coeff != 1) {\n            this.coeff = 1;\n        }\n        this.inner.style.height = height + \"px\";\n    };\n    this.setScrollTop = function(scrollTop) {\n        if (this.scrollTop != scrollTop) {\n            this.skipEvent = true;\n            this.scrollTop = scrollTop;\n            this.element.scrollTop = scrollTop * this.coeff;\n        }\n    };\n\n}).call(VScrollBar.prototype);\nvar HScrollBar = function(parent, renderer) {\n    ScrollBar.call(this, parent);\n    this.scrollLeft = 0;\n    this.height = renderer.$scrollbarWidth;\n    this.inner.style.height =\n    this.element.style.height = (this.height || 15) + 5 + \"px\";\n};\n\noop.inherits(HScrollBar, ScrollBar);\n\n(function() {\n\n    this.classSuffix = '-h';\n    this.onScroll = function() {\n        if (!this.skipEvent) {\n            this.scrollLeft = this.element.scrollLeft;\n            this._emit(\"scroll\", {data: this.scrollLeft});\n        }\n        this.skipEvent = false;\n    };\n    this.getHeight = function() {\n        return this.isVisible ? this.height : 0;\n    };\n    this.setWidth = function(width) {\n        this.element.style.width = width + \"px\";\n    };\n    this.setInnerWidth = function(width) {\n        this.inner.style.width = width + \"px\";\n    };\n    this.setScrollWidth = function(width) {\n        this.inner.style.width = width + \"px\";\n    };\n    this.setScrollLeft = function(scrollLeft) {\n        if (this.scrollLeft != scrollLeft) {\n            this.skipEvent = true;\n            this.scrollLeft = this.element.scrollLeft = scrollLeft;\n        }\n    };\n\n}).call(HScrollBar.prototype);\n\n\nexports.ScrollBar = VScrollBar; // backward compatibility\nexports.ScrollBarV = VScrollBar; // backward compatibility\nexports.ScrollBarH = HScrollBar; // backward compatibility\n\nexports.VScrollBar = VScrollBar;\nexports.HScrollBar = HScrollBar;\n});\n\nace.define(\"ace/renderloop\",[\"require\",\"exports\",\"module\",\"ace/lib/event\"], function(require, exports, module) {\n\"use strict\";\n\nvar event = require(\"./lib/event\");\n\n\nvar RenderLoop = function(onRender, win) {\n    this.onRender = onRender;\n    this.pending = false;\n    this.changes = 0;\n    this.$recursionLimit = 2;\n    this.window = win || window;\n    var _self = this;\n    this._flush = function(ts) {\n        _self.pending = false;\n        var changes = _self.changes;\n\n        if (changes) {\n            event.blockIdle(100);\n            _self.changes = 0;\n            _self.onRender(changes);\n        }\n        \n        if (_self.changes) {\n            if (_self.$recursionLimit-- < 0) return;\n            _self.schedule();\n        } else {\n            _self.$recursionLimit = 2;\n        }\n    };\n};\n\n(function() {\n\n    this.schedule = function(change) {\n        this.changes = this.changes | change;\n        if (this.changes && !this.pending) {\n            event.nextFrame(this._flush);\n            this.pending = true;\n        }\n    };\n\n    this.clear = function(change) {\n        var changes = this.changes;\n        this.changes = 0;\n        return changes;\n    };\n\n}).call(RenderLoop.prototype);\n\nexports.RenderLoop = RenderLoop;\n});\n\nace.define(\"ace/layer/font_metrics\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/lib/event\",\"ace/lib/useragent\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\nvar oop = require(\"../lib/oop\");\nvar dom = require(\"../lib/dom\");\nvar lang = require(\"../lib/lang\");\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\n\nvar CHAR_COUNT = 256;\nvar USE_OBSERVER = typeof ResizeObserver == \"function\";\nvar L = 200;\n\nvar FontMetrics = exports.FontMetrics = function(parentEl) {\n    this.el = dom.createElement(\"div\");\n    this.$setMeasureNodeStyles(this.el.style, true);\n    \n    this.$main = dom.createElement(\"div\");\n    this.$setMeasureNodeStyles(this.$main.style);\n    \n    this.$measureNode = dom.createElement(\"div\");\n    this.$setMeasureNodeStyles(this.$measureNode.style);\n    \n    \n    this.el.appendChild(this.$main);\n    this.el.appendChild(this.$measureNode);\n    parentEl.appendChild(this.el);\n    \n    this.$measureNode.textContent = lang.stringRepeat(\"X\", CHAR_COUNT);\n    \n    this.$characterSize = {width: 0, height: 0};\n    \n    \n    if (USE_OBSERVER)\n        this.$addObserver();\n    else\n        this.checkForSizeChanges();\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n        \n    this.$characterSize = {width: 0, height: 0};\n    \n    this.$setMeasureNodeStyles = function(style, isRoot) {\n        style.width = style.height = \"auto\";\n        style.left = style.top = \"0px\";\n        style.visibility = \"hidden\";\n        style.position = \"absolute\";\n        style.whiteSpace = \"pre\";\n\n        if (useragent.isIE < 8) {\n            style[\"font-family\"] = \"inherit\";\n        } else {\n            style.font = \"inherit\";\n        }\n        style.overflow = isRoot ? \"hidden\" : \"visible\";\n    };\n\n    this.checkForSizeChanges = function(size) {\n        if (size === undefined)\n            size = this.$measureSizes();\n        if (size && (this.$characterSize.width !== size.width || this.$characterSize.height !== size.height)) {\n            this.$measureNode.style.fontWeight = \"bold\";\n            var boldSize = this.$measureSizes();\n            this.$measureNode.style.fontWeight = \"\";\n            this.$characterSize = size;\n            this.charSizes = Object.create(null);\n            this.allowBoldFonts = boldSize && boldSize.width === size.width && boldSize.height === size.height;\n            this._emit(\"changeCharacterSize\", {data: size});\n        }\n    };\n    \n    this.$addObserver = function() {\n        var self = this;\n        this.$observer = new window.ResizeObserver(function(e) {\n            self.checkForSizeChanges();\n        });\n        this.$observer.observe(this.$measureNode);\n    };\n\n    this.$pollSizeChanges = function() {\n        if (this.$pollSizeChangesTimer || this.$observer)\n            return this.$pollSizeChangesTimer;\n        var self = this;\n        \n        return this.$pollSizeChangesTimer = event.onIdle(function cb() {\n            self.checkForSizeChanges();\n            event.onIdle(cb, 500);\n        }, 500);\n    };\n    \n    this.setPolling = function(val) {\n        if (val) {\n            this.$pollSizeChanges();\n        } else if (this.$pollSizeChangesTimer) {\n            clearInterval(this.$pollSizeChangesTimer);\n            this.$pollSizeChangesTimer = 0;\n        }\n    };\n\n    this.$measureSizes = function(node) {\n        var size = {\n            height: (node || this.$measureNode).clientHeight,\n            width: (node || this.$measureNode).clientWidth / CHAR_COUNT\n        };\n        if (size.width === 0 || size.height === 0)\n            return null;\n        return size;\n    };\n\n    this.$measureCharWidth = function(ch) {\n        this.$main.textContent = lang.stringRepeat(ch, CHAR_COUNT);\n        var rect = this.$main.getBoundingClientRect();\n        return rect.width / CHAR_COUNT;\n    };\n    \n    this.getCharacterWidth = function(ch) {\n        var w = this.charSizes[ch];\n        if (w === undefined) {\n            w = this.charSizes[ch] = this.$measureCharWidth(ch) / this.$characterSize.width;\n        }\n        return w;\n    };\n\n    this.destroy = function() {\n        clearInterval(this.$pollSizeChangesTimer);\n        if (this.$observer)\n            this.$observer.disconnect();\n        if (this.el && this.el.parentNode)\n            this.el.parentNode.removeChild(this.el);\n    };\n\n    \n    this.$getZoom = function getZoom(element) {\n        if (!element || !element.parentElement) return 1;\n        return (window.getComputedStyle(element).zoom || 1) * getZoom(element.parentElement);\n    };\n    this.$initTransformMeasureNodes = function() {\n        var t = function(t, l) {\n            return [\"div\", {\n                style: \"position: absolute;top:\" + t + \"px;left:\" + l + \"px;\"\n            }];\n        };\n        this.els = dom.buildDom([t(0, 0), t(L, 0), t(0, L), t(L, L)], this.el);\n    };\n    this.transformCoordinates = function(clientPos, elPos) {\n        if (clientPos) {\n            var zoom = this.$getZoom(this.el);\n            clientPos = mul(1 / zoom, clientPos);\n        }\n        function solve(l1, l2, r) {\n            var det = l1[1] * l2[0] - l1[0] * l2[1];\n            return [\n                (-l2[1] * r[0] + l2[0] * r[1]) / det,\n                (+l1[1] * r[0] - l1[0] * r[1]) / det\n            ];\n        }\n        function sub(a, b) { return [a[0] - b[0], a[1] - b[1]]; }\n        function add(a, b) { return [a[0] + b[0], a[1] + b[1]]; }\n        function mul(a, b) { return [a * b[0], a * b[1]]; }\n\n        if (!this.els)\n            this.$initTransformMeasureNodes();\n        \n        function p(el) {\n            var r = el.getBoundingClientRect();\n            return [r.left, r.top];\n        }\n\n        var a = p(this.els[0]);\n        var b = p(this.els[1]);\n        var c = p(this.els[2]);\n        var d = p(this.els[3]);\n\n        var h = solve(sub(d, b), sub(d, c), sub(add(b, c), add(d, a)));\n\n        var m1 = mul(1 + h[0], sub(b, a));\n        var m2 = mul(1 + h[1], sub(c, a));\n        \n        if (elPos) {\n            var x = elPos;\n            var k = h[0] * x[0] / L + h[1] * x[1] / L + 1;\n            var ut = add(mul(x[0], m1), mul(x[1], m2));\n            return  add(mul(1 / k / L, ut), a);\n        }\n        var u = sub(clientPos, a);\n        var f = solve(sub(m1, mul(h[0], u)), sub(m2, mul(h[1], u)), u);\n        return mul(L, f);\n    };\n    \n}).call(FontMetrics.prototype);\n\n});\n\nace.define(\"ace/virtual_renderer\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/config\",\"ace/layer/gutter\",\"ace/layer/marker\",\"ace/layer/text\",\"ace/layer/cursor\",\"ace/scrollbar\",\"ace/scrollbar\",\"ace/renderloop\",\"ace/layer/font_metrics\",\"ace/lib/event_emitter\",\"ace/lib/useragent\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar config = require(\"./config\");\nvar GutterLayer = require(\"./layer/gutter\").Gutter;\nvar MarkerLayer = require(\"./layer/marker\").Marker;\nvar TextLayer = require(\"./layer/text\").Text;\nvar CursorLayer = require(\"./layer/cursor\").Cursor;\nvar HScrollBar = require(\"./scrollbar\").HScrollBar;\nvar VScrollBar = require(\"./scrollbar\").VScrollBar;\nvar RenderLoop = require(\"./renderloop\").RenderLoop;\nvar FontMetrics = require(\"./layer/font_metrics\").FontMetrics;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar editorCss = \"\\\n.ace_br1 {border-top-left-radius    : 3px;}\\\n.ace_br2 {border-top-right-radius   : 3px;}\\\n.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\\\n.ace_br4 {border-bottom-right-radius: 3px;}\\\n.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\\\n.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\\\n.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\\\n.ace_br8 {border-bottom-left-radius : 3px;}\\\n.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\\\n.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\\\n.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\\\n.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\\n.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\\n.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\\n.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\\\n.ace_editor {\\\nposition: relative;\\\noverflow: hidden;\\\npadding: 0;\\\nfont: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;\\\ndirection: ltr;\\\ntext-align: left;\\\n-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\\n}\\\n.ace_scroller {\\\nposition: absolute;\\\noverflow: hidden;\\\ntop: 0;\\\nbottom: 0;\\\nbackground-color: inherit;\\\n-ms-user-select: none;\\\n-moz-user-select: none;\\\n-webkit-user-select: none;\\\nuser-select: none;\\\ncursor: text;\\\n}\\\n.ace_content {\\\nposition: absolute;\\\nbox-sizing: border-box;\\\nmin-width: 100%;\\\ncontain: style size layout;\\\nfont-variant-ligatures: no-common-ligatures;\\\n}\\\n.ace_dragging .ace_scroller:before{\\\nposition: absolute;\\\ntop: 0;\\\nleft: 0;\\\nright: 0;\\\nbottom: 0;\\\ncontent: '';\\\nbackground: rgba(250, 250, 250, 0.01);\\\nz-index: 1000;\\\n}\\\n.ace_dragging.ace_dark .ace_scroller:before{\\\nbackground: rgba(0, 0, 0, 0.01);\\\n}\\\n.ace_selecting, .ace_selecting * {\\\ncursor: text !important;\\\n}\\\n.ace_gutter {\\\nposition: absolute;\\\noverflow : hidden;\\\nwidth: auto;\\\ntop: 0;\\\nbottom: 0;\\\nleft: 0;\\\ncursor: default;\\\nz-index: 4;\\\n-ms-user-select: none;\\\n-moz-user-select: none;\\\n-webkit-user-select: none;\\\nuser-select: none;\\\ncontain: style size layout;\\\n}\\\n.ace_gutter-active-line {\\\nposition: absolute;\\\nleft: 0;\\\nright: 0;\\\n}\\\n.ace_scroller.ace_scroll-left {\\\nbox-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\\\n}\\\n.ace_gutter-cell {\\\nposition: absolute;\\\ntop: 0;\\\nleft: 0;\\\nright: 0;\\\npadding-left: 19px;\\\npadding-right: 6px;\\\nbackground-repeat: no-repeat;\\\n}\\\n.ace_gutter-cell.ace_error {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==\\\");\\\nbackground-repeat: no-repeat;\\\nbackground-position: 2px center;\\\n}\\\n.ace_gutter-cell.ace_warning {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==\\\");\\\nbackground-position: 2px center;\\\n}\\\n.ace_gutter-cell.ace_info {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=\\\");\\\nbackground-position: 2px center;\\\n}\\\n.ace_dark .ace_gutter-cell.ace_info {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC\\\");\\\n}\\\n.ace_scrollbar {\\\ncontain: strict;\\\nposition: absolute;\\\nright: 0;\\\nbottom: 0;\\\nz-index: 6;\\\n}\\\n.ace_scrollbar-inner {\\\nposition: absolute;\\\ncursor: text;\\\nleft: 0;\\\ntop: 0;\\\n}\\\n.ace_scrollbar-v{\\\noverflow-x: hidden;\\\noverflow-y: scroll;\\\ntop: 0;\\\n}\\\n.ace_scrollbar-h {\\\noverflow-x: scroll;\\\noverflow-y: hidden;\\\nleft: 0;\\\n}\\\n.ace_print-margin {\\\nposition: absolute;\\\nheight: 100%;\\\n}\\\n.ace_text-input {\\\nposition: absolute;\\\nz-index: 0;\\\nwidth: 0.5em;\\\nheight: 1em;\\\nopacity: 0;\\\nbackground: transparent;\\\n-moz-appearance: none;\\\nappearance: none;\\\nborder: none;\\\nresize: none;\\\noutline: none;\\\noverflow: hidden;\\\nfont: inherit;\\\npadding: 0 1px;\\\nmargin: 0 -1px;\\\ncontain: strict;\\\n-ms-user-select: text;\\\n-moz-user-select: text;\\\n-webkit-user-select: text;\\\nuser-select: text;\\\nwhite-space: pre!important;\\\n}\\\n.ace_text-input.ace_composition {\\\nbackground: transparent;\\\ncolor: inherit;\\\nz-index: 1000;\\\nopacity: 1;\\\n}\\\n.ace_composition_placeholder { color: transparent }\\\n.ace_composition_marker { \\\nborder-bottom: 1px solid;\\\nposition: absolute;\\\nborder-radius: 0;\\\nmargin-top: 1px;\\\n}\\\n[ace_nocontext=true] {\\\ntransform: none!important;\\\nfilter: none!important;\\\nclip-path: none!important;\\\nmask : none!important;\\\ncontain: none!important;\\\nperspective: none!important;\\\nmix-blend-mode: initial!important;\\\nz-index: auto;\\\n}\\\n.ace_layer {\\\nz-index: 1;\\\nposition: absolute;\\\noverflow: hidden;\\\nword-wrap: normal;\\\nwhite-space: pre;\\\nheight: 100%;\\\nwidth: 100%;\\\nbox-sizing: border-box;\\\npointer-events: none;\\\n}\\\n.ace_gutter-layer {\\\nposition: relative;\\\nwidth: auto;\\\ntext-align: right;\\\npointer-events: auto;\\\nheight: 1000000px;\\\ncontain: style size layout;\\\n}\\\n.ace_text-layer {\\\nfont: inherit !important;\\\nposition: absolute;\\\nheight: 1000000px;\\\nwidth: 1000000px;\\\ncontain: style size layout;\\\n}\\\n.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {\\\ncontain: style size layout;\\\nposition: absolute;\\\ntop: 0;\\\nleft: 0;\\\nright: 0;\\\n}\\\n.ace_hidpi .ace_text-layer,\\\n.ace_hidpi .ace_gutter-layer,\\\n.ace_hidpi .ace_content,\\\n.ace_hidpi .ace_gutter {\\\ncontain: strict;\\\nwill-change: transform;\\\n}\\\n.ace_hidpi .ace_text-layer > .ace_line, \\\n.ace_hidpi .ace_text-layer > .ace_line_group {\\\ncontain: strict;\\\n}\\\n.ace_cjk {\\\ndisplay: inline-block;\\\ntext-align: center;\\\n}\\\n.ace_cursor-layer {\\\nz-index: 4;\\\n}\\\n.ace_cursor {\\\nz-index: 4;\\\nposition: absolute;\\\nbox-sizing: border-box;\\\nborder-left: 2px solid;\\\ntransform: translatez(0);\\\n}\\\n.ace_multiselect .ace_cursor {\\\nborder-left-width: 1px;\\\n}\\\n.ace_slim-cursors .ace_cursor {\\\nborder-left-width: 1px;\\\n}\\\n.ace_overwrite-cursors .ace_cursor {\\\nborder-left-width: 0;\\\nborder-bottom: 1px solid;\\\n}\\\n.ace_hidden-cursors .ace_cursor {\\\nopacity: 0.2;\\\n}\\\n.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {\\\nopacity: 0;\\\n}\\\n.ace_smooth-blinking .ace_cursor {\\\ntransition: opacity 0.18s;\\\n}\\\n.ace_animate-blinking .ace_cursor {\\\nanimation-duration: 1000ms;\\\nanimation-timing-function: step-end;\\\nanimation-name: blink-ace-animate;\\\nanimation-iteration-count: infinite;\\\n}\\\n.ace_animate-blinking.ace_smooth-blinking .ace_cursor {\\\nanimation-duration: 1000ms;\\\nanimation-timing-function: ease-in-out;\\\nanimation-name: blink-ace-animate-smooth;\\\n}\\\n@keyframes blink-ace-animate {\\\nfrom, to { opacity: 1; }\\\n60% { opacity: 0; }\\\n}\\\n@keyframes blink-ace-animate-smooth {\\\nfrom, to { opacity: 1; }\\\n45% { opacity: 1; }\\\n60% { opacity: 0; }\\\n85% { opacity: 0; }\\\n}\\\n.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\\\nposition: absolute;\\\nz-index: 3;\\\n}\\\n.ace_marker-layer .ace_selection {\\\nposition: absolute;\\\nz-index: 5;\\\n}\\\n.ace_marker-layer .ace_bracket {\\\nposition: absolute;\\\nz-index: 6;\\\n}\\\n.ace_marker-layer .ace_error_bracket {\\\nposition: absolute;\\\nborder-bottom: 1px solid #DE5555;\\\nborder-radius: 0;\\\n}\\\n.ace_marker-layer .ace_active-line {\\\nposition: absolute;\\\nz-index: 2;\\\n}\\\n.ace_marker-layer .ace_selected-word {\\\nposition: absolute;\\\nz-index: 4;\\\nbox-sizing: border-box;\\\n}\\\n.ace_line .ace_fold {\\\nbox-sizing: border-box;\\\ndisplay: inline-block;\\\nheight: 11px;\\\nmargin-top: -2px;\\\nvertical-align: middle;\\\nbackground-image:\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\\\"),\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=\\\");\\\nbackground-repeat: no-repeat, repeat-x;\\\nbackground-position: center center, top left;\\\ncolor: transparent;\\\nborder: 1px solid black;\\\nborder-radius: 2px;\\\ncursor: pointer;\\\npointer-events: auto;\\\n}\\\n.ace_dark .ace_fold {\\\n}\\\n.ace_fold:hover{\\\nbackground-image:\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\\\"),\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC\\\");\\\n}\\\n.ace_tooltip {\\\nbackground-color: #FFF;\\\nbackground-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));\\\nborder: 1px solid gray;\\\nborder-radius: 1px;\\\nbox-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\\\ncolor: black;\\\nmax-width: 100%;\\\npadding: 3px 4px;\\\nposition: fixed;\\\nz-index: 999999;\\\nbox-sizing: border-box;\\\ncursor: default;\\\nwhite-space: pre;\\\nword-wrap: break-word;\\\nline-height: normal;\\\nfont-style: normal;\\\nfont-weight: normal;\\\nletter-spacing: normal;\\\npointer-events: none;\\\n}\\\n.ace_folding-enabled > .ace_gutter-cell {\\\npadding-right: 13px;\\\n}\\\n.ace_fold-widget {\\\nbox-sizing: border-box;\\\nmargin: 0 -12px 0 1px;\\\ndisplay: none;\\\nwidth: 11px;\\\nvertical-align: top;\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==\\\");\\\nbackground-repeat: no-repeat;\\\nbackground-position: center;\\\nborder-radius: 3px;\\\nborder: 1px solid transparent;\\\ncursor: pointer;\\\n}\\\n.ace_folding-enabled .ace_fold-widget {\\\ndisplay: inline-block;   \\\n}\\\n.ace_fold-widget.ace_end {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==\\\");\\\n}\\\n.ace_fold-widget.ace_closed {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==\\\");\\\n}\\\n.ace_fold-widget:hover {\\\nborder: 1px solid rgba(0, 0, 0, 0.3);\\\nbackground-color: rgba(255, 255, 255, 0.2);\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\\\n}\\\n.ace_fold-widget:active {\\\nborder: 1px solid rgba(0, 0, 0, 0.4);\\\nbackground-color: rgba(0, 0, 0, 0.05);\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\\\n}\\\n.ace_dark .ace_fold-widget {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC\\\");\\\n}\\\n.ace_dark .ace_fold-widget.ace_end {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==\\\");\\\n}\\\n.ace_dark .ace_fold-widget.ace_closed {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==\\\");\\\n}\\\n.ace_dark .ace_fold-widget:hover {\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\\\nbackground-color: rgba(255, 255, 255, 0.1);\\\n}\\\n.ace_dark .ace_fold-widget:active {\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\\\n}\\\n.ace_inline_button {\\\nborder: 1px solid lightgray;\\\ndisplay: inline-block;\\\nmargin: -1px 8px;\\\npadding: 0 5px;\\\npointer-events: auto;\\\ncursor: pointer;\\\n}\\\n.ace_inline_button:hover {\\\nborder-color: gray;\\\nbackground: rgba(200,200,200,0.2);\\\ndisplay: inline-block;\\\npointer-events: auto;\\\n}\\\n.ace_fold-widget.ace_invalid {\\\nbackground-color: #FFB4B4;\\\nborder-color: #DE5555;\\\n}\\\n.ace_fade-fold-widgets .ace_fold-widget {\\\ntransition: opacity 0.4s ease 0.05s;\\\nopacity: 0;\\\n}\\\n.ace_fade-fold-widgets:hover .ace_fold-widget {\\\ntransition: opacity 0.05s ease 0.05s;\\\nopacity:1;\\\n}\\\n.ace_underline {\\\ntext-decoration: underline;\\\n}\\\n.ace_bold {\\\nfont-weight: bold;\\\n}\\\n.ace_nobold .ace_bold {\\\nfont-weight: normal;\\\n}\\\n.ace_italic {\\\nfont-style: italic;\\\n}\\\n.ace_error-marker {\\\nbackground-color: rgba(255, 0, 0,0.2);\\\nposition: absolute;\\\nz-index: 9;\\\n}\\\n.ace_highlight-marker {\\\nbackground-color: rgba(255, 255, 0,0.2);\\\nposition: absolute;\\\nz-index: 8;\\\n}\\\n.ace_mobile-menu {\\\nposition: absolute;\\\nline-height: 1.5;\\\nborder-radius: 4px;\\\n-ms-user-select: none;\\\n-moz-user-select: none;\\\n-webkit-user-select: none;\\\nuser-select: none;\\\nbackground: white;\\\nbox-shadow: 1px 3px 2px grey;\\\nborder: 1px solid #dcdcdc;\\\ncolor: black;\\\n}\\\n.ace_dark > .ace_mobile-menu {\\\nbackground: #333;\\\ncolor: #ccc;\\\nbox-shadow: 1px 3px 2px grey;\\\nborder: 1px solid #444;\\\n}\\\n.ace_mobile-button {\\\npadding: 2px;\\\ncursor: pointer;\\\noverflow: hidden;\\\n}\\\n.ace_mobile-button:hover {\\\nbackground-color: #eee;\\\nopacity:1;\\\n}\\\n.ace_mobile-button:active {\\\nbackground-color: #ddd;\\\n}\\\n.ace_placeholder {\\\nfont-family: arial;\\\ntransform: scale(0.9);\\\ntransform-origin: left;\\\nwhite-space: pre;\\\nopacity: 0.7;\\\nmargin: 0 10px;\\\n}\";\n\nvar useragent = require(\"./lib/useragent\");\nvar HIDE_TEXTAREA = useragent.isIE;\n\ndom.importCssString(editorCss, \"ace_editor.css\");\n\nvar VirtualRenderer = function(container, theme) {\n    var _self = this;\n\n    this.container = container || dom.createElement(\"div\");\n\n    dom.addCssClass(this.container, \"ace_editor\");\n    if (dom.HI_DPI) dom.addCssClass(this.container, \"ace_hidpi\");\n\n    this.setTheme(theme);\n\n    this.$gutter = dom.createElement(\"div\");\n    this.$gutter.className = \"ace_gutter\";\n    this.container.appendChild(this.$gutter);\n    this.$gutter.setAttribute(\"aria-hidden\", true);\n\n    this.scroller = dom.createElement(\"div\");\n    this.scroller.className = \"ace_scroller\";\n    \n    this.container.appendChild(this.scroller);\n\n    this.content = dom.createElement(\"div\");\n    this.content.className = \"ace_content\";\n    this.scroller.appendChild(this.content);\n\n    this.$gutterLayer = new GutterLayer(this.$gutter);\n    this.$gutterLayer.on(\"changeGutterWidth\", this.onGutterResize.bind(this));\n\n    this.$markerBack = new MarkerLayer(this.content);\n\n    var textLayer = this.$textLayer = new TextLayer(this.content);\n    this.canvas = textLayer.element;\n\n    this.$markerFront = new MarkerLayer(this.content);\n\n    this.$cursorLayer = new CursorLayer(this.content);\n    this.$horizScroll = false;\n    this.$vScroll = false;\n\n    this.scrollBar = \n    this.scrollBarV = new VScrollBar(this.container, this);\n    this.scrollBarH = new HScrollBar(this.container, this);\n    this.scrollBarV.on(\"scroll\", function(e) {\n        if (!_self.$scrollAnimation)\n            _self.session.setScrollTop(e.data - _self.scrollMargin.top);\n    });\n    this.scrollBarH.on(\"scroll\", function(e) {\n        if (!_self.$scrollAnimation)\n            _self.session.setScrollLeft(e.data - _self.scrollMargin.left);\n    });\n\n    this.scrollTop = 0;\n    this.scrollLeft = 0;\n\n    this.cursorPos = {\n        row : 0,\n        column : 0\n    };\n\n    this.$fontMetrics = new FontMetrics(this.container);\n    this.$textLayer.$setFontMetrics(this.$fontMetrics);\n    this.$textLayer.on(\"changeCharacterSize\", function(e) {\n        _self.updateCharacterSize();\n        _self.onResize(true, _self.gutterWidth, _self.$size.width, _self.$size.height);\n        _self._signal(\"changeCharacterSize\", e);\n    });\n\n    this.$size = {\n        width: 0,\n        height: 0,\n        scrollerHeight: 0,\n        scrollerWidth: 0,\n        $dirty: true\n    };\n\n    this.layerConfig = {\n        width : 1,\n        padding : 0,\n        firstRow : 0,\n        firstRowScreen: 0,\n        lastRow : 0,\n        lineHeight : 0,\n        characterWidth : 0,\n        minHeight : 1,\n        maxHeight : 1,\n        offset : 0,\n        height : 1,\n        gutterOffset: 1\n    };\n    \n    this.scrollMargin = {\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0,\n        v: 0,\n        h: 0\n    };\n    \n    this.margin = {\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0,\n        v: 0,\n        h: 0\n    };\n    \n    this.$keepTextAreaAtCursor = !useragent.isIOS;\n\n    this.$loop = new RenderLoop(\n        this.$renderChanges.bind(this),\n        this.container.ownerDocument.defaultView\n    );\n    this.$loop.schedule(this.CHANGE_FULL);\n\n    this.updateCharacterSize();\n    this.setPadding(4);\n    config.resetOptions(this);\n    config._signal(\"renderer\", this);\n};\n\n(function() {\n\n    this.CHANGE_CURSOR = 1;\n    this.CHANGE_MARKER = 2;\n    this.CHANGE_GUTTER = 4;\n    this.CHANGE_SCROLL = 8;\n    this.CHANGE_LINES = 16;\n    this.CHANGE_TEXT = 32;\n    this.CHANGE_SIZE = 64;\n    this.CHANGE_MARKER_BACK = 128;\n    this.CHANGE_MARKER_FRONT = 256;\n    this.CHANGE_FULL = 512;\n    this.CHANGE_H_SCROLL = 1024;\n\n    oop.implement(this, EventEmitter);\n\n    this.updateCharacterSize = function() {\n        if (this.$textLayer.allowBoldFonts != this.$allowBoldFonts) {\n            this.$allowBoldFonts = this.$textLayer.allowBoldFonts;\n            this.setStyle(\"ace_nobold\", !this.$allowBoldFonts);\n        }\n\n        this.layerConfig.characterWidth =\n        this.characterWidth = this.$textLayer.getCharacterWidth();\n        this.layerConfig.lineHeight =\n        this.lineHeight = this.$textLayer.getLineHeight();\n        this.$updatePrintMargin();\n        dom.setStyle(this.scroller.style, \"line-height\", this.lineHeight + \"px\");\n    };\n    this.setSession = function(session) {\n        if (this.session)\n            this.session.doc.off(\"changeNewLineMode\", this.onChangeNewLineMode);\n            \n        this.session = session;\n        if (session && this.scrollMargin.top && session.getScrollTop() <= 0)\n            session.setScrollTop(-this.scrollMargin.top);\n\n        this.$cursorLayer.setSession(session);\n        this.$markerBack.setSession(session);\n        this.$markerFront.setSession(session);\n        this.$gutterLayer.setSession(session);\n        this.$textLayer.setSession(session);\n        if (!session)\n            return;\n        \n        this.$loop.schedule(this.CHANGE_FULL);\n        this.session.$setFontMetrics(this.$fontMetrics);\n        this.scrollBarH.scrollLeft = this.scrollBarV.scrollTop = null;\n        \n        this.onChangeNewLineMode = this.onChangeNewLineMode.bind(this);\n        this.onChangeNewLineMode();\n        this.session.doc.on(\"changeNewLineMode\", this.onChangeNewLineMode);\n    };\n    this.updateLines = function(firstRow, lastRow, force) {\n        if (lastRow === undefined)\n            lastRow = Infinity;\n\n        if (!this.$changedLines) {\n            this.$changedLines = {\n                firstRow: firstRow,\n                lastRow: lastRow\n            };\n        }\n        else {\n            if (this.$changedLines.firstRow > firstRow)\n                this.$changedLines.firstRow = firstRow;\n\n            if (this.$changedLines.lastRow < lastRow)\n                this.$changedLines.lastRow = lastRow;\n        }\n        if (this.$changedLines.lastRow < this.layerConfig.firstRow) {\n            if (force)\n                this.$changedLines.lastRow = this.layerConfig.lastRow;\n            else\n                return;\n        }\n        if (this.$changedLines.firstRow > this.layerConfig.lastRow)\n            return;\n        this.$loop.schedule(this.CHANGE_LINES);\n    };\n\n    this.onChangeNewLineMode = function() {\n        this.$loop.schedule(this.CHANGE_TEXT);\n        this.$textLayer.$updateEolChar();\n        this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR);\n    };\n    \n    this.onChangeTabSize = function() {\n        this.$loop.schedule(this.CHANGE_TEXT | this.CHANGE_MARKER);\n        this.$textLayer.onChangeTabSize();\n    };\n    this.updateText = function() {\n        this.$loop.schedule(this.CHANGE_TEXT);\n    };\n    this.updateFull = function(force) {\n        if (force)\n            this.$renderChanges(this.CHANGE_FULL, true);\n        else\n            this.$loop.schedule(this.CHANGE_FULL);\n    };\n    this.updateFontSize = function() {\n        this.$textLayer.checkForSizeChanges();\n    };\n\n    this.$changes = 0;\n    this.$updateSizeAsync = function() {\n        if (this.$loop.pending)\n            this.$size.$dirty = true;\n        else\n            this.onResize();\n    };\n    this.onResize = function(force, gutterWidth, width, height) {\n        if (this.resizing > 2)\n            return;\n        else if (this.resizing > 0)\n            this.resizing++;\n        else\n            this.resizing = force ? 1 : 0;\n        var el = this.container;\n        if (!height)\n            height = el.clientHeight || el.scrollHeight;\n        if (!width)\n            width = el.clientWidth || el.scrollWidth;\n        var changes = this.$updateCachedSize(force, gutterWidth, width, height);\n\n        \n        if (!this.$size.scrollerHeight || (!width && !height))\n            return this.resizing = 0;\n\n        if (force)\n            this.$gutterLayer.$padding = null;\n\n        if (force)\n            this.$renderChanges(changes | this.$changes, true);\n        else\n            this.$loop.schedule(changes | this.$changes);\n\n        if (this.resizing)\n            this.resizing = 0;\n        this.scrollBarV.scrollLeft = this.scrollBarV.scrollTop = null;\n    };\n    \n    this.$updateCachedSize = function(force, gutterWidth, width, height) {\n        height -= (this.$extraHeight || 0);\n        var changes = 0;\n        var size = this.$size;\n        var oldSize = {\n            width: size.width,\n            height: size.height,\n            scrollerHeight: size.scrollerHeight,\n            scrollerWidth: size.scrollerWidth\n        };\n        if (height && (force || size.height != height)) {\n            size.height = height;\n            changes |= this.CHANGE_SIZE;\n\n            size.scrollerHeight = size.height;\n            if (this.$horizScroll)\n                size.scrollerHeight -= this.scrollBarH.getHeight();\n            this.scrollBarV.element.style.bottom = this.scrollBarH.getHeight() + \"px\";\n\n            changes = changes | this.CHANGE_SCROLL;\n        }\n\n        if (width && (force || size.width != width)) {\n            changes |= this.CHANGE_SIZE;\n            size.width = width;\n            \n            if (gutterWidth == null)\n                gutterWidth = this.$showGutter ? this.$gutter.offsetWidth : 0;\n            \n            this.gutterWidth = gutterWidth;\n            \n            dom.setStyle(this.scrollBarH.element.style, \"left\", gutterWidth + \"px\");\n            dom.setStyle(this.scroller.style, \"left\", gutterWidth + this.margin.left + \"px\");\n            size.scrollerWidth = Math.max(0, width - gutterWidth - this.scrollBarV.getWidth() - this.margin.h);\n            dom.setStyle(this.$gutter.style, \"left\", this.margin.left + \"px\");\n            \n            var right = this.scrollBarV.getWidth() + \"px\";\n            dom.setStyle(this.scrollBarH.element.style, \"right\", right);\n            dom.setStyle(this.scroller.style, \"right\", right);\n            dom.setStyle(this.scroller.style, \"bottom\", this.scrollBarH.getHeight());\n\n            if (this.session && this.session.getUseWrapMode() && this.adjustWrapLimit() || force) {\n                changes |= this.CHANGE_FULL;\n            }\n        }\n        \n        size.$dirty = !width || !height;\n\n        if (changes)\n            this._signal(\"resize\", oldSize);\n\n        return changes;\n    };\n\n    this.onGutterResize = function(width) {\n        var gutterWidth = this.$showGutter ? width : 0;\n        if (gutterWidth != this.gutterWidth)\n            this.$changes |= this.$updateCachedSize(true, gutterWidth, this.$size.width, this.$size.height);\n\n        if (this.session.getUseWrapMode() && this.adjustWrapLimit()) {\n            this.$loop.schedule(this.CHANGE_FULL);\n        } else if (this.$size.$dirty) {\n            this.$loop.schedule(this.CHANGE_FULL);\n        } else {\n            this.$computeLayerConfig();\n        }\n    };\n    this.adjustWrapLimit = function() {\n        var availableWidth = this.$size.scrollerWidth - this.$padding * 2;\n        var limit = Math.floor(availableWidth / this.characterWidth);\n        return this.session.adjustWrapLimit(limit, this.$showPrintMargin && this.$printMarginColumn);\n    };\n    this.setAnimatedScroll = function(shouldAnimate){\n        this.setOption(\"animatedScroll\", shouldAnimate);\n    };\n    this.getAnimatedScroll = function() {\n        return this.$animatedScroll;\n    };\n    this.setShowInvisibles = function(showInvisibles) {\n        this.setOption(\"showInvisibles\", showInvisibles);\n        this.session.$bidiHandler.setShowInvisibles(showInvisibles);\n    };\n    this.getShowInvisibles = function() {\n        return this.getOption(\"showInvisibles\");\n    };\n    this.getDisplayIndentGuides = function() {\n        return this.getOption(\"displayIndentGuides\");\n    };\n\n    this.setDisplayIndentGuides = function(display) {\n        this.setOption(\"displayIndentGuides\", display);\n    };\n    this.setShowPrintMargin = function(showPrintMargin) {\n        this.setOption(\"showPrintMargin\", showPrintMargin);\n    };\n    this.getShowPrintMargin = function() {\n        return this.getOption(\"showPrintMargin\");\n    };\n    this.setPrintMarginColumn = function(showPrintMargin) {\n        this.setOption(\"printMarginColumn\", showPrintMargin);\n    };\n    this.getPrintMarginColumn = function() {\n        return this.getOption(\"printMarginColumn\");\n    };\n    this.getShowGutter = function(){\n        return this.getOption(\"showGutter\");\n    };\n    this.setShowGutter = function(show){\n        return this.setOption(\"showGutter\", show);\n    };\n\n    this.getFadeFoldWidgets = function(){\n        return this.getOption(\"fadeFoldWidgets\");\n    };\n\n    this.setFadeFoldWidgets = function(show) {\n        this.setOption(\"fadeFoldWidgets\", show);\n    };\n\n    this.setHighlightGutterLine = function(shouldHighlight) {\n        this.setOption(\"highlightGutterLine\", shouldHighlight);\n    };\n\n    this.getHighlightGutterLine = function() {\n        return this.getOption(\"highlightGutterLine\");\n    };\n\n    this.$updatePrintMargin = function() {\n        if (!this.$showPrintMargin && !this.$printMarginEl)\n            return;\n\n        if (!this.$printMarginEl) {\n            var containerEl = dom.createElement(\"div\");\n            containerEl.className = \"ace_layer ace_print-margin-layer\";\n            this.$printMarginEl = dom.createElement(\"div\");\n            this.$printMarginEl.className = \"ace_print-margin\";\n            containerEl.appendChild(this.$printMarginEl);\n            this.content.insertBefore(containerEl, this.content.firstChild);\n        }\n\n        var style = this.$printMarginEl.style;\n        style.left = Math.round(this.characterWidth * this.$printMarginColumn + this.$padding) + \"px\";\n        style.visibility = this.$showPrintMargin ? \"visible\" : \"hidden\";\n        \n        if (this.session && this.session.$wrap == -1)\n            this.adjustWrapLimit();\n    };\n    this.getContainerElement = function() {\n        return this.container;\n    };\n    this.getMouseEventTarget = function() {\n        return this.scroller;\n    };\n    this.getTextAreaContainer = function() {\n        return this.container;\n    };\n    this.$moveTextAreaToCursor = function() {\n        if (this.$isMousePressed) return;\n        var style = this.textarea.style;\n        var composition = this.$composition;\n        if (!this.$keepTextAreaAtCursor && !composition) {\n            dom.translate(this.textarea, -100, 0);\n            return;\n        }\n        var pixelPos = this.$cursorLayer.$pixelPos;\n        if (!pixelPos)\n            return;\n        if (composition && composition.markerRange)\n            pixelPos = this.$cursorLayer.getPixelPosition(composition.markerRange.start, true);\n        \n        var config = this.layerConfig;\n        var posTop = pixelPos.top;\n        var posLeft = pixelPos.left;\n        posTop -= config.offset;\n\n        var h = composition && composition.useTextareaForIME ? this.lineHeight : HIDE_TEXTAREA ? 0 : 1;\n        if (posTop < 0 || posTop > config.height - h) {\n            dom.translate(this.textarea, 0, 0);\n            return;\n        }\n\n        var w = 1;\n        var maxTop = this.$size.height - h;\n        if (!composition) {\n            posTop += this.lineHeight;\n        }\n        else {\n            if (composition.useTextareaForIME) {\n                var val = this.textarea.value;\n                w = this.characterWidth * (this.session.$getStringScreenWidth(val)[0]);\n            }\n            else {\n                posTop += this.lineHeight + 2;\n            }\n        }\n        \n        posLeft -= this.scrollLeft;\n        if (posLeft > this.$size.scrollerWidth - w)\n            posLeft = this.$size.scrollerWidth - w;\n\n        posLeft += this.gutterWidth + this.margin.left;\n\n        dom.setStyle(style, \"height\", h + \"px\");\n        dom.setStyle(style, \"width\", w + \"px\");\n        dom.translate(this.textarea, Math.min(posLeft, this.$size.scrollerWidth - w), Math.min(posTop, maxTop));\n    };\n    this.getFirstVisibleRow = function() {\n        return this.layerConfig.firstRow;\n    };\n    this.getFirstFullyVisibleRow = function() {\n        return this.layerConfig.firstRow + (this.layerConfig.offset === 0 ? 0 : 1);\n    };\n    this.getLastFullyVisibleRow = function() {\n        var config = this.layerConfig;\n        var lastRow = config.lastRow;\n        var top = this.session.documentToScreenRow(lastRow, 0) * config.lineHeight;\n        if (top - this.session.getScrollTop() > config.height - config.lineHeight)\n            return lastRow - 1;\n        return lastRow;\n    };\n    this.getLastVisibleRow = function() {\n        return this.layerConfig.lastRow;\n    };\n\n    this.$padding = null;\n    this.setPadding = function(padding) {\n        this.$padding = padding;\n        this.$textLayer.setPadding(padding);\n        this.$cursorLayer.setPadding(padding);\n        this.$markerFront.setPadding(padding);\n        this.$markerBack.setPadding(padding);\n        this.$loop.schedule(this.CHANGE_FULL);\n        this.$updatePrintMargin();\n    };\n    \n    this.setScrollMargin = function(top, bottom, left, right) {\n        var sm = this.scrollMargin;\n        sm.top = top|0;\n        sm.bottom = bottom|0;\n        sm.right = right|0;\n        sm.left = left|0;\n        sm.v = sm.top + sm.bottom;\n        sm.h = sm.left + sm.right;\n        if (sm.top && this.scrollTop <= 0 && this.session)\n            this.session.setScrollTop(-sm.top);\n        this.updateFull();\n    };\n    \n    this.setMargin = function(top, bottom, left, right) {\n        var sm = this.margin;\n        sm.top = top|0;\n        sm.bottom = bottom|0;\n        sm.right = right|0;\n        sm.left = left|0;\n        sm.v = sm.top + sm.bottom;\n        sm.h = sm.left + sm.right;\n        this.$updateCachedSize(true, this.gutterWidth, this.$size.width, this.$size.height);\n        this.updateFull();\n    };\n    this.getHScrollBarAlwaysVisible = function() {\n        return this.$hScrollBarAlwaysVisible;\n    };\n    this.setHScrollBarAlwaysVisible = function(alwaysVisible) {\n        this.setOption(\"hScrollBarAlwaysVisible\", alwaysVisible);\n    };\n    this.getVScrollBarAlwaysVisible = function() {\n        return this.$vScrollBarAlwaysVisible;\n    };\n    this.setVScrollBarAlwaysVisible = function(alwaysVisible) {\n        this.setOption(\"vScrollBarAlwaysVisible\", alwaysVisible);\n    };\n\n    this.$updateScrollBarV = function() {\n        var scrollHeight = this.layerConfig.maxHeight;\n        var scrollerHeight = this.$size.scrollerHeight;\n        if (!this.$maxLines && this.$scrollPastEnd) {\n            scrollHeight -= (scrollerHeight - this.lineHeight) * this.$scrollPastEnd;\n            if (this.scrollTop > scrollHeight - scrollerHeight) {\n                scrollHeight = this.scrollTop + scrollerHeight;\n                this.scrollBarV.scrollTop = null;\n            }\n        }\n        this.scrollBarV.setScrollHeight(scrollHeight + this.scrollMargin.v);\n        this.scrollBarV.setScrollTop(this.scrollTop + this.scrollMargin.top);\n    };\n    this.$updateScrollBarH = function() {\n        this.scrollBarH.setScrollWidth(this.layerConfig.width + 2 * this.$padding + this.scrollMargin.h);\n        this.scrollBarH.setScrollLeft(this.scrollLeft + this.scrollMargin.left);\n    };\n    \n    this.$frozen = false;\n    this.freeze = function() {\n        this.$frozen = true;\n    };\n    \n    this.unfreeze = function() {\n        this.$frozen = false;\n    };\n\n    this.$renderChanges = function(changes, force) {\n        if (this.$changes) {\n            changes |= this.$changes;\n            this.$changes = 0;\n        }\n        if ((!this.session || !this.container.offsetWidth || this.$frozen) || (!changes && !force)) {\n            this.$changes |= changes;\n            return; \n        } \n        if (this.$size.$dirty) {\n            this.$changes |= changes;\n            return this.onResize(true);\n        }\n        if (!this.lineHeight) {\n            this.$textLayer.checkForSizeChanges();\n        }\n        \n        this._signal(\"beforeRender\", changes);\n        \n        if (this.session && this.session.$bidiHandler)\n            this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);\n\n        var config = this.layerConfig;\n        if (changes & this.CHANGE_FULL ||\n            changes & this.CHANGE_SIZE ||\n            changes & this.CHANGE_TEXT ||\n            changes & this.CHANGE_LINES ||\n            changes & this.CHANGE_SCROLL ||\n            changes & this.CHANGE_H_SCROLL\n        ) {\n            changes |= this.$computeLayerConfig() | this.$loop.clear();\n            if (config.firstRow != this.layerConfig.firstRow && config.firstRowScreen == this.layerConfig.firstRowScreen) {\n                var st = this.scrollTop + (config.firstRow - this.layerConfig.firstRow) * this.lineHeight;\n                if (st > 0) {\n                    this.scrollTop = st;\n                    changes = changes | this.CHANGE_SCROLL;\n                    changes |= this.$computeLayerConfig() | this.$loop.clear();\n                }\n            }\n            config = this.layerConfig;\n            this.$updateScrollBarV();\n            if (changes & this.CHANGE_H_SCROLL)\n                this.$updateScrollBarH();\n            \n            dom.translate(this.content, -this.scrollLeft, -config.offset);\n            \n            var width = config.width + 2 * this.$padding + \"px\";\n            var height = config.minHeight + \"px\";\n            \n            dom.setStyle(this.content.style, \"width\", width);\n            dom.setStyle(this.content.style, \"height\", height);\n        }\n        if (changes & this.CHANGE_H_SCROLL) {\n            dom.translate(this.content, -this.scrollLeft, -config.offset);\n            this.scroller.className = this.scrollLeft <= 0 ? \"ace_scroller\" : \"ace_scroller ace_scroll-left\";\n        }\n        if (changes & this.CHANGE_FULL) {\n            this.$changedLines = null;\n            this.$textLayer.update(config);\n            if (this.$showGutter)\n                this.$gutterLayer.update(config);\n            this.$markerBack.update(config);\n            this.$markerFront.update(config);\n            this.$cursorLayer.update(config);\n            this.$moveTextAreaToCursor();\n            this._signal(\"afterRender\", changes);\n            return;\n        }\n        if (changes & this.CHANGE_SCROLL) {\n            this.$changedLines = null;\n            if (changes & this.CHANGE_TEXT || changes & this.CHANGE_LINES)\n                this.$textLayer.update(config);\n            else\n                this.$textLayer.scrollLines(config);\n\n            if (this.$showGutter) {\n                if (changes & this.CHANGE_GUTTER || changes & this.CHANGE_LINES)\n                    this.$gutterLayer.update(config);\n                else\n                    this.$gutterLayer.scrollLines(config);\n            }\n            this.$markerBack.update(config);\n            this.$markerFront.update(config);\n            this.$cursorLayer.update(config);\n            this.$moveTextAreaToCursor();\n            this._signal(\"afterRender\", changes);\n            return;\n        }\n\n        if (changes & this.CHANGE_TEXT) {\n            this.$changedLines = null;\n            this.$textLayer.update(config);\n            if (this.$showGutter)\n                this.$gutterLayer.update(config);\n        }\n        else if (changes & this.CHANGE_LINES) {\n            if (this.$updateLines() || (changes & this.CHANGE_GUTTER) && this.$showGutter)\n                this.$gutterLayer.update(config);\n        }\n        else if (changes & this.CHANGE_TEXT || changes & this.CHANGE_GUTTER) {\n            if (this.$showGutter)\n                this.$gutterLayer.update(config);\n        }\n        else if (changes & this.CHANGE_CURSOR) {\n            if (this.$highlightGutterLine)\n                this.$gutterLayer.updateLineHighlight(config);\n        }\n\n        if (changes & this.CHANGE_CURSOR) {\n            this.$cursorLayer.update(config);\n            this.$moveTextAreaToCursor();\n        }\n\n        if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_FRONT)) {\n            this.$markerFront.update(config);\n        }\n\n        if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_BACK)) {\n            this.$markerBack.update(config);\n        }\n\n        this._signal(\"afterRender\", changes);\n    };\n\n    \n    this.$autosize = function() {\n        var height = this.session.getScreenLength() * this.lineHeight;\n        var maxHeight = this.$maxLines * this.lineHeight;\n        var desiredHeight = Math.min(maxHeight, \n            Math.max((this.$minLines || 1) * this.lineHeight, height)\n        ) + this.scrollMargin.v + (this.$extraHeight || 0);\n        if (this.$horizScroll)\n            desiredHeight += this.scrollBarH.getHeight();\n        if (this.$maxPixelHeight && desiredHeight > this.$maxPixelHeight)\n            desiredHeight = this.$maxPixelHeight;\n        \n        var hideScrollbars = desiredHeight <= 2 * this.lineHeight;\n        var vScroll = !hideScrollbars && height > maxHeight;\n        \n        if (desiredHeight != this.desiredHeight ||\n            this.$size.height != this.desiredHeight || vScroll != this.$vScroll) {\n            if (vScroll != this.$vScroll) {\n                this.$vScroll = vScroll;\n                this.scrollBarV.setVisible(vScroll);\n            }\n            \n            var w = this.container.clientWidth;\n            this.container.style.height = desiredHeight + \"px\";\n            this.$updateCachedSize(true, this.$gutterWidth, w, desiredHeight);\n            this.desiredHeight = desiredHeight;\n            \n            this._signal(\"autosize\");\n        }\n    };\n    \n    this.$computeLayerConfig = function() {\n        var session = this.session;\n        var size = this.$size;\n        \n        var hideScrollbars = size.height <= 2 * this.lineHeight;\n        var screenLines = this.session.getScreenLength();\n        var maxHeight = screenLines * this.lineHeight;\n\n        var longestLine = this.$getLongestLine();\n        \n        var horizScroll = !hideScrollbars && (this.$hScrollBarAlwaysVisible ||\n            size.scrollerWidth - longestLine - 2 * this.$padding < 0);\n\n        var hScrollChanged = this.$horizScroll !== horizScroll;\n        if (hScrollChanged) {\n            this.$horizScroll = horizScroll;\n            this.scrollBarH.setVisible(horizScroll);\n        }\n        var vScrollBefore = this.$vScroll; // autosize can change vscroll value in which case we need to update longestLine\n        if (this.$maxLines && this.lineHeight > 1)\n            this.$autosize();\n\n        var minHeight = size.scrollerHeight + this.lineHeight;\n        \n        var scrollPastEnd = !this.$maxLines && this.$scrollPastEnd\n            ? (size.scrollerHeight - this.lineHeight) * this.$scrollPastEnd\n            : 0;\n        maxHeight += scrollPastEnd;\n        \n        var sm = this.scrollMargin;\n        this.session.setScrollTop(Math.max(-sm.top,\n            Math.min(this.scrollTop, maxHeight - size.scrollerHeight + sm.bottom)));\n\n        this.session.setScrollLeft(Math.max(-sm.left, Math.min(this.scrollLeft, \n            longestLine + 2 * this.$padding - size.scrollerWidth + sm.right)));\n        \n        var vScroll = !hideScrollbars && (this.$vScrollBarAlwaysVisible ||\n            size.scrollerHeight - maxHeight + scrollPastEnd < 0 || this.scrollTop > sm.top);\n        var vScrollChanged = vScrollBefore !== vScroll;\n        if (vScrollChanged) {\n            this.$vScroll = vScroll;\n            this.scrollBarV.setVisible(vScroll);\n        }\n\n        var offset = this.scrollTop % this.lineHeight;\n        var lineCount = Math.ceil(minHeight / this.lineHeight) - 1;\n        var firstRow = Math.max(0, Math.round((this.scrollTop - offset) / this.lineHeight));\n        var lastRow = firstRow + lineCount;\n        var firstRowScreen, firstRowHeight;\n        var lineHeight = this.lineHeight;\n        firstRow = session.screenToDocumentRow(firstRow, 0);\n        var foldLine = session.getFoldLine(firstRow);\n        if (foldLine) {\n            firstRow = foldLine.start.row;\n        }\n\n        firstRowScreen = session.documentToScreenRow(firstRow, 0);\n        firstRowHeight = session.getRowLength(firstRow) * lineHeight;\n\n        lastRow = Math.min(session.screenToDocumentRow(lastRow, 0), session.getLength() - 1);\n        minHeight = size.scrollerHeight + session.getRowLength(lastRow) * lineHeight +\n                                                firstRowHeight;\n\n        offset = this.scrollTop - firstRowScreen * lineHeight;\n\n        var changes = 0;\n        if (this.layerConfig.width != longestLine || hScrollChanged) \n            changes = this.CHANGE_H_SCROLL;\n        if (hScrollChanged || vScrollChanged) {\n            changes |= this.$updateCachedSize(true, this.gutterWidth, size.width, size.height);\n            this._signal(\"scrollbarVisibilityChanged\");\n            if (vScrollChanged)\n                longestLine = this.$getLongestLine();\n        }\n        \n        this.layerConfig = {\n            width : longestLine,\n            padding : this.$padding,\n            firstRow : firstRow,\n            firstRowScreen: firstRowScreen,\n            lastRow : lastRow,\n            lineHeight : lineHeight,\n            characterWidth : this.characterWidth,\n            minHeight : minHeight,\n            maxHeight : maxHeight,\n            offset : offset,\n            gutterOffset : lineHeight ? Math.max(0, Math.ceil((offset + size.height - size.scrollerHeight) / lineHeight)) : 0,\n            height : this.$size.scrollerHeight\n        };\n\n        if (this.session.$bidiHandler)\n            this.session.$bidiHandler.setContentWidth(longestLine - this.$padding);\n\n        return changes;\n    };\n\n    this.$updateLines = function() {\n        if (!this.$changedLines) return;\n        var firstRow = this.$changedLines.firstRow;\n        var lastRow = this.$changedLines.lastRow;\n        this.$changedLines = null;\n\n        var layerConfig = this.layerConfig;\n\n        if (firstRow > layerConfig.lastRow + 1) { return; }\n        if (lastRow < layerConfig.firstRow) { return; }\n        if (lastRow === Infinity) {\n            if (this.$showGutter)\n                this.$gutterLayer.update(layerConfig);\n            this.$textLayer.update(layerConfig);\n            return;\n        }\n        this.$textLayer.updateLines(layerConfig, firstRow, lastRow);\n        return true;\n    };\n\n    this.$getLongestLine = function() {\n        var charCount = this.session.getScreenWidth();\n        if (this.showInvisibles && !this.session.$useWrapMode)\n            charCount += 1;\n            \n        if (this.$textLayer && charCount > this.$textLayer.MAX_LINE_LENGTH)\n            charCount = this.$textLayer.MAX_LINE_LENGTH + 30;\n\n        return Math.max(this.$size.scrollerWidth - 2 * this.$padding, Math.round(charCount * this.characterWidth));\n    };\n    this.updateFrontMarkers = function() {\n        this.$markerFront.setMarkers(this.session.getMarkers(true));\n        this.$loop.schedule(this.CHANGE_MARKER_FRONT);\n    };\n    this.updateBackMarkers = function() {\n        this.$markerBack.setMarkers(this.session.getMarkers());\n        this.$loop.schedule(this.CHANGE_MARKER_BACK);\n    };\n    this.addGutterDecoration = function(row, className){\n        this.$gutterLayer.addGutterDecoration(row, className);\n    };\n    this.removeGutterDecoration = function(row, className){\n        this.$gutterLayer.removeGutterDecoration(row, className);\n    };\n    this.updateBreakpoints = function(rows) {\n        this.$loop.schedule(this.CHANGE_GUTTER);\n    };\n    this.setAnnotations = function(annotations) {\n        this.$gutterLayer.setAnnotations(annotations);\n        this.$loop.schedule(this.CHANGE_GUTTER);\n    };\n    this.updateCursor = function() {\n        this.$loop.schedule(this.CHANGE_CURSOR);\n    };\n    this.hideCursor = function() {\n        this.$cursorLayer.hideCursor();\n    };\n    this.showCursor = function() {\n        this.$cursorLayer.showCursor();\n    };\n\n    this.scrollSelectionIntoView = function(anchor, lead, offset) {\n        this.scrollCursorIntoView(anchor, offset);\n        this.scrollCursorIntoView(lead, offset);\n    };\n    this.scrollCursorIntoView = function(cursor, offset, $viewMargin) {\n        if (this.$size.scrollerHeight === 0)\n            return;\n\n        var pos = this.$cursorLayer.getPixelPosition(cursor);\n\n        var left = pos.left;\n        var top = pos.top;\n        \n        var topMargin = $viewMargin && $viewMargin.top || 0;\n        var bottomMargin = $viewMargin && $viewMargin.bottom || 0;\n        \n        var scrollTop = this.$scrollAnimation ? this.session.getScrollTop() : this.scrollTop;\n        \n        if (scrollTop + topMargin > top) {\n            if (offset && scrollTop + topMargin > top + this.lineHeight)\n                top -= offset * this.$size.scrollerHeight;\n            if (top === 0)\n                top = -this.scrollMargin.top;\n            this.session.setScrollTop(top);\n        } else if (scrollTop + this.$size.scrollerHeight - bottomMargin < top + this.lineHeight) {\n            if (offset && scrollTop + this.$size.scrollerHeight - bottomMargin < top -  this.lineHeight)\n                top += offset * this.$size.scrollerHeight;\n            this.session.setScrollTop(top + this.lineHeight + bottomMargin - this.$size.scrollerHeight);\n        }\n\n        var scrollLeft = this.scrollLeft;\n\n        if (scrollLeft > left) {\n            if (left < this.$padding + 2 * this.layerConfig.characterWidth)\n                left = -this.scrollMargin.left;\n            this.session.setScrollLeft(left);\n        } else if (scrollLeft + this.$size.scrollerWidth < left + this.characterWidth) {\n            this.session.setScrollLeft(Math.round(left + this.characterWidth - this.$size.scrollerWidth));\n        } else if (scrollLeft <= this.$padding && left - scrollLeft < this.characterWidth) {\n            this.session.setScrollLeft(0);\n        }\n    };\n    this.getScrollTop = function() {\n        return this.session.getScrollTop();\n    };\n    this.getScrollLeft = function() {\n        return this.session.getScrollLeft();\n    };\n    this.getScrollTopRow = function() {\n        return this.scrollTop / this.lineHeight;\n    };\n    this.getScrollBottomRow = function() {\n        return Math.max(0, Math.floor((this.scrollTop + this.$size.scrollerHeight) / this.lineHeight) - 1);\n    };\n    this.scrollToRow = function(row) {\n        this.session.setScrollTop(row * this.lineHeight);\n    };\n\n    this.alignCursor = function(cursor, alignment) {\n        if (typeof cursor == \"number\")\n            cursor = {row: cursor, column: 0};\n\n        var pos = this.$cursorLayer.getPixelPosition(cursor);\n        var h = this.$size.scrollerHeight - this.lineHeight;\n        var offset = pos.top - h * (alignment || 0);\n\n        this.session.setScrollTop(offset);\n        return offset;\n    };\n\n    this.STEPS = 8;\n    this.$calcSteps = function(fromValue, toValue){\n        var i = 0;\n        var l = this.STEPS;\n        var steps = [];\n\n        var func  = function(t, x_min, dx) {\n            return dx * (Math.pow(t - 1, 3) + 1) + x_min;\n        };\n\n        for (i = 0; i < l; ++i)\n            steps.push(func(i / this.STEPS, fromValue, toValue - fromValue));\n\n        return steps;\n    };\n    this.scrollToLine = function(line, center, animate, callback) {\n        var pos = this.$cursorLayer.getPixelPosition({row: line, column: 0});\n        var offset = pos.top;\n        if (center)\n            offset -= this.$size.scrollerHeight / 2;\n\n        var initialScroll = this.scrollTop;\n        this.session.setScrollTop(offset);\n        if (animate !== false)\n            this.animateScrolling(initialScroll, callback);\n    };\n\n    this.animateScrolling = function(fromValue, callback) {\n        var toValue = this.scrollTop;\n        if (!this.$animatedScroll)\n            return;\n        var _self = this;\n        \n        if (fromValue == toValue)\n            return;\n        \n        if (this.$scrollAnimation) {\n            var oldSteps = this.$scrollAnimation.steps;\n            if (oldSteps.length) {\n                fromValue = oldSteps[0];\n                if (fromValue == toValue)\n                    return;\n            }\n        }\n        \n        var steps = _self.$calcSteps(fromValue, toValue);\n        this.$scrollAnimation = {from: fromValue, to: toValue, steps: steps};\n\n        clearInterval(this.$timer);\n\n        _self.session.setScrollTop(steps.shift());\n        _self.session.$scrollTop = toValue;\n        this.$timer = setInterval(function() {\n            if (!_self.session) \n                return clearInterval(_self.$timer);\n            if (steps.length) {\n                _self.session.setScrollTop(steps.shift());\n                _self.session.$scrollTop = toValue;\n            } else if (toValue != null) {\n                _self.session.$scrollTop = -1;\n                _self.session.setScrollTop(toValue);\n                toValue = null;\n            } else {\n                _self.$timer = clearInterval(_self.$timer);\n                _self.$scrollAnimation = null;\n                callback && callback();\n            }\n        }, 10);\n    };\n    this.scrollToY = function(scrollTop) {\n        if (this.scrollTop !== scrollTop) {\n            this.$loop.schedule(this.CHANGE_SCROLL);\n            this.scrollTop = scrollTop;\n        }\n    };\n    this.scrollToX = function(scrollLeft) {\n        if (this.scrollLeft !== scrollLeft)\n            this.scrollLeft = scrollLeft;\n        this.$loop.schedule(this.CHANGE_H_SCROLL);\n    };\n    this.scrollTo = function(x, y) {\n        this.session.setScrollTop(y);\n        this.session.setScrollLeft(y);\n    };\n    this.scrollBy = function(deltaX, deltaY) {\n        deltaY && this.session.setScrollTop(this.session.getScrollTop() + deltaY);\n        deltaX && this.session.setScrollLeft(this.session.getScrollLeft() + deltaX);\n    };\n    this.isScrollableBy = function(deltaX, deltaY) {\n        if (deltaY < 0 && this.session.getScrollTop() >= 1 - this.scrollMargin.top)\n           return true;\n        if (deltaY > 0 && this.session.getScrollTop() + this.$size.scrollerHeight\n            - this.layerConfig.maxHeight < -1 + this.scrollMargin.bottom)\n           return true;\n        if (deltaX < 0 && this.session.getScrollLeft() >= 1 - this.scrollMargin.left)\n            return true;\n        if (deltaX > 0 && this.session.getScrollLeft() + this.$size.scrollerWidth\n            - this.layerConfig.width < -1 + this.scrollMargin.right)\n           return true;\n    };\n\n    this.pixelToScreenCoordinates = function(x, y) {\n        var canvasPos;\n        if (this.$hasCssTransforms) {\n            canvasPos = {top:0, left: 0};\n            var p = this.$fontMetrics.transformCoordinates([x, y]);\n            x = p[1] - this.gutterWidth - this.margin.left;\n            y = p[0];\n        } else {\n            canvasPos = this.scroller.getBoundingClientRect();\n        }\n        \n        var offsetX = x + this.scrollLeft - canvasPos.left - this.$padding;\n        var offset = offsetX / this.characterWidth;\n        var row = Math.floor((y + this.scrollTop - canvasPos.top) / this.lineHeight);\n        var col = this.$blockCursor ? Math.floor(offset) : Math.round(offset);\n\n        return {row: row, column: col, side: offset - col > 0 ? 1 : -1, offsetX:  offsetX};\n    };\n\n    this.screenToTextCoordinates = function(x, y) {\n        var canvasPos;\n        if (this.$hasCssTransforms) {\n            canvasPos = {top:0, left: 0};\n            var p = this.$fontMetrics.transformCoordinates([x, y]);\n            x = p[1] - this.gutterWidth - this.margin.left;\n            y = p[0];\n        } else {\n            canvasPos = this.scroller.getBoundingClientRect();\n        }\n\n        var offsetX = x + this.scrollLeft - canvasPos.left - this.$padding;\n        var offset = offsetX / this.characterWidth;\n        var col = this.$blockCursor ? Math.floor(offset) : Math.round(offset);\n\n        var row = Math.floor((y + this.scrollTop - canvasPos.top) / this.lineHeight);\n\n        return this.session.screenToDocumentPosition(row, Math.max(col, 0), offsetX);\n    };\n    this.textToScreenCoordinates = function(row, column) {\n        var canvasPos = this.scroller.getBoundingClientRect();\n        var pos = this.session.documentToScreenPosition(row, column);\n\n        var x = this.$padding + (this.session.$bidiHandler.isBidiRow(pos.row, row)\n             ? this.session.$bidiHandler.getPosLeft(pos.column)\n             : Math.round(pos.column * this.characterWidth));\n        \n        var y = pos.row * this.lineHeight;\n\n        return {\n            pageX: canvasPos.left + x - this.scrollLeft,\n            pageY: canvasPos.top + y - this.scrollTop\n        };\n    };\n    this.visualizeFocus = function() {\n        dom.addCssClass(this.container, \"ace_focus\");\n    };\n    this.visualizeBlur = function() {\n        dom.removeCssClass(this.container, \"ace_focus\");\n    };\n    this.showComposition = function(composition) {\n        this.$composition = composition;\n        if (!composition.cssText) {\n            composition.cssText = this.textarea.style.cssText;\n        }\n        if (composition.useTextareaForIME == undefined)\n            composition.useTextareaForIME = this.$useTextareaForIME;\n        \n        if (this.$useTextareaForIME) {\n            dom.addCssClass(this.textarea, \"ace_composition\");\n            this.textarea.style.cssText = \"\";\n            this.$moveTextAreaToCursor();\n            this.$cursorLayer.element.style.display = \"none\";\n        }\n        else {\n            composition.markerId = this.session.addMarker(composition.markerRange, \"ace_composition_marker\", \"text\");\n        }\n    };\n    this.setCompositionText = function(text) {\n        var cursor = this.session.selection.cursor;\n        this.addToken(text, \"composition_placeholder\", cursor.row, cursor.column);\n        this.$moveTextAreaToCursor();\n    };\n    this.hideComposition = function() {\n        if (!this.$composition)\n            return;\n        \n        if (this.$composition.markerId)\n            this.session.removeMarker(this.$composition.markerId);\n\n        dom.removeCssClass(this.textarea, \"ace_composition\");\n        this.textarea.style.cssText = this.$composition.cssText;\n        var cursor = this.session.selection.cursor;\n        this.removeExtraToken(cursor.row, cursor.column);\n        this.$composition = null;\n        this.$cursorLayer.element.style.display = \"\";\n    };\n    \n    this.addToken = function(text, type, row, column) {\n        var session = this.session;\n        session.bgTokenizer.lines[row] = null;\n        var newToken = {type: type, value: text};\n        var tokens = session.getTokens(row);\n        if (column == null) {\n            tokens.push(newToken);\n        } else {\n            var l = 0;\n            for (var i =0; i < tokens.length; i++) {\n                var token = tokens[i];\n                l += token.value.length;\n                if (column <= l) {\n                    var diff = token.value.length - (l - column);\n                    var before = token.value.slice(0, diff);\n                    var after = token.value.slice(diff);\n    \n                    tokens.splice(i, 1, {type: token.type, value: before},  newToken,  {type: token.type, value: after});\n                    break;\n                }\n            }\n        }\n        this.updateLines(row, row);\n    };\n\n    this.removeExtraToken = function(row, column) {\n        this.updateLines(row, row);\n    };\n    this.setTheme = function(theme, cb) {\n        var _self = this;\n        this.$themeId = theme;\n        _self._dispatchEvent('themeChange',{theme:theme});\n\n        if (!theme || typeof theme == \"string\") {\n            var moduleName = theme || this.$options.theme.initialValue;\n            config.loadModule([\"theme\", moduleName], afterLoad);\n        } else {\n            afterLoad(theme);\n        }\n\n        function afterLoad(module) {\n            if (_self.$themeId != theme)\n                return cb && cb();\n            if (!module || !module.cssClass)\n                throw new Error(\"couldn't load module \" + theme + \" or it didn't call define\");\n            if (module.$id)\n                _self.$themeId = module.$id;\n            dom.importCssString(\n                module.cssText,\n                module.cssClass,\n                _self.container\n            );\n\n            if (_self.theme)\n                dom.removeCssClass(_self.container, _self.theme.cssClass);\n\n            var padding = \"padding\" in module ? module.padding \n                : \"padding\" in (_self.theme || {}) ? 4 : _self.$padding;\n            if (_self.$padding && padding != _self.$padding)\n                _self.setPadding(padding);\n            _self.$theme = module.cssClass;\n\n            _self.theme = module;\n            dom.addCssClass(_self.container, module.cssClass);\n            dom.setCssClass(_self.container, \"ace_dark\", module.isDark);\n            if (_self.$size) {\n                _self.$size.width = 0;\n                _self.$updateSizeAsync();\n            }\n\n            _self._dispatchEvent('themeLoaded', {theme:module});\n            cb && cb();\n        }\n    };\n    this.getTheme = function() {\n        return this.$themeId;\n    };\n    this.setStyle = function(style, include) {\n        dom.setCssClass(this.container, style, include !== false);\n    };\n    this.unsetStyle = function(style) {\n        dom.removeCssClass(this.container, style);\n    };\n    \n    this.setCursorStyle = function(style) {\n        dom.setStyle(this.scroller.style, \"cursor\", style);\n    };\n    this.setMouseCursor = function(cursorStyle) {\n        dom.setStyle(this.scroller.style, \"cursor\", cursorStyle);\n    };\n    \n    this.attachToShadowRoot = function() {\n        dom.importCssString(editorCss, \"ace_editor.css\", this.container);\n    };\n    this.destroy = function() {\n        this.freeze();\n        this.$fontMetrics.destroy();\n        this.$cursorLayer.destroy();\n        this.removeAllListeners();\n        this.container.textContent = \"\";\n    };\n\n}).call(VirtualRenderer.prototype);\n\n\nconfig.defineOptions(VirtualRenderer.prototype, \"renderer\", {\n    animatedScroll: {initialValue: false},\n    showInvisibles: {\n        set: function(value) {\n            if (this.$textLayer.setShowInvisibles(value))\n                this.$loop.schedule(this.CHANGE_TEXT);\n        },\n        initialValue: false\n    },\n    showPrintMargin: {\n        set: function() { this.$updatePrintMargin(); },\n        initialValue: true\n    },\n    printMarginColumn: {\n        set: function() { this.$updatePrintMargin(); },\n        initialValue: 80\n    },\n    printMargin: {\n        set: function(val) {\n            if (typeof val == \"number\")\n                this.$printMarginColumn = val;\n            this.$showPrintMargin = !!val;\n            this.$updatePrintMargin();\n        },\n        get: function() {\n            return this.$showPrintMargin && this.$printMarginColumn; \n        }\n    },\n    showGutter: {\n        set: function(show){\n            this.$gutter.style.display = show ? \"block\" : \"none\";\n            this.$loop.schedule(this.CHANGE_FULL);\n            this.onGutterResize();\n        },\n        initialValue: true\n    },\n    fadeFoldWidgets: {\n        set: function(show) {\n            dom.setCssClass(this.$gutter, \"ace_fade-fold-widgets\", show);\n        },\n        initialValue: false\n    },\n    showFoldWidgets: {\n        set: function(show) {\n            this.$gutterLayer.setShowFoldWidgets(show);\n            this.$loop.schedule(this.CHANGE_GUTTER);\n        },\n        initialValue: true\n    },\n    displayIndentGuides: {\n        set: function(show) {\n            if (this.$textLayer.setDisplayIndentGuides(show))\n                this.$loop.schedule(this.CHANGE_TEXT);\n        },\n        initialValue: true\n    },\n    highlightGutterLine: {\n        set: function(shouldHighlight) {\n            this.$gutterLayer.setHighlightGutterLine(shouldHighlight);\n            this.$loop.schedule(this.CHANGE_GUTTER);\n        },\n        initialValue: true\n    },\n    hScrollBarAlwaysVisible: {\n        set: function(val) {\n            if (!this.$hScrollBarAlwaysVisible || !this.$horizScroll)\n                this.$loop.schedule(this.CHANGE_SCROLL);\n        },\n        initialValue: false\n    },\n    vScrollBarAlwaysVisible: {\n        set: function(val) {\n            if (!this.$vScrollBarAlwaysVisible || !this.$vScroll)\n                this.$loop.schedule(this.CHANGE_SCROLL);\n        },\n        initialValue: false\n    },\n    fontSize: {\n        set: function(size) {\n            if (typeof size == \"number\")\n                size = size + \"px\";\n            this.container.style.fontSize = size;\n            this.updateFontSize();\n        },\n        initialValue: 12\n    },\n    fontFamily: {\n        set: function(name) {\n            this.container.style.fontFamily = name;\n            this.updateFontSize();\n        }\n    },\n    maxLines: {\n        set: function(val) {\n            this.updateFull();\n        }\n    },\n    minLines: {\n        set: function(val) {\n            if (!(this.$minLines < 0x1ffffffffffff))\n                this.$minLines = 0;\n            this.updateFull();\n        }\n    },\n    maxPixelHeight: {\n        set: function(val) {\n            this.updateFull();\n        },\n        initialValue: 0\n    },\n    scrollPastEnd: {\n        set: function(val) {\n            val = +val || 0;\n            if (this.$scrollPastEnd == val)\n                return;\n            this.$scrollPastEnd = val;\n            this.$loop.schedule(this.CHANGE_SCROLL);\n        },\n        initialValue: 0,\n        handlesSet: true\n    },\n    fixedWidthGutter: {\n        set: function(val) {\n            this.$gutterLayer.$fixedWidth = !!val;\n            this.$loop.schedule(this.CHANGE_GUTTER);\n        }\n    },\n    theme: {\n        set: function(val) { this.setTheme(val); },\n        get: function() { return this.$themeId || this.theme; },\n        initialValue: \"./theme/textmate\",\n        handlesSet: true\n    },\n    hasCssTransforms: {\n    },\n    useTextareaForIME: {\n        initialValue: !useragent.isMobile && !useragent.isIE\n    }\n});\n\nexports.VirtualRenderer = VirtualRenderer;\n});\n\nace.define(\"ace/worker/worker_client\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/net\",\"ace/lib/event_emitter\",\"ace/config\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../lib/oop\");\nvar net = require(\"../lib/net\");\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\nvar config = require(\"../config\");\n\nfunction $workerBlob(workerUrl) {\n    var script = \"importScripts('\" + net.qualifyURL(workerUrl) + \"');\";\n    try {\n        return new Blob([script], {\"type\": \"application/javascript\"});\n    } catch (e) { // Backwards-compatibility\n        var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder;\n        var blobBuilder = new BlobBuilder();\n        blobBuilder.append(script);\n        return blobBuilder.getBlob(\"application/javascript\");\n    }\n}\n\nfunction createWorker(workerUrl) {\n    if (typeof Worker == \"undefined\")\n        return { postMessage: function() {}, terminate: function() {} };\n    if (config.get(\"loadWorkerFromBlob\")) {\n        var blob = $workerBlob(workerUrl);\n        var URL = window.URL || window.webkitURL;\n        var blobURL = URL.createObjectURL(blob);\n        return new Worker(blobURL);\n    }\n    return new Worker(workerUrl);\n}\n\nvar WorkerClient = function(worker) {\n    if (!worker.postMessage)\n        worker = this.$createWorkerFromOldConfig.apply(this, arguments);\n\n    this.$worker = worker;\n    this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this);\n    this.changeListener = this.changeListener.bind(this);\n    this.onMessage = this.onMessage.bind(this);\n\n    this.callbackId = 1;\n    this.callbacks = {};\n\n    this.$worker.onmessage = this.onMessage;\n};\n\n(function(){\n\n    oop.implement(this, EventEmitter);\n\n    this.$createWorkerFromOldConfig = function(topLevelNamespaces, mod, classname, workerUrl, importScripts) {\n        if (require.nameToUrl && !require.toUrl)\n            require.toUrl = require.nameToUrl;\n\n        if (config.get(\"packaged\") || !require.toUrl) {\n            workerUrl = workerUrl || config.moduleUrl(mod, \"worker\");\n        } else {\n            var normalizePath = this.$normalizePath;\n            workerUrl = workerUrl || normalizePath(require.toUrl(\"ace/worker/worker.js\", null, \"_\"));\n\n            var tlns = {};\n            topLevelNamespaces.forEach(function(ns) {\n                tlns[ns] = normalizePath(require.toUrl(ns, null, \"_\").replace(/(\\.js)?(\\?.*)?$/, \"\"));\n            });\n        }\n\n        this.$worker = createWorker(workerUrl);\n        if (importScripts) {\n            this.send(\"importScripts\", importScripts);\n        }\n        this.$worker.postMessage({\n            init : true,\n            tlns : tlns,\n            module : mod,\n            classname : classname\n        });\n        return this.$worker;\n    };\n\n    this.onMessage = function(e) {\n        var msg = e.data;\n        switch (msg.type) {\n            case \"event\":\n                this._signal(msg.name, {data: msg.data});\n                break;\n            case \"call\":\n                var callback = this.callbacks[msg.id];\n                if (callback) {\n                    callback(msg.data);\n                    delete this.callbacks[msg.id];\n                }\n                break;\n            case \"error\":\n                this.reportError(msg.data);\n                break;\n            case \"log\":\n                window.console && console.log && console.log.apply(console, msg.data);\n                break;\n        }\n    };\n    \n    this.reportError = function(err) {\n        window.console && console.error && console.error(err);\n    };\n\n    this.$normalizePath = function(path) {\n        return net.qualifyURL(path);\n    };\n\n    this.terminate = function() {\n        this._signal(\"terminate\", {});\n        this.deltaQueue = null;\n        this.$worker.terminate();\n        this.$worker = null;\n        if (this.$doc)\n            this.$doc.off(\"change\", this.changeListener);\n        this.$doc = null;\n    };\n\n    this.send = function(cmd, args) {\n        this.$worker.postMessage({command: cmd, args: args});\n    };\n\n    this.call = function(cmd, args, callback) {\n        if (callback) {\n            var id = this.callbackId++;\n            this.callbacks[id] = callback;\n            args.push(id);\n        }\n        this.send(cmd, args);\n    };\n\n    this.emit = function(event, data) {\n        try {\n            if (data.data && data.data.err)\n                data.data.err = {message: data.data.err.message, stack: data.data.err.stack, code: data.data.err.code};\n            this.$worker.postMessage({event: event, data: {data: data.data}});\n        }\n        catch(ex) {\n            console.error(ex.stack);\n        }\n    };\n\n    this.attachToDocument = function(doc) {\n        if (this.$doc)\n            this.terminate();\n\n        this.$doc = doc;\n        this.call(\"setValue\", [doc.getValue()]);\n        doc.on(\"change\", this.changeListener);\n    };\n\n    this.changeListener = function(delta) {\n        if (!this.deltaQueue) {\n            this.deltaQueue = [];\n            setTimeout(this.$sendDeltaQueue, 0);\n        }\n        if (delta.action == \"insert\")\n            this.deltaQueue.push(delta.start, delta.lines);\n        else\n            this.deltaQueue.push(delta.start, delta.end);\n    };\n\n    this.$sendDeltaQueue = function() {\n        var q = this.deltaQueue;\n        if (!q) return;\n        this.deltaQueue = null;\n        if (q.length > 50 && q.length > this.$doc.getLength() >> 1) {\n            this.call(\"setValue\", [this.$doc.getValue()]);\n        } else\n            this.emit(\"change\", {data: q});\n    };\n\n}).call(WorkerClient.prototype);\n\n\nvar UIWorkerClient = function(topLevelNamespaces, mod, classname) {\n    var main = null;\n    var emitSync = false;\n    var sender = Object.create(EventEmitter);\n\n    var messageBuffer = [];\n    var workerClient = new WorkerClient({\n        messageBuffer: messageBuffer,\n        terminate: function() {},\n        postMessage: function(e) {\n            messageBuffer.push(e);\n            if (!main) return;\n            if (emitSync)\n                setTimeout(processNext);\n            else\n                processNext();\n        }\n    });\n\n    workerClient.setEmitSync = function(val) { emitSync = val; };\n\n    var processNext = function() {\n        var msg = messageBuffer.shift();\n        if (msg.command)\n            main[msg.command].apply(main, msg.args);\n        else if (msg.event)\n            sender._signal(msg.event, msg.data);\n    };\n\n    sender.postMessage = function(msg) {\n        workerClient.onMessage({data: msg});\n    };\n    sender.callback = function(data, callbackId) {\n        this.postMessage({type: \"call\", id: callbackId, data: data});\n    };\n    sender.emit = function(name, data) {\n        this.postMessage({type: \"event\", name: name, data: data});\n    };\n\n    config.loadModule([\"worker\", mod], function(Main) {\n        main = new Main[classname](sender);\n        while (messageBuffer.length)\n            processNext();\n    });\n\n    return workerClient;\n};\n\nexports.UIWorkerClient = UIWorkerClient;\nexports.WorkerClient = WorkerClient;\nexports.createWorker = createWorker;\n\n\n});\n\nace.define(\"ace/placeholder\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/lib/event_emitter\",\"ace/lib/oop\"], function(require, exports, module) {\n\"use strict\";\n\nvar Range = require(\"./range\").Range;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar oop = require(\"./lib/oop\");\n\nvar PlaceHolder = function(session, length, pos, others, mainClass, othersClass) {\n    var _self = this;\n    this.length = length;\n    this.session = session;\n    this.doc = session.getDocument();\n    this.mainClass = mainClass;\n    this.othersClass = othersClass;\n    this.$onUpdate = this.onUpdate.bind(this);\n    this.doc.on(\"change\", this.$onUpdate);\n    this.$others = others;\n    \n    this.$onCursorChange = function() {\n        setTimeout(function() {\n            _self.onCursorChange();\n        });\n    };\n    \n    this.$pos = pos;\n    var undoStack = session.getUndoManager().$undoStack || session.getUndoManager().$undostack || {length: -1};\n    this.$undoStackDepth = undoStack.length;\n    this.setup();\n\n    session.selection.on(\"changeCursor\", this.$onCursorChange);\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.setup = function() {\n        var _self = this;\n        var doc = this.doc;\n        var session = this.session;\n        \n        this.selectionBefore = session.selection.toJSON();\n        if (session.selection.inMultiSelectMode)\n            session.selection.toSingleRange();\n\n        this.pos = doc.createAnchor(this.$pos.row, this.$pos.column);\n        var pos = this.pos;\n        pos.$insertRight = true;\n        pos.detach();\n        pos.markerId = session.addMarker(new Range(pos.row, pos.column, pos.row, pos.column + this.length), this.mainClass, null, false);\n        this.others = [];\n        this.$others.forEach(function(other) {\n            var anchor = doc.createAnchor(other.row, other.column);\n            anchor.$insertRight = true;\n            anchor.detach();\n            _self.others.push(anchor);\n        });\n        session.setUndoSelect(false);\n    };\n    this.showOtherMarkers = function() {\n        if (this.othersActive) return;\n        var session = this.session;\n        var _self = this;\n        this.othersActive = true;\n        this.others.forEach(function(anchor) {\n            anchor.markerId = session.addMarker(new Range(anchor.row, anchor.column, anchor.row, anchor.column+_self.length), _self.othersClass, null, false);\n        });\n    };\n    this.hideOtherMarkers = function() {\n        if (!this.othersActive) return;\n        this.othersActive = false;\n        for (var i = 0; i < this.others.length; i++) {\n            this.session.removeMarker(this.others[i].markerId);\n        }\n    };\n    this.onUpdate = function(delta) {\n        if (this.$updating)\n            return this.updateAnchors(delta);\n            \n        var range = delta;\n        if (range.start.row !== range.end.row) return;\n        if (range.start.row !== this.pos.row) return;\n        this.$updating = true;\n        var lengthDiff = delta.action === \"insert\" ? range.end.column - range.start.column : range.start.column - range.end.column;\n        var inMainRange = range.start.column >= this.pos.column && range.start.column <= this.pos.column + this.length + 1;\n        var distanceFromStart = range.start.column - this.pos.column;\n        \n        this.updateAnchors(delta);\n        \n        if (inMainRange)\n            this.length += lengthDiff;\n\n        if (inMainRange && !this.session.$fromUndo) {\n            if (delta.action === 'insert') {\n                for (var i = this.others.length - 1; i >= 0; i--) {\n                    var otherPos = this.others[i];\n                    var newPos = {row: otherPos.row, column: otherPos.column + distanceFromStart};\n                    this.doc.insertMergedLines(newPos, delta.lines);\n                }\n            } else if (delta.action === 'remove') {\n                for (var i = this.others.length - 1; i >= 0; i--) {\n                    var otherPos = this.others[i];\n                    var newPos = {row: otherPos.row, column: otherPos.column + distanceFromStart};\n                    this.doc.remove(new Range(newPos.row, newPos.column, newPos.row, newPos.column - lengthDiff));\n                }\n            }\n        }\n        \n        this.$updating = false;\n        this.updateMarkers();\n    };\n    \n    this.updateAnchors = function(delta) {\n        this.pos.onChange(delta);\n        for (var i = this.others.length; i--;)\n            this.others[i].onChange(delta);\n        this.updateMarkers();\n    };\n    \n    this.updateMarkers = function() {\n        if (this.$updating)\n            return;\n        var _self = this;\n        var session = this.session;\n        var updateMarker = function(pos, className) {\n            session.removeMarker(pos.markerId);\n            pos.markerId = session.addMarker(new Range(pos.row, pos.column, pos.row, pos.column+_self.length), className, null, false);\n        };\n        updateMarker(this.pos, this.mainClass);\n        for (var i = this.others.length; i--;)\n            updateMarker(this.others[i], this.othersClass);\n    };\n\n    this.onCursorChange = function(event) {\n        if (this.$updating || !this.session) return;\n        var pos = this.session.selection.getCursor();\n        if (pos.row === this.pos.row && pos.column >= this.pos.column && pos.column <= this.pos.column + this.length) {\n            this.showOtherMarkers();\n            this._emit(\"cursorEnter\", event);\n        } else {\n            this.hideOtherMarkers();\n            this._emit(\"cursorLeave\", event);\n        }\n    };    \n    this.detach = function() {\n        this.session.removeMarker(this.pos && this.pos.markerId);\n        this.hideOtherMarkers();\n        this.doc.off(\"change\", this.$onUpdate);\n        this.session.selection.off(\"changeCursor\", this.$onCursorChange);\n        this.session.setUndoSelect(true);\n        this.session = null;\n    };\n    this.cancel = function() {\n        if (this.$undoStackDepth === -1)\n            return;\n        var undoManager = this.session.getUndoManager();\n        var undosRequired = (undoManager.$undoStack || undoManager.$undostack).length - this.$undoStackDepth;\n        for (var i = 0; i < undosRequired; i++) {\n            undoManager.undo(this.session, true);\n        }\n        if (this.selectionBefore)\n            this.session.selection.fromJSON(this.selectionBefore);\n    };\n}).call(PlaceHolder.prototype);\n\n\nexports.PlaceHolder = PlaceHolder;\n});\n\nace.define(\"ace/mouse/multi_select_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\"], function(require, exports, module) {\n\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nfunction isSamePoint(p1, p2) {\n    return p1.row == p2.row && p1.column == p2.column;\n}\n\nfunction onMouseDown(e) {\n    var ev = e.domEvent;\n    var alt = ev.altKey;\n    var shift = ev.shiftKey;\n    var ctrl = ev.ctrlKey;\n    var accel = e.getAccelKey();\n    var button = e.getButton();\n    \n    if (ctrl && useragent.isMac)\n        button = ev.button;\n\n    if (e.editor.inMultiSelectMode && button == 2) {\n        e.editor.textInput.onContextMenu(e.domEvent);\n        return;\n    }\n    \n    if (!ctrl && !alt && !accel) {\n        if (button === 0 && e.editor.inMultiSelectMode)\n            e.editor.exitMultiSelectMode();\n        return;\n    }\n    \n    if (button !== 0)\n        return;\n\n    var editor = e.editor;\n    var selection = editor.selection;\n    var isMultiSelect = editor.inMultiSelectMode;\n    var pos = e.getDocumentPosition();\n    var cursor = selection.getCursor();\n    var inSelection = e.inSelection() || (selection.isEmpty() && isSamePoint(pos, cursor));\n\n    var mouseX = e.x, mouseY = e.y;\n    var onMouseSelection = function(e) {\n        mouseX = e.clientX;\n        mouseY = e.clientY;\n    };\n    \n    var session = editor.session;\n    var screenAnchor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);\n    var screenCursor = screenAnchor;\n    \n    var selectionMode;\n    if (editor.$mouseHandler.$enableJumpToDef) {\n        if (ctrl && alt || accel && alt)\n            selectionMode = shift ? \"block\" : \"add\";\n        else if (alt && editor.$blockSelectEnabled)\n            selectionMode = \"block\";\n    } else {\n        if (accel && !alt) {\n            selectionMode = \"add\";\n            if (!isMultiSelect && shift)\n                return;\n        } else if (alt && editor.$blockSelectEnabled) {\n            selectionMode = \"block\";\n        }\n    }\n    \n    if (selectionMode && useragent.isMac && ev.ctrlKey) {\n        editor.$mouseHandler.cancelContextMenu();\n    }\n\n    if (selectionMode == \"add\") {\n        if (!isMultiSelect && inSelection)\n            return; // dragging\n\n        if (!isMultiSelect) {\n            var range = selection.toOrientedRange();\n            editor.addSelectionMarker(range);\n        }\n\n        var oldRange = selection.rangeList.rangeAtPoint(pos);\n        \n        editor.inVirtualSelectionMode = true;\n        \n        if (shift) {\n            oldRange = null;\n            range = selection.ranges[0] || range;\n            editor.removeSelectionMarker(range);\n        }\n        editor.once(\"mouseup\", function() {\n            var tmpSel = selection.toOrientedRange();\n\n            if (oldRange && tmpSel.isEmpty() && isSamePoint(oldRange.cursor, tmpSel.cursor))\n                selection.substractPoint(tmpSel.cursor);\n            else {\n                if (shift) {\n                    selection.substractPoint(range.cursor);\n                } else if (range) {\n                    editor.removeSelectionMarker(range);\n                    selection.addRange(range);\n                }\n                selection.addRange(tmpSel);\n            }\n            editor.inVirtualSelectionMode = false;\n        });\n\n    } else if (selectionMode == \"block\") {\n        e.stop();\n        editor.inVirtualSelectionMode = true;        \n        var initialRange;\n        var rectSel = [];\n        var blockSelect = function() {\n            var newCursor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);\n            var cursor = session.screenToDocumentPosition(newCursor.row, newCursor.column, newCursor.offsetX);\n\n            if (isSamePoint(screenCursor, newCursor) && isSamePoint(cursor, selection.lead))\n                return;\n            screenCursor = newCursor;\n            \n            editor.selection.moveToPosition(cursor);\n            editor.renderer.scrollCursorIntoView();\n\n            editor.removeSelectionMarkers(rectSel);\n            rectSel = selection.rectangularRangeBlock(screenCursor, screenAnchor);\n            if (editor.$mouseHandler.$clickSelection && rectSel.length == 1 && rectSel[0].isEmpty())\n                rectSel[0] = editor.$mouseHandler.$clickSelection.clone();\n            rectSel.forEach(editor.addSelectionMarker, editor);\n            editor.updateSelectionMarkers();\n        };\n        if (isMultiSelect && !accel) {\n            selection.toSingleRange();\n        } else if (!isMultiSelect && accel) {\n            initialRange = selection.toOrientedRange();\n            editor.addSelectionMarker(initialRange);\n        }\n        \n        if (shift)\n            screenAnchor = session.documentToScreenPosition(selection.lead);            \n        else\n            selection.moveToPosition(pos);\n        \n        screenCursor = {row: -1, column: -1};\n\n        var onMouseSelectionEnd = function(e) {\n            blockSelect();\n            clearInterval(timerId);\n            editor.removeSelectionMarkers(rectSel);\n            if (!rectSel.length)\n                rectSel = [selection.toOrientedRange()];\n            if (initialRange) {\n                editor.removeSelectionMarker(initialRange);\n                selection.toSingleRange(initialRange);\n            }\n            for (var i = 0; i < rectSel.length; i++)\n                selection.addRange(rectSel[i]);\n            editor.inVirtualSelectionMode = false;\n            editor.$mouseHandler.$clickSelection = null;\n        };\n\n        var onSelectionInterval = blockSelect;\n\n        event.capture(editor.container, onMouseSelection, onMouseSelectionEnd);\n        var timerId = setInterval(function() {onSelectionInterval();}, 20);\n\n        return e.preventDefault();\n    }\n}\n\n\nexports.onMouseDown = onMouseDown;\n\n});\n\nace.define(\"ace/commands/multi_select_commands\",[\"require\",\"exports\",\"module\",\"ace/keyboard/hash_handler\"], function(require, exports, module) {\nexports.defaultCommands = [{\n    name: \"addCursorAbove\",\n    description: \"Add cursor above\",\n    exec: function(editor) { editor.selectMoreLines(-1); },\n    bindKey: {win: \"Ctrl-Alt-Up\", mac: \"Ctrl-Alt-Up\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"addCursorBelow\",\n    description: \"Add cursor below\",\n    exec: function(editor) { editor.selectMoreLines(1); },\n    bindKey: {win: \"Ctrl-Alt-Down\", mac: \"Ctrl-Alt-Down\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"addCursorAboveSkipCurrent\",\n    description: \"Add cursor above (skip current)\",\n    exec: function(editor) { editor.selectMoreLines(-1, true); },\n    bindKey: {win: \"Ctrl-Alt-Shift-Up\", mac: \"Ctrl-Alt-Shift-Up\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"addCursorBelowSkipCurrent\",\n    description: \"Add cursor below (skip current)\",\n    exec: function(editor) { editor.selectMoreLines(1, true); },\n    bindKey: {win: \"Ctrl-Alt-Shift-Down\", mac: \"Ctrl-Alt-Shift-Down\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectMoreBefore\",\n    description: \"Select more before\",\n    exec: function(editor) { editor.selectMore(-1); },\n    bindKey: {win: \"Ctrl-Alt-Left\", mac: \"Ctrl-Alt-Left\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectMoreAfter\",\n    description: \"Select more after\",\n    exec: function(editor) { editor.selectMore(1); },\n    bindKey: {win: \"Ctrl-Alt-Right\", mac: \"Ctrl-Alt-Right\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectNextBefore\",\n    description: \"Select next before\",\n    exec: function(editor) { editor.selectMore(-1, true); },\n    bindKey: {win: \"Ctrl-Alt-Shift-Left\", mac: \"Ctrl-Alt-Shift-Left\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectNextAfter\",\n    description: \"Select next after\",\n    exec: function(editor) { editor.selectMore(1, true); },\n    bindKey: {win: \"Ctrl-Alt-Shift-Right\", mac: \"Ctrl-Alt-Shift-Right\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"toggleSplitSelectionIntoLines\",\n    description: \"Split into lines\",\n    exec: function(editor) {\n        if (editor.multiSelect.rangeCount > 1)\n            editor.multiSelect.joinSelections();\n        else\n            editor.multiSelect.splitIntoLines();\n    },\n    bindKey: {win: \"Ctrl-Alt-L\", mac: \"Ctrl-Alt-L\"},\n    readOnly: true\n}, {\n    name: \"splitSelectionIntoLines\",\n    description: \"Split into lines\",\n    exec: function(editor) { editor.multiSelect.splitIntoLines(); },\n    readOnly: true\n}, {\n    name: \"alignCursors\",\n    description: \"Align cursors\",\n    exec: function(editor) { editor.alignCursors(); },\n    bindKey: {win: \"Ctrl-Alt-A\", mac: \"Ctrl-Alt-A\"},\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"findAll\",\n    description: \"Find all\",\n    exec: function(editor) { editor.findAll(); },\n    bindKey: {win: \"Ctrl-Alt-K\", mac: \"Ctrl-Alt-G\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}];\nexports.multiSelectCommands = [{\n    name: \"singleSelection\",\n    description: \"Single selection\",\n    bindKey: \"esc\",\n    exec: function(editor) { editor.exitMultiSelectMode(); },\n    scrollIntoView: \"cursor\",\n    readOnly: true,\n    isAvailable: function(editor) {return editor && editor.inMultiSelectMode;}\n}];\n\nvar HashHandler = require(\"../keyboard/hash_handler\").HashHandler;\nexports.keyboardHandler = new HashHandler(exports.multiSelectCommands);\n\n});\n\nace.define(\"ace/multi_select\",[\"require\",\"exports\",\"module\",\"ace/range_list\",\"ace/range\",\"ace/selection\",\"ace/mouse/multi_select_handler\",\"ace/lib/event\",\"ace/lib/lang\",\"ace/commands/multi_select_commands\",\"ace/search\",\"ace/edit_session\",\"ace/editor\",\"ace/config\"], function(require, exports, module) {\n\nvar RangeList = require(\"./range_list\").RangeList;\nvar Range = require(\"./range\").Range;\nvar Selection = require(\"./selection\").Selection;\nvar onMouseDown = require(\"./mouse/multi_select_handler\").onMouseDown;\nvar event = require(\"./lib/event\");\nvar lang = require(\"./lib/lang\");\nvar commands = require(\"./commands/multi_select_commands\");\nexports.commands = commands.defaultCommands.concat(commands.multiSelectCommands);\nvar Search = require(\"./search\").Search;\nvar search = new Search();\n\nfunction find(session, needle, dir) {\n    search.$options.wrap = true;\n    search.$options.needle = needle;\n    search.$options.backwards = dir == -1;\n    return search.find(session);\n}\nvar EditSession = require(\"./edit_session\").EditSession;\n(function() {\n    this.getSelectionMarkers = function() {\n        return this.$selectionMarkers;\n    };\n}).call(EditSession.prototype);\n(function() {\n    this.ranges = null;\n    this.rangeList = null;\n    this.addRange = function(range, $blockChangeEvents) {\n        if (!range)\n            return;\n\n        if (!this.inMultiSelectMode && this.rangeCount === 0) {\n            var oldRange = this.toOrientedRange();\n            this.rangeList.add(oldRange);\n            this.rangeList.add(range);\n            if (this.rangeList.ranges.length != 2) {\n                this.rangeList.removeAll();\n                return $blockChangeEvents || this.fromOrientedRange(range);\n            }\n            this.rangeList.removeAll();\n            this.rangeList.add(oldRange);\n            this.$onAddRange(oldRange);\n        }\n\n        if (!range.cursor)\n            range.cursor = range.end;\n\n        var removed = this.rangeList.add(range);\n\n        this.$onAddRange(range);\n\n        if (removed.length)\n            this.$onRemoveRange(removed);\n\n        if (this.rangeCount > 1 && !this.inMultiSelectMode) {\n            this._signal(\"multiSelect\");\n            this.inMultiSelectMode = true;\n            this.session.$undoSelect = false;\n            this.rangeList.attach(this.session);\n        }\n\n        return $blockChangeEvents || this.fromOrientedRange(range);\n    };\n    this.toSingleRange = function(range) {\n        range = range || this.ranges[0];\n        var removed = this.rangeList.removeAll();\n        if (removed.length)\n            this.$onRemoveRange(removed);\n\n        range && this.fromOrientedRange(range);\n    };\n    this.substractPoint = function(pos) {\n        var removed = this.rangeList.substractPoint(pos);\n        if (removed) {\n            this.$onRemoveRange(removed);\n            return removed[0];\n        }\n    };\n    this.mergeOverlappingRanges = function() {\n        var removed = this.rangeList.merge();\n        if (removed.length)\n            this.$onRemoveRange(removed);\n    };\n\n    this.$onAddRange = function(range) {\n        this.rangeCount = this.rangeList.ranges.length;\n        this.ranges.unshift(range);\n        this._signal(\"addRange\", {range: range});\n    };\n\n    this.$onRemoveRange = function(removed) {\n        this.rangeCount = this.rangeList.ranges.length;\n        if (this.rangeCount == 1 && this.inMultiSelectMode) {\n            var lastRange = this.rangeList.ranges.pop();\n            removed.push(lastRange);\n            this.rangeCount = 0;\n        }\n\n        for (var i = removed.length; i--; ) {\n            var index = this.ranges.indexOf(removed[i]);\n            this.ranges.splice(index, 1);\n        }\n\n        this._signal(\"removeRange\", {ranges: removed});\n\n        if (this.rangeCount === 0 && this.inMultiSelectMode) {\n            this.inMultiSelectMode = false;\n            this._signal(\"singleSelect\");\n            this.session.$undoSelect = true;\n            this.rangeList.detach(this.session);\n        }\n\n        lastRange = lastRange || this.ranges[0];\n        if (lastRange && !lastRange.isEqual(this.getRange()))\n            this.fromOrientedRange(lastRange);\n    };\n    this.$initRangeList = function() {\n        if (this.rangeList)\n            return;\n\n        this.rangeList = new RangeList();\n        this.ranges = [];\n        this.rangeCount = 0;\n    };\n    this.getAllRanges = function() {\n        return this.rangeCount ? this.rangeList.ranges.concat() : [this.getRange()];\n    };\n    this.splitIntoLines = function () {\n        var ranges = this.ranges.length ? this.ranges : [this.getRange()];\n        var newRanges = [];\n        for (var i = 0; i < ranges.length; i++) {\n            var range = ranges[i];\n            var row = range.start.row;\n            var endRow = range.end.row;\n            if (row === endRow) {\n                newRanges.push(range.clone());\n            } else {\n                newRanges.push(new Range(row, range.start.column, row, this.session.getLine(row).length));\n                while (++row < endRow)\n                    newRanges.push(this.getLineRange(row, true));\n                newRanges.push(new Range(endRow, 0, endRow, range.end.column));\n            }\n            if (i == 0 && !this.isBackwards())\n                newRanges = newRanges.reverse();\n        }\n        this.toSingleRange();\n        for (var i = newRanges.length; i--;)\n            this.addRange(newRanges[i]);\n    };\n    \n    this.joinSelections = function () {\n        var ranges = this.rangeList.ranges;\n        var lastRange = ranges[ranges.length - 1];\n        var range = Range.fromPoints(ranges[0].start, lastRange.end);\n\n        this.toSingleRange();\n        this.setSelectionRange(range, lastRange.cursor == lastRange.start);\n    };\n    this.toggleBlockSelection = function () {\n        if (this.rangeCount > 1) {\n            var ranges = this.rangeList.ranges;\n            var lastRange = ranges[ranges.length - 1];\n            var range = Range.fromPoints(ranges[0].start, lastRange.end);\n\n            this.toSingleRange();\n            this.setSelectionRange(range, lastRange.cursor == lastRange.start);\n        } else {\n            var cursor = this.session.documentToScreenPosition(this.cursor);\n            var anchor = this.session.documentToScreenPosition(this.anchor);\n\n            var rectSel = this.rectangularRangeBlock(cursor, anchor);\n            rectSel.forEach(this.addRange, this);\n        }\n    };\n    this.rectangularRangeBlock = function(screenCursor, screenAnchor, includeEmptyLines) {\n        var rectSel = [];\n\n        var xBackwards = screenCursor.column < screenAnchor.column;\n        if (xBackwards) {\n            var startColumn = screenCursor.column;\n            var endColumn = screenAnchor.column;\n            var startOffsetX = screenCursor.offsetX;\n            var endOffsetX = screenAnchor.offsetX;\n        } else {\n            var startColumn = screenAnchor.column;\n            var endColumn = screenCursor.column;\n            var startOffsetX = screenAnchor.offsetX;\n            var endOffsetX = screenCursor.offsetX;\n        }\n\n        var yBackwards = screenCursor.row < screenAnchor.row;\n        if (yBackwards) {\n            var startRow = screenCursor.row;\n            var endRow = screenAnchor.row;\n        } else {\n            var startRow = screenAnchor.row;\n            var endRow = screenCursor.row;\n        }\n\n        if (startColumn < 0)\n            startColumn = 0;\n        if (startRow < 0)\n            startRow = 0;\n\n        if (startRow == endRow)\n            includeEmptyLines = true;\n\n        var docEnd;\n        for (var row = startRow; row <= endRow; row++) {\n            var range = Range.fromPoints(\n                this.session.screenToDocumentPosition(row, startColumn, startOffsetX),\n                this.session.screenToDocumentPosition(row, endColumn, endOffsetX)\n            );\n            if (range.isEmpty()) {\n                if (docEnd && isSamePoint(range.end, docEnd))\n                    break;\n                docEnd = range.end;\n            }\n            range.cursor = xBackwards ? range.start : range.end;\n            rectSel.push(range);\n        }\n\n        if (yBackwards)\n            rectSel.reverse();\n\n        if (!includeEmptyLines) {\n            var end = rectSel.length - 1;\n            while (rectSel[end].isEmpty() && end > 0)\n                end--;\n            if (end > 0) {\n                var start = 0;\n                while (rectSel[start].isEmpty())\n                    start++;\n            }\n            for (var i = end; i >= start; i--) {\n                if (rectSel[i].isEmpty())\n                    rectSel.splice(i, 1);\n            }\n        }\n\n        return rectSel;\n    };\n}).call(Selection.prototype);\nvar Editor = require(\"./editor\").Editor;\n(function() {\n    this.updateSelectionMarkers = function() {\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n    this.addSelectionMarker = function(orientedRange) {\n        if (!orientedRange.cursor)\n            orientedRange.cursor = orientedRange.end;\n\n        var style = this.getSelectionStyle();\n        orientedRange.marker = this.session.addMarker(orientedRange, \"ace_selection\", style);\n\n        this.session.$selectionMarkers.push(orientedRange);\n        this.session.selectionMarkerCount = this.session.$selectionMarkers.length;\n        return orientedRange;\n    };\n    this.removeSelectionMarker = function(range) {\n        if (!range.marker)\n            return;\n        this.session.removeMarker(range.marker);\n        var index = this.session.$selectionMarkers.indexOf(range);\n        if (index != -1)\n            this.session.$selectionMarkers.splice(index, 1);\n        this.session.selectionMarkerCount = this.session.$selectionMarkers.length;\n    };\n\n    this.removeSelectionMarkers = function(ranges) {\n        var markerList = this.session.$selectionMarkers;\n        for (var i = ranges.length; i--; ) {\n            var range = ranges[i];\n            if (!range.marker)\n                continue;\n            this.session.removeMarker(range.marker);\n            var index = markerList.indexOf(range);\n            if (index != -1)\n                markerList.splice(index, 1);\n        }\n        this.session.selectionMarkerCount = markerList.length;\n    };\n\n    this.$onAddRange = function(e) {\n        this.addSelectionMarker(e.range);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n\n    this.$onRemoveRange = function(e) {\n        this.removeSelectionMarkers(e.ranges);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n\n    this.$onMultiSelect = function(e) {\n        if (this.inMultiSelectMode)\n            return;\n        this.inMultiSelectMode = true;\n\n        this.setStyle(\"ace_multiselect\");\n        this.keyBinding.addKeyboardHandler(commands.keyboardHandler);\n        this.commands.setDefaultHandler(\"exec\", this.$onMultiSelectExec);\n\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n\n    this.$onSingleSelect = function(e) {\n        if (this.session.multiSelect.inVirtualMode)\n            return;\n        this.inMultiSelectMode = false;\n\n        this.unsetStyle(\"ace_multiselect\");\n        this.keyBinding.removeKeyboardHandler(commands.keyboardHandler);\n\n        this.commands.removeDefaultHandler(\"exec\", this.$onMultiSelectExec);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n        this._emit(\"changeSelection\");\n    };\n\n    this.$onMultiSelectExec = function(e) {\n        var command = e.command;\n        var editor = e.editor;\n        if (!editor.multiSelect)\n            return;\n        if (!command.multiSelectAction) {\n            var result = command.exec(editor, e.args || {});\n            editor.multiSelect.addRange(editor.multiSelect.toOrientedRange());\n            editor.multiSelect.mergeOverlappingRanges();\n        } else if (command.multiSelectAction == \"forEach\") {\n            result = editor.forEachSelection(command, e.args);\n        } else if (command.multiSelectAction == \"forEachLine\") {\n            result = editor.forEachSelection(command, e.args, true);\n        } else if (command.multiSelectAction == \"single\") {\n            editor.exitMultiSelectMode();\n            result = command.exec(editor, e.args || {});\n        } else {\n            result = command.multiSelectAction(editor, e.args || {});\n        }\n        return result;\n    }; \n    this.forEachSelection = function(cmd, args, options) {\n        if (this.inVirtualSelectionMode)\n            return;\n        var keepOrder = options && options.keepOrder;\n        var $byLines = options == true || options && options.$byLines;\n        var session = this.session;\n        var selection = this.selection;\n        var rangeList = selection.rangeList;\n        var ranges = (keepOrder ? selection : rangeList).ranges;\n        var result;\n        \n        if (!ranges.length)\n            return cmd.exec ? cmd.exec(this, args || {}) : cmd(this, args || {});\n        \n        var reg = selection._eventRegistry;\n        selection._eventRegistry = {};\n\n        var tmpSel = new Selection(session);\n        this.inVirtualSelectionMode = true;\n        for (var i = ranges.length; i--;) {\n            if ($byLines) {\n                while (i > 0 && ranges[i].start.row == ranges[i - 1].end.row)\n                    i--;\n            }\n            tmpSel.fromOrientedRange(ranges[i]);\n            tmpSel.index = i;\n            this.selection = session.selection = tmpSel;\n            var cmdResult = cmd.exec ? cmd.exec(this, args || {}) : cmd(this, args || {});\n            if (!result && cmdResult !== undefined)\n                result = cmdResult;\n            tmpSel.toOrientedRange(ranges[i]);\n        }\n        tmpSel.detach();\n\n        this.selection = session.selection = selection;\n        this.inVirtualSelectionMode = false;\n        selection._eventRegistry = reg;\n        selection.mergeOverlappingRanges();\n        if (selection.ranges[0])\n            selection.fromOrientedRange(selection.ranges[0]);\n        \n        var anim = this.renderer.$scrollAnimation;\n        this.onCursorChange();\n        this.onSelectionChange();\n        if (anim && anim.from == anim.to)\n            this.renderer.animateScrolling(anim.from);\n        \n        return result;\n    };\n    this.exitMultiSelectMode = function() {\n        if (!this.inMultiSelectMode || this.inVirtualSelectionMode)\n            return;\n        this.multiSelect.toSingleRange();\n    };\n\n    this.getSelectedText = function() {\n        var text = \"\";\n        if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {\n            var ranges = this.multiSelect.rangeList.ranges;\n            var buf = [];\n            for (var i = 0; i < ranges.length; i++) {\n                buf.push(this.session.getTextRange(ranges[i]));\n            }\n            var nl = this.session.getDocument().getNewLineCharacter();\n            text = buf.join(nl);\n            if (text.length == (buf.length - 1) * nl.length)\n                text = \"\";\n        } else if (!this.selection.isEmpty()) {\n            text = this.session.getTextRange(this.getSelectionRange());\n        }\n        return text;\n    };\n    \n    this.$checkMultiselectChange = function(e, anchor) {\n        if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {\n            var range = this.multiSelect.ranges[0];\n            if (this.multiSelect.isEmpty() && anchor == this.multiSelect.anchor)\n                return;\n            var pos = anchor == this.multiSelect.anchor\n                ? range.cursor == range.start ? range.end : range.start\n                : range.cursor;\n            if (pos.row != anchor.row \n                || this.session.$clipPositionToDocument(pos.row, pos.column).column != anchor.column)\n                this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange());\n            else\n                this.multiSelect.mergeOverlappingRanges();\n        }\n    };\n    this.findAll = function(needle, options, additive) {\n        options = options || {};\n        options.needle = needle || options.needle;\n        if (options.needle == undefined) {\n            var range = this.selection.isEmpty()\n                ? this.selection.getWordRange()\n                : this.selection.getRange();\n            options.needle = this.session.getTextRange(range);\n        }    \n        this.$search.set(options);\n        \n        var ranges = this.$search.findAll(this.session);\n        if (!ranges.length)\n            return 0;\n\n        var selection = this.multiSelect;\n\n        if (!additive)\n            selection.toSingleRange(ranges[0]);\n\n        for (var i = ranges.length; i--; )\n            selection.addRange(ranges[i], true);\n        if (range && selection.rangeList.rangeAtPoint(range.start))\n            selection.addRange(range, true);\n        \n        return ranges.length;\n    };\n    this.selectMoreLines = function(dir, skip) {\n        var range = this.selection.toOrientedRange();\n        var isBackwards = range.cursor == range.end;\n\n        var screenLead = this.session.documentToScreenPosition(range.cursor);\n        if (this.selection.$desiredColumn)\n            screenLead.column = this.selection.$desiredColumn;\n\n        var lead = this.session.screenToDocumentPosition(screenLead.row + dir, screenLead.column);\n\n        if (!range.isEmpty()) {\n            var screenAnchor = this.session.documentToScreenPosition(isBackwards ? range.end : range.start);\n            var anchor = this.session.screenToDocumentPosition(screenAnchor.row + dir, screenAnchor.column);\n        } else {\n            var anchor = lead;\n        }\n\n        if (isBackwards) {\n            var newRange = Range.fromPoints(lead, anchor);\n            newRange.cursor = newRange.start;\n        } else {\n            var newRange = Range.fromPoints(anchor, lead);\n            newRange.cursor = newRange.end;\n        }\n\n        newRange.desiredColumn = screenLead.column;\n        if (!this.selection.inMultiSelectMode) {\n            this.selection.addRange(range);\n        } else {\n            if (skip)\n                var toRemove = range.cursor;\n        }\n\n        this.selection.addRange(newRange);\n        if (toRemove)\n            this.selection.substractPoint(toRemove);\n    };\n    this.transposeSelections = function(dir) {\n        var session = this.session;\n        var sel = session.multiSelect;\n        var all = sel.ranges;\n\n        for (var i = all.length; i--; ) {\n            var range = all[i];\n            if (range.isEmpty()) {\n                var tmp = session.getWordRange(range.start.row, range.start.column);\n                range.start.row = tmp.start.row;\n                range.start.column = tmp.start.column;\n                range.end.row = tmp.end.row;\n                range.end.column = tmp.end.column;\n            }\n        }\n        sel.mergeOverlappingRanges();\n\n        var words = [];\n        for (var i = all.length; i--; ) {\n            var range = all[i];\n            words.unshift(session.getTextRange(range));\n        }\n\n        if (dir < 0)\n            words.unshift(words.pop());\n        else\n            words.push(words.shift());\n\n        for (var i = all.length; i--; ) {\n            var range = all[i];\n            var tmp = range.clone();\n            session.replace(range, words[i]);\n            range.start.row = tmp.start.row;\n            range.start.column = tmp.start.column;\n        }\n        sel.fromOrientedRange(sel.ranges[0]);\n    };\n    this.selectMore = function(dir, skip, stopAtFirst) {\n        var session = this.session;\n        var sel = session.multiSelect;\n\n        var range = sel.toOrientedRange();\n        if (range.isEmpty()) {\n            range = session.getWordRange(range.start.row, range.start.column);\n            range.cursor = dir == -1 ? range.start : range.end;\n            this.multiSelect.addRange(range);\n            if (stopAtFirst)\n                return;\n        }\n        var needle = session.getTextRange(range);\n\n        var newRange = find(session, needle, dir);\n        if (newRange) {\n            newRange.cursor = dir == -1 ? newRange.start : newRange.end;\n            this.session.unfold(newRange);\n            this.multiSelect.addRange(newRange);\n            this.renderer.scrollCursorIntoView(null, 0.5);\n        }\n        if (skip)\n            this.multiSelect.substractPoint(range.cursor);\n    };\n    this.alignCursors = function() {\n        var session = this.session;\n        var sel = session.multiSelect;\n        var ranges = sel.ranges;\n        var row = -1;\n        var sameRowRanges = ranges.filter(function(r) {\n            if (r.cursor.row == row)\n                return true;\n            row = r.cursor.row;\n        });\n        \n        if (!ranges.length || sameRowRanges.length == ranges.length - 1) {\n            var range = this.selection.getRange();\n            var fr = range.start.row, lr = range.end.row;\n            var guessRange = fr == lr;\n            if (guessRange) {\n                var max = this.session.getLength();\n                var line;\n                do {\n                    line = this.session.getLine(lr);\n                } while (/[=:]/.test(line) && ++lr < max);\n                do {\n                    line = this.session.getLine(fr);\n                } while (/[=:]/.test(line) && --fr > 0);\n                \n                if (fr < 0) fr = 0;\n                if (lr >= max) lr = max - 1;\n            }\n            var lines = this.session.removeFullLines(fr, lr);\n            lines = this.$reAlignText(lines, guessRange);\n            this.session.insert({row: fr, column: 0}, lines.join(\"\\n\") + \"\\n\");\n            if (!guessRange) {\n                range.start.column = 0;\n                range.end.column = lines[lines.length - 1].length;\n            }\n            this.selection.setRange(range);\n        } else {\n            sameRowRanges.forEach(function(r) {\n                sel.substractPoint(r.cursor);\n            });\n\n            var maxCol = 0;\n            var minSpace = Infinity;\n            var spaceOffsets = ranges.map(function(r) {\n                var p = r.cursor;\n                var line = session.getLine(p.row);\n                var spaceOffset = line.substr(p.column).search(/\\S/g);\n                if (spaceOffset == -1)\n                    spaceOffset = 0;\n\n                if (p.column > maxCol)\n                    maxCol = p.column;\n                if (spaceOffset < minSpace)\n                    minSpace = spaceOffset;\n                return spaceOffset;\n            });\n            ranges.forEach(function(r, i) {\n                var p = r.cursor;\n                var l = maxCol - p.column;\n                var d = spaceOffsets[i] - minSpace;\n                if (l > d)\n                    session.insert(p, lang.stringRepeat(\" \", l - d));\n                else\n                    session.remove(new Range(p.row, p.column, p.row, p.column - l + d));\n\n                r.start.column = r.end.column = maxCol;\n                r.start.row = r.end.row = p.row;\n                r.cursor = r.end;\n            });\n            sel.fromOrientedRange(ranges[0]);\n            this.renderer.updateCursor();\n            this.renderer.updateBackMarkers();\n        }\n    };\n\n    this.$reAlignText = function(lines, forceLeft) {\n        var isLeftAligned = true, isRightAligned = true;\n        var startW, textW, endW;\n\n        return lines.map(function(line) {\n            var m = line.match(/(\\s*)(.*?)(\\s*)([=:].*)/);\n            if (!m)\n                return [line];\n\n            if (startW == null) {\n                startW = m[1].length;\n                textW = m[2].length;\n                endW = m[3].length;\n                return m;\n            }\n\n            if (startW + textW + endW != m[1].length + m[2].length + m[3].length)\n                isRightAligned = false;\n            if (startW != m[1].length)\n                isLeftAligned = false;\n\n            if (startW > m[1].length)\n                startW = m[1].length;\n            if (textW < m[2].length)\n                textW = m[2].length;\n            if (endW > m[3].length)\n                endW = m[3].length;\n\n            return m;\n        }).map(forceLeft ? alignLeft :\n            isLeftAligned ? isRightAligned ? alignRight : alignLeft : unAlign);\n\n        function spaces(n) {\n            return lang.stringRepeat(\" \", n);\n        }\n\n        function alignLeft(m) {\n            return !m[2] ? m[0] : spaces(startW) + m[2]\n                + spaces(textW - m[2].length + endW)\n                + m[4].replace(/^([=:])\\s+/, \"$1 \");\n        }\n        function alignRight(m) {\n            return !m[2] ? m[0] : spaces(startW + textW - m[2].length) + m[2]\n                + spaces(endW)\n                + m[4].replace(/^([=:])\\s+/, \"$1 \");\n        }\n        function unAlign(m) {\n            return !m[2] ? m[0] : spaces(startW) + m[2]\n                + spaces(endW)\n                + m[4].replace(/^([=:])\\s+/, \"$1 \");\n        }\n    };\n}).call(Editor.prototype);\n\n\nfunction isSamePoint(p1, p2) {\n    return p1.row == p2.row && p1.column == p2.column;\n}\nexports.onSessionChange = function(e) {\n    var session = e.session;\n    if (session && !session.multiSelect) {\n        session.$selectionMarkers = [];\n        session.selection.$initRangeList();\n        session.multiSelect = session.selection;\n    }\n    this.multiSelect = session && session.multiSelect;\n\n    var oldSession = e.oldSession;\n    if (oldSession) {\n        oldSession.multiSelect.off(\"addRange\", this.$onAddRange);\n        oldSession.multiSelect.off(\"removeRange\", this.$onRemoveRange);\n        oldSession.multiSelect.off(\"multiSelect\", this.$onMultiSelect);\n        oldSession.multiSelect.off(\"singleSelect\", this.$onSingleSelect);\n        oldSession.multiSelect.lead.off(\"change\", this.$checkMultiselectChange);\n        oldSession.multiSelect.anchor.off(\"change\", this.$checkMultiselectChange);\n    }\n\n    if (session) {\n        session.multiSelect.on(\"addRange\", this.$onAddRange);\n        session.multiSelect.on(\"removeRange\", this.$onRemoveRange);\n        session.multiSelect.on(\"multiSelect\", this.$onMultiSelect);\n        session.multiSelect.on(\"singleSelect\", this.$onSingleSelect);\n        session.multiSelect.lead.on(\"change\", this.$checkMultiselectChange);\n        session.multiSelect.anchor.on(\"change\", this.$checkMultiselectChange);\n    }\n\n    if (session && this.inMultiSelectMode != session.selection.inMultiSelectMode) {\n        if (session.selection.inMultiSelectMode)\n            this.$onMultiSelect();\n        else\n            this.$onSingleSelect();\n    }\n};\nfunction MultiSelect(editor) {\n    if (editor.$multiselectOnSessionChange)\n        return;\n    editor.$onAddRange = editor.$onAddRange.bind(editor);\n    editor.$onRemoveRange = editor.$onRemoveRange.bind(editor);\n    editor.$onMultiSelect = editor.$onMultiSelect.bind(editor);\n    editor.$onSingleSelect = editor.$onSingleSelect.bind(editor);\n    editor.$multiselectOnSessionChange = exports.onSessionChange.bind(editor);\n    editor.$checkMultiselectChange = editor.$checkMultiselectChange.bind(editor);\n\n    editor.$multiselectOnSessionChange(editor);\n    editor.on(\"changeSession\", editor.$multiselectOnSessionChange);\n\n    editor.on(\"mousedown\", onMouseDown);\n    editor.commands.addCommands(commands.defaultCommands);\n\n    addAltCursorListeners(editor);\n}\n\nfunction addAltCursorListeners(editor){\n    if (!editor.textInput) return;\n    var el = editor.textInput.getElement();\n    var altCursor = false;\n    event.addListener(el, \"keydown\", function(e) {\n        var altDown = e.keyCode == 18 && !(e.ctrlKey || e.shiftKey || e.metaKey);\n        if (editor.$blockSelectEnabled && altDown) {\n            if (!altCursor) {\n                editor.renderer.setMouseCursor(\"crosshair\");\n                altCursor = true;\n            }\n        } else if (altCursor) {\n            reset();\n        }\n    }, editor);\n\n    event.addListener(el, \"keyup\", reset, editor);\n    event.addListener(el, \"blur\", reset, editor);\n    function reset(e) {\n        if (altCursor) {\n            editor.renderer.setMouseCursor(\"\");\n            altCursor = false;\n        }\n    }\n}\n\nexports.MultiSelect = MultiSelect;\n\n\nrequire(\"./config\").defineOptions(Editor.prototype, \"editor\", {\n    enableMultiselect: {\n        set: function(val) {\n            MultiSelect(this);\n            if (val) {\n                this.on(\"changeSession\", this.$multiselectOnSessionChange);\n                this.on(\"mousedown\", onMouseDown);\n            } else {\n                this.off(\"changeSession\", this.$multiselectOnSessionChange);\n                this.off(\"mousedown\", onMouseDown);\n            }\n        },\n        value: true\n    },\n    enableBlockSelect: {\n        set: function(val) {\n            this.$blockSelectEnabled = val;\n        },\n        value: true\n    }\n});\n\n\n\n});\n\nace.define(\"ace/mode/folding/fold_mode\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar Range = require(\"../../range\").Range;\n\nvar FoldMode = exports.FoldMode = function() {};\n\n(function() {\n\n    this.foldingStartMarker = null;\n    this.foldingStopMarker = null;\n    this.getFoldWidget = function(session, foldStyle, row) {\n        var line = session.getLine(row);\n        if (this.foldingStartMarker.test(line))\n            return \"start\";\n        if (foldStyle == \"markbeginend\"\n                && this.foldingStopMarker\n                && this.foldingStopMarker.test(line))\n            return \"end\";\n        return \"\";\n    };\n\n    this.getFoldWidgetRange = function(session, foldStyle, row) {\n        return null;\n    };\n\n    this.indentationBlock = function(session, row, column) {\n        var re = /\\S/;\n        var line = session.getLine(row);\n        var startLevel = line.search(re);\n        if (startLevel == -1)\n            return;\n\n        var startColumn = column || line.length;\n        var maxRow = session.getLength();\n        var startRow = row;\n        var endRow = row;\n\n        while (++row < maxRow) {\n            var level = session.getLine(row).search(re);\n\n            if (level == -1)\n                continue;\n\n            if (level <= startLevel) {\n                var token = session.getTokenAt(row, 0);\n                if (!token || token.type !== \"string\")\n                    break;\n            }\n\n            endRow = row;\n        }\n\n        if (endRow > startRow) {\n            var endColumn = session.getLine(endRow).length;\n            return new Range(startRow, startColumn, endRow, endColumn);\n        }\n    };\n\n    this.openingBracketBlock = function(session, bracket, row, column, typeRe) {\n        var start = {row: row, column: column + 1};\n        var end = session.$findClosingBracket(bracket, start, typeRe);\n        if (!end)\n            return;\n\n        var fw = session.foldWidgets[end.row];\n        if (fw == null)\n            fw = session.getFoldWidget(end.row);\n\n        if (fw == \"start\" && end.row > start.row) {\n            end.row --;\n            end.column = session.getLine(end.row).length;\n        }\n        return Range.fromPoints(start, end);\n    };\n\n    this.closingBracketBlock = function(session, bracket, row, column, typeRe) {\n        var end = {row: row, column: column};\n        var start = session.$findOpeningBracket(bracket, end);\n\n        if (!start)\n            return;\n\n        start.column++;\n        end.column--;\n\n        return  Range.fromPoints(start, end);\n    };\n}).call(FoldMode.prototype);\n\n});\n\nace.define(\"ace/theme/textmate\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\n\nexports.isDark = false;\nexports.cssClass = \"ace-tm\";\nexports.cssText = \".ace-tm .ace_gutter {\\\nbackground: #f0f0f0;\\\ncolor: #333;\\\n}\\\n.ace-tm .ace_print-margin {\\\nwidth: 1px;\\\nbackground: #e8e8e8;\\\n}\\\n.ace-tm .ace_fold {\\\nbackground-color: #6B72E6;\\\n}\\\n.ace-tm {\\\nbackground-color: #FFFFFF;\\\ncolor: black;\\\n}\\\n.ace-tm .ace_cursor {\\\ncolor: black;\\\n}\\\n.ace-tm .ace_invisible {\\\ncolor: rgb(191, 191, 191);\\\n}\\\n.ace-tm .ace_storage,\\\n.ace-tm .ace_keyword {\\\ncolor: blue;\\\n}\\\n.ace-tm .ace_constant {\\\ncolor: rgb(197, 6, 11);\\\n}\\\n.ace-tm .ace_constant.ace_buildin {\\\ncolor: rgb(88, 72, 246);\\\n}\\\n.ace-tm .ace_constant.ace_language {\\\ncolor: rgb(88, 92, 246);\\\n}\\\n.ace-tm .ace_constant.ace_library {\\\ncolor: rgb(6, 150, 14);\\\n}\\\n.ace-tm .ace_invalid {\\\nbackground-color: rgba(255, 0, 0, 0.1);\\\ncolor: red;\\\n}\\\n.ace-tm .ace_support.ace_function {\\\ncolor: rgb(60, 76, 114);\\\n}\\\n.ace-tm .ace_support.ace_constant {\\\ncolor: rgb(6, 150, 14);\\\n}\\\n.ace-tm .ace_support.ace_type,\\\n.ace-tm .ace_support.ace_class {\\\ncolor: rgb(109, 121, 222);\\\n}\\\n.ace-tm .ace_keyword.ace_operator {\\\ncolor: rgb(104, 118, 135);\\\n}\\\n.ace-tm .ace_string {\\\ncolor: rgb(3, 106, 7);\\\n}\\\n.ace-tm .ace_comment {\\\ncolor: rgb(76, 136, 107);\\\n}\\\n.ace-tm .ace_comment.ace_doc {\\\ncolor: rgb(0, 102, 255);\\\n}\\\n.ace-tm .ace_comment.ace_doc.ace_tag {\\\ncolor: rgb(128, 159, 191);\\\n}\\\n.ace-tm .ace_constant.ace_numeric {\\\ncolor: rgb(0, 0, 205);\\\n}\\\n.ace-tm .ace_variable {\\\ncolor: rgb(49, 132, 149);\\\n}\\\n.ace-tm .ace_xml-pe {\\\ncolor: rgb(104, 104, 91);\\\n}\\\n.ace-tm .ace_entity.ace_name.ace_function {\\\ncolor: #0000A2;\\\n}\\\n.ace-tm .ace_heading {\\\ncolor: rgb(12, 7, 255);\\\n}\\\n.ace-tm .ace_list {\\\ncolor:rgb(185, 6, 144);\\\n}\\\n.ace-tm .ace_meta.ace_tag {\\\ncolor:rgb(0, 22, 142);\\\n}\\\n.ace-tm .ace_string.ace_regex {\\\ncolor: rgb(255, 0, 0)\\\n}\\\n.ace-tm .ace_marker-layer .ace_selection {\\\nbackground: rgb(181, 213, 255);\\\n}\\\n.ace-tm.ace_multiselect .ace_selection.ace_start {\\\nbox-shadow: 0 0 3px 0px white;\\\n}\\\n.ace-tm .ace_marker-layer .ace_step {\\\nbackground: rgb(252, 255, 0);\\\n}\\\n.ace-tm .ace_marker-layer .ace_stack {\\\nbackground: rgb(164, 229, 101);\\\n}\\\n.ace-tm .ace_marker-layer .ace_bracket {\\\nmargin: -1px 0 0 -1px;\\\nborder: 1px solid rgb(192, 192, 192);\\\n}\\\n.ace-tm .ace_marker-layer .ace_active-line {\\\nbackground: rgba(0, 0, 0, 0.07);\\\n}\\\n.ace-tm .ace_gutter-active-line {\\\nbackground-color : #dcdcdc;\\\n}\\\n.ace-tm .ace_marker-layer .ace_selected-word {\\\nbackground: rgb(250, 250, 255);\\\nborder: 1px solid rgb(200, 200, 250);\\\n}\\\n.ace-tm .ace_indent-guide {\\\nbackground: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==\\\") right repeat-y;\\\n}\\\n\";\nexports.$id = \"ace/theme/textmate\";\n\nvar dom = require(\"../lib/dom\");\ndom.importCssString(exports.cssText, exports.cssClass);\n});\n\nace.define(\"ace/line_widgets\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\n\nvar dom = require(\"./lib/dom\");\n\nfunction LineWidgets(session) {\n    this.session = session;\n    this.session.widgetManager = this;\n    this.session.getRowLength = this.getRowLength;\n    this.session.$getWidgetScreenLength = this.$getWidgetScreenLength;\n    this.updateOnChange = this.updateOnChange.bind(this);\n    this.renderWidgets = this.renderWidgets.bind(this);\n    this.measureWidgets = this.measureWidgets.bind(this);\n    this.session._changedWidgets = [];\n    this.$onChangeEditor = this.$onChangeEditor.bind(this);\n    \n    this.session.on(\"change\", this.updateOnChange);\n    this.session.on(\"changeFold\", this.updateOnFold);\n    this.session.on(\"changeEditor\", this.$onChangeEditor);\n}\n\n(function() {\n    this.getRowLength = function(row) {\n        var h;\n        if (this.lineWidgets)\n            h = this.lineWidgets[row] && this.lineWidgets[row].rowCount || 0;\n        else \n            h = 0;\n        if (!this.$useWrapMode || !this.$wrapData[row]) {\n            return 1 + h;\n        } else {\n            return this.$wrapData[row].length + 1 + h;\n        }\n    };\n\n    this.$getWidgetScreenLength = function() {\n        var screenRows = 0;\n        this.lineWidgets.forEach(function(w){\n            if (w && w.rowCount && !w.hidden)\n                screenRows += w.rowCount;\n        });\n        return screenRows;\n    };    \n    \n    this.$onChangeEditor = function(e) {\n        this.attach(e.editor);\n    };\n    \n    this.attach = function(editor) {\n        if (editor  && editor.widgetManager && editor.widgetManager != this)\n            editor.widgetManager.detach();\n\n        if (this.editor == editor)\n            return;\n\n        this.detach();\n        this.editor = editor;\n        \n        if (editor) {\n            editor.widgetManager = this;\n            editor.renderer.on(\"beforeRender\", this.measureWidgets);\n            editor.renderer.on(\"afterRender\", this.renderWidgets);\n        }\n    };\n    this.detach = function(e) {\n        var editor = this.editor;\n        if (!editor)\n            return;\n        \n        this.editor = null;\n        editor.widgetManager = null;\n        \n        editor.renderer.off(\"beforeRender\", this.measureWidgets);\n        editor.renderer.off(\"afterRender\", this.renderWidgets);\n        var lineWidgets = this.session.lineWidgets;\n        lineWidgets && lineWidgets.forEach(function(w) {\n            if (w && w.el && w.el.parentNode) {\n                w._inDocument = false;\n                w.el.parentNode.removeChild(w.el);\n            }\n        });\n    };\n\n    this.updateOnFold = function(e, session) {\n        var lineWidgets = session.lineWidgets;\n        if (!lineWidgets || !e.action)\n            return;\n        var fold = e.data;\n        var start = fold.start.row;\n        var end = fold.end.row;\n        var hide = e.action == \"add\";\n        for (var i = start + 1; i < end; i++) {\n            if (lineWidgets[i])\n                lineWidgets[i].hidden = hide;\n        }\n        if (lineWidgets[end]) {\n            if (hide) {\n                if (!lineWidgets[start])\n                    lineWidgets[start] = lineWidgets[end];\n                else\n                    lineWidgets[end].hidden = hide;\n            } else {\n                if (lineWidgets[start] == lineWidgets[end])\n                    lineWidgets[start] = undefined;\n                lineWidgets[end].hidden = hide;\n            }\n        }\n    };\n    \n    this.updateOnChange = function(delta) {\n        var lineWidgets = this.session.lineWidgets;\n        if (!lineWidgets) return;\n        \n        var startRow = delta.start.row;\n        var len = delta.end.row - startRow;\n\n        if (len === 0) {\n        } else if (delta.action == \"remove\") {\n            var removed = lineWidgets.splice(startRow + 1, len);\n            if (!lineWidgets[startRow] && removed[removed.length - 1]) {\n                lineWidgets[startRow] = removed.pop();\n            }\n            removed.forEach(function(w) {\n                w && this.removeLineWidget(w);\n            }, this);\n            this.$updateRows();\n        } else {\n            var args = new Array(len);\n            if (lineWidgets[startRow] && lineWidgets[startRow].column != null) {\n                if (delta.start.column > lineWidgets[startRow].column)\n                    startRow++;\n            }\n            args.unshift(startRow, 0);\n            lineWidgets.splice.apply(lineWidgets, args);\n            this.$updateRows();\n        }\n    };\n    \n    this.$updateRows = function() {\n        var lineWidgets = this.session.lineWidgets;\n        if (!lineWidgets) return;\n        var noWidgets = true;\n        lineWidgets.forEach(function(w, i) {\n            if (w) {\n                noWidgets = false;\n                w.row = i;\n                while (w.$oldWidget) {\n                    w.$oldWidget.row = i;\n                    w = w.$oldWidget;\n                }\n            }\n        });\n        if (noWidgets)\n            this.session.lineWidgets = null;\n    };\n\n    this.$registerLineWidget = function(w) {\n        if (!this.session.lineWidgets)\n            this.session.lineWidgets = new Array(this.session.getLength());\n        \n        var old = this.session.lineWidgets[w.row];\n        if (old) {\n            w.$oldWidget = old;\n            if (old.el && old.el.parentNode) {\n                old.el.parentNode.removeChild(old.el);\n                old._inDocument = false;\n            }\n        }\n            \n        this.session.lineWidgets[w.row] = w;\n        return w;\n    };\n    \n    this.addLineWidget = function(w) {\n        this.$registerLineWidget(w);\n        w.session = this.session;\n        \n        if (!this.editor) return w;\n        \n        var renderer = this.editor.renderer;\n        if (w.html && !w.el) {\n            w.el = dom.createElement(\"div\");\n            w.el.innerHTML = w.html;\n        }\n        if (w.el) {\n            dom.addCssClass(w.el, \"ace_lineWidgetContainer\");\n            w.el.style.position = \"absolute\";\n            w.el.style.zIndex = 5;\n            renderer.container.appendChild(w.el);\n            w._inDocument = true;\n            \n            if (!w.coverGutter) {\n                w.el.style.zIndex = 3;\n            }\n            if (w.pixelHeight == null) {\n                w.pixelHeight = w.el.offsetHeight;\n            }\n        }\n        if (w.rowCount == null) {\n            w.rowCount = w.pixelHeight / renderer.layerConfig.lineHeight;\n        }\n        \n        var fold = this.session.getFoldAt(w.row, 0);\n        w.$fold = fold;\n        if (fold) {\n            var lineWidgets = this.session.lineWidgets;\n            if (w.row == fold.end.row && !lineWidgets[fold.start.row])\n                lineWidgets[fold.start.row] = w;\n            else\n                w.hidden = true;\n        }\n            \n        this.session._emit(\"changeFold\", {data:{start:{row: w.row}}});\n        \n        this.$updateRows();\n        this.renderWidgets(null, renderer);\n        this.onWidgetChanged(w);\n        return w;\n    };\n    \n    this.removeLineWidget = function(w) {\n        w._inDocument = false;\n        w.session = null;\n        if (w.el && w.el.parentNode)\n            w.el.parentNode.removeChild(w.el);\n        if (w.editor && w.editor.destroy) try {\n            w.editor.destroy();\n        } catch(e){}\n        if (this.session.lineWidgets) {\n            var w1 = this.session.lineWidgets[w.row];\n            if (w1 == w) {\n                this.session.lineWidgets[w.row] = w.$oldWidget;\n                if (w.$oldWidget)\n                    this.onWidgetChanged(w.$oldWidget);\n            } else {\n                while (w1) {\n                    if (w1.$oldWidget == w) {\n                        w1.$oldWidget = w.$oldWidget;\n                        break;\n                    }\n                    w1 = w1.$oldWidget;\n                }\n            }\n        }\n        this.session._emit(\"changeFold\", {data:{start:{row: w.row}}});\n        this.$updateRows();\n    };\n    \n    this.getWidgetsAtRow = function(row) {\n        var lineWidgets = this.session.lineWidgets;\n        var w = lineWidgets && lineWidgets[row];\n        var list = [];\n        while (w) {\n            list.push(w);\n            w = w.$oldWidget;\n        }\n        return list;\n    };\n    \n    this.onWidgetChanged = function(w) {\n        this.session._changedWidgets.push(w);\n        this.editor && this.editor.renderer.updateFull();\n    };\n    \n    this.measureWidgets = function(e, renderer) {\n        var changedWidgets = this.session._changedWidgets;\n        var config = renderer.layerConfig;\n        \n        if (!changedWidgets || !changedWidgets.length) return;\n        var min = Infinity;\n        for (var i = 0; i < changedWidgets.length; i++) {\n            var w = changedWidgets[i];\n            if (!w || !w.el) continue;\n            if (w.session != this.session) continue;\n            if (!w._inDocument) {\n                if (this.session.lineWidgets[w.row] != w)\n                    continue;\n                w._inDocument = true;\n                renderer.container.appendChild(w.el);\n            }\n            \n            w.h = w.el.offsetHeight;\n            \n            if (!w.fixedWidth) {\n                w.w = w.el.offsetWidth;\n                w.screenWidth = Math.ceil(w.w / config.characterWidth);\n            }\n            \n            var rowCount = w.h / config.lineHeight;\n            if (w.coverLine) {\n                rowCount -= this.session.getRowLineCount(w.row);\n                if (rowCount < 0)\n                    rowCount = 0;\n            }\n            if (w.rowCount != rowCount) {\n                w.rowCount = rowCount;\n                if (w.row < min)\n                    min = w.row;\n            }\n        }\n        if (min != Infinity) {\n            this.session._emit(\"changeFold\", {data:{start:{row: min}}});\n            this.session.lineWidgetWidth = null;\n        }\n        this.session._changedWidgets = [];\n    };\n    \n    this.renderWidgets = function(e, renderer) {\n        var config = renderer.layerConfig;\n        var lineWidgets = this.session.lineWidgets;\n        if (!lineWidgets)\n            return;\n        var first = Math.min(this.firstRow, config.firstRow);\n        var last = Math.max(this.lastRow, config.lastRow, lineWidgets.length);\n        \n        while (first > 0 && !lineWidgets[first])\n            first--;\n        \n        this.firstRow = config.firstRow;\n        this.lastRow = config.lastRow;\n\n        renderer.$cursorLayer.config = config;\n        for (var i = first; i <= last; i++) {\n            var w = lineWidgets[i];\n            if (!w || !w.el) continue;\n            if (w.hidden) {\n                w.el.style.top = -100 - (w.pixelHeight || 0) + \"px\";\n                continue;\n            }\n            if (!w._inDocument) {\n                w._inDocument = true;\n                renderer.container.appendChild(w.el);\n            }\n            var top = renderer.$cursorLayer.getPixelPosition({row: i, column:0}, true).top;\n            if (!w.coverLine)\n                top += config.lineHeight * this.session.getRowLineCount(w.row);\n            w.el.style.top = top - config.offset + \"px\";\n            \n            var left = w.coverGutter ? 0 : renderer.gutterWidth;\n            if (!w.fixedWidth)\n                left -= renderer.scrollLeft;\n            w.el.style.left = left + \"px\";\n            \n            if (w.fullWidth && w.screenWidth) {\n                w.el.style.minWidth = config.width + 2 * config.padding + \"px\";\n            }\n            \n            if (w.fixedWidth) {\n                w.el.style.right = renderer.scrollBar.getWidth() + \"px\";\n            } else {\n                w.el.style.right = \"\";\n            }\n        }\n    };\n    \n}).call(LineWidgets.prototype);\n\n\nexports.LineWidgets = LineWidgets;\n\n});\n\nace.define(\"ace/ext/error_marker\",[\"require\",\"exports\",\"module\",\"ace/line_widgets\",\"ace/lib/dom\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\nvar LineWidgets = require(\"../line_widgets\").LineWidgets;\nvar dom = require(\"../lib/dom\");\nvar Range = require(\"../range\").Range;\n\nfunction binarySearch(array, needle, comparator) {\n    var first = 0;\n    var last = array.length - 1;\n\n    while (first <= last) {\n        var mid = (first + last) >> 1;\n        var c = comparator(needle, array[mid]);\n        if (c > 0)\n            first = mid + 1;\n        else if (c < 0)\n            last = mid - 1;\n        else\n            return mid;\n    }\n    return -(first + 1);\n}\n\nfunction findAnnotations(session, row, dir) {\n    var annotations = session.getAnnotations().sort(Range.comparePoints);\n    if (!annotations.length)\n        return;\n    \n    var i = binarySearch(annotations, {row: row, column: -1}, Range.comparePoints);\n    if (i < 0)\n        i = -i - 1;\n    \n    if (i >= annotations.length)\n        i = dir > 0 ? 0 : annotations.length - 1;\n    else if (i === 0 && dir < 0)\n        i = annotations.length - 1;\n    \n    var annotation = annotations[i];\n    if (!annotation || !dir)\n        return;\n\n    if (annotation.row === row) {\n        do {\n            annotation = annotations[i += dir];\n        } while (annotation && annotation.row === row);\n        if (!annotation)\n            return annotations.slice();\n    }\n    \n    \n    var matched = [];\n    row = annotation.row;\n    do {\n        matched[dir < 0 ? \"unshift\" : \"push\"](annotation);\n        annotation = annotations[i += dir];\n    } while (annotation && annotation.row == row);\n    return matched.length && matched;\n}\n\nexports.showErrorMarker = function(editor, dir) {\n    var session = editor.session;\n    if (!session.widgetManager) {\n        session.widgetManager = new LineWidgets(session);\n        session.widgetManager.attach(editor);\n    }\n    \n    var pos = editor.getCursorPosition();\n    var row = pos.row;\n    var oldWidget = session.widgetManager.getWidgetsAtRow(row).filter(function(w) {\n        return w.type == \"errorMarker\";\n    })[0];\n    if (oldWidget) {\n        oldWidget.destroy();\n    } else {\n        row -= dir;\n    }\n    var annotations = findAnnotations(session, row, dir);\n    var gutterAnno;\n    if (annotations) {\n        var annotation = annotations[0];\n        pos.column = (annotation.pos && typeof annotation.column != \"number\"\n            ? annotation.pos.sc\n            : annotation.column) || 0;\n        pos.row = annotation.row;\n        gutterAnno = editor.renderer.$gutterLayer.$annotations[pos.row];\n    } else if (oldWidget) {\n        return;\n    } else {\n        gutterAnno = {\n            text: [\"Looks good!\"],\n            className: \"ace_ok\"\n        };\n    }\n    editor.session.unfold(pos.row);\n    editor.selection.moveToPosition(pos);\n    \n    var w = {\n        row: pos.row, \n        fixedWidth: true,\n        coverGutter: true,\n        el: dom.createElement(\"div\"),\n        type: \"errorMarker\"\n    };\n    var el = w.el.appendChild(dom.createElement(\"div\"));\n    var arrow = w.el.appendChild(dom.createElement(\"div\"));\n    arrow.className = \"error_widget_arrow \" + gutterAnno.className;\n    \n    var left = editor.renderer.$cursorLayer\n        .getPixelPosition(pos).left;\n    arrow.style.left = left + editor.renderer.gutterWidth - 5 + \"px\";\n    \n    w.el.className = \"error_widget_wrapper\";\n    el.className = \"error_widget \" + gutterAnno.className;\n    el.innerHTML = gutterAnno.text.join(\"<br>\");\n    \n    el.appendChild(dom.createElement(\"div\"));\n    \n    var kb = function(_, hashId, keyString) {\n        if (hashId === 0 && (keyString === \"esc\" || keyString === \"return\")) {\n            w.destroy();\n            return {command: \"null\"};\n        }\n    };\n    \n    w.destroy = function() {\n        if (editor.$mouseHandler.isMousePressed)\n            return;\n        editor.keyBinding.removeKeyboardHandler(kb);\n        session.widgetManager.removeLineWidget(w);\n        editor.off(\"changeSelection\", w.destroy);\n        editor.off(\"changeSession\", w.destroy);\n        editor.off(\"mouseup\", w.destroy);\n        editor.off(\"change\", w.destroy);\n    };\n    \n    editor.keyBinding.addKeyboardHandler(kb);\n    editor.on(\"changeSelection\", w.destroy);\n    editor.on(\"changeSession\", w.destroy);\n    editor.on(\"mouseup\", w.destroy);\n    editor.on(\"change\", w.destroy);\n    \n    editor.session.widgetManager.addLineWidget(w);\n    \n    w.el.onmousedown = editor.focus.bind(editor);\n    \n    editor.renderer.scrollCursorIntoView(null, 0.5, {bottom: w.el.offsetHeight});\n};\n\n\ndom.importCssString(\"\\\n    .error_widget_wrapper {\\\n        background: inherit;\\\n        color: inherit;\\\n        border:none\\\n    }\\\n    .error_widget {\\\n        border-top: solid 2px;\\\n        border-bottom: solid 2px;\\\n        margin: 5px 0;\\\n        padding: 10px 40px;\\\n        white-space: pre-wrap;\\\n    }\\\n    .error_widget.ace_error, .error_widget_arrow.ace_error{\\\n        border-color: #ff5a5a\\\n    }\\\n    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\\\n        border-color: #F1D817\\\n    }\\\n    .error_widget.ace_info, .error_widget_arrow.ace_info{\\\n        border-color: #5a5a5a\\\n    }\\\n    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\\\n        border-color: #5aaa5a\\\n    }\\\n    .error_widget_arrow {\\\n        position: absolute;\\\n        border: solid 5px;\\\n        border-top-color: transparent!important;\\\n        border-right-color: transparent!important;\\\n        border-left-color: transparent!important;\\\n        top: -5px;\\\n    }\\\n\", \"\");\n\n});\n\nace.define(\"ace/ace\",[\"require\",\"exports\",\"module\",\"ace/lib/fixoldbrowsers\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/range\",\"ace/editor\",\"ace/edit_session\",\"ace/undomanager\",\"ace/virtual_renderer\",\"ace/worker/worker_client\",\"ace/keyboard/hash_handler\",\"ace/placeholder\",\"ace/multi_select\",\"ace/mode/folding/fold_mode\",\"ace/theme/textmate\",\"ace/ext/error_marker\",\"ace/config\"], function(require, exports, module) {\n\"use strict\";\n\nrequire(\"./lib/fixoldbrowsers\");\n\nvar dom = require(\"./lib/dom\");\nvar event = require(\"./lib/event\");\n\nvar Range = require(\"./range\").Range;\nvar Editor = require(\"./editor\").Editor;\nvar EditSession = require(\"./edit_session\").EditSession;\nvar UndoManager = require(\"./undomanager\").UndoManager;\nvar Renderer = require(\"./virtual_renderer\").VirtualRenderer;\nrequire(\"./worker/worker_client\");\nrequire(\"./keyboard/hash_handler\");\nrequire(\"./placeholder\");\nrequire(\"./multi_select\");\nrequire(\"./mode/folding/fold_mode\");\nrequire(\"./theme/textmate\");\nrequire(\"./ext/error_marker\");\n\nexports.config = require(\"./config\");\nexports.require = require;\n\nif (typeof define === \"function\")\n    exports.define = define;\nexports.edit = function(el, options) {\n    if (typeof el == \"string\") {\n        var _id = el;\n        el = document.getElementById(_id);\n        if (!el)\n            throw new Error(\"ace.edit can't find div #\" + _id);\n    }\n\n    if (el && el.env && el.env.editor instanceof Editor)\n        return el.env.editor;\n\n    var value = \"\";\n    if (el && /input|textarea/i.test(el.tagName)) {\n        var oldNode = el;\n        value = oldNode.value;\n        el = dom.createElement(\"pre\");\n        oldNode.parentNode.replaceChild(el, oldNode);\n    } else if (el) {\n        value = el.textContent;\n        el.innerHTML = \"\";\n    }\n\n    var doc = exports.createEditSession(value);\n\n    var editor = new Editor(new Renderer(el), doc, options);\n\n    var env = {\n        document: doc,\n        editor: editor,\n        onResize: editor.resize.bind(editor, null)\n    };\n    if (oldNode) env.textarea = oldNode;\n    event.addListener(window, \"resize\", env.onResize);\n    editor.on(\"destroy\", function() {\n        event.removeListener(window, \"resize\", env.onResize);\n        env.editor.container.env = null; // prevent memory leak on old ie\n    });\n    editor.container.env = editor.env = env;\n    return editor;\n};\nexports.createEditSession = function(text, mode) {\n    var doc = new EditSession(text, mode);\n    doc.setUndoManager(new UndoManager());\n    return doc;\n};\nexports.Range = Range;\nexports.Editor = Editor;\nexports.EditSession = EditSession;\nexports.UndoManager = UndoManager;\nexports.VirtualRenderer = Renderer;\nexports.version = exports.config.version;\n});            (function() {\n                ace.require([\"ace/ace\"], function(a) {\n                    if (a) {\n                        a.config.init(true);\n                        a.define = ace.define;\n                    }\n                    if (!window.ace)\n                        window.ace = a;\n                    for (var key in a) if (a.hasOwnProperty(key))\n                        window.ace[key] = a[key];\n                    window.ace[\"default\"] = window.ace;\n                    if (typeof module == \"object\" && typeof exports == \"object\" && module) {\n                        module.exports = window.ace;\n                    }\n                });\n            })();\n        ","module.exports = function() {\n\tthrow new Error(\"define cannot be used indirect\");\n};\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar editorOptions_1 = require(\"./editorOptions\");\nvar ace = editorOptions_1.getAceInstance();\nvar ace_builds_1 = require(\"ace-builds\");\nvar ext_split_1 = require(\"ace-builds/src-noconflict/ext-split\");\nvar PropTypes = require(\"prop-types\");\nvar React = require(\"react\");\nvar isEqual = require(\"lodash.isequal\");\nvar get = require(\"lodash.get\");\nvar SplitComponent = /** @class */ (function (_super) {\n    __extends(SplitComponent, _super);\n    function SplitComponent(props) {\n        var _this = _super.call(this, props) || this;\n        editorOptions_1.editorEvents.forEach(function (method) {\n            _this[method] = _this[method].bind(_this);\n        });\n        _this.debounce = editorOptions_1.debounce;\n        return _this;\n    }\n    SplitComponent.prototype.componentDidMount = function () {\n        var _this = this;\n        var _a = this.props, className = _a.className, onBeforeLoad = _a.onBeforeLoad, mode = _a.mode, focus = _a.focus, theme = _a.theme, fontSize = _a.fontSize, value = _a.value, defaultValue = _a.defaultValue, cursorStart = _a.cursorStart, showGutter = _a.showGutter, wrapEnabled = _a.wrapEnabled, showPrintMargin = _a.showPrintMargin, _b = _a.scrollMargin, scrollMargin = _b === void 0 ? [0, 0, 0, 0] : _b, keyboardHandler = _a.keyboardHandler, onLoad = _a.onLoad, commands = _a.commands, annotations = _a.annotations, markers = _a.markers, splits = _a.splits;\n        this.editor = ace.edit(this.refEditor);\n        this.editor.setTheme(\"ace/theme/\" + theme);\n        if (onBeforeLoad) {\n            onBeforeLoad(ace);\n        }\n        var editorProps = Object.keys(this.props.editorProps);\n        var split = new ext_split_1.Split(this.editor.container, \"ace/theme/\" + theme, splits);\n        this.editor.env.split = split;\n        this.splitEditor = split.getEditor(0);\n        this.split = split;\n        // in a split scenario we don't want a print margin for the entire application\n        this.editor.setShowPrintMargin(false);\n        this.editor.renderer.setShowGutter(false);\n        // get a list of possible options to avoid 'misspelled option errors'\n        var availableOptions = this.splitEditor.$options;\n        if (this.props.debounceChangePeriod) {\n            this.onChange = this.debounce(this.onChange, this.props.debounceChangePeriod);\n        }\n        split.forEach(function (editor, index) {\n            for (var i = 0; i < editorProps.length; i++) {\n                editor[editorProps[i]] = _this.props.editorProps[editorProps[i]];\n            }\n            var defaultValueForEditor = get(defaultValue, index);\n            var valueForEditor = get(value, index, \"\");\n            editor.session.setUndoManager(new ace.UndoManager());\n            editor.setTheme(\"ace/theme/\" + theme);\n            editor.renderer.setScrollMargin(scrollMargin[0], scrollMargin[1], scrollMargin[2], scrollMargin[3]);\n            editor.getSession().setMode(\"ace/mode/\" + mode);\n            editor.setFontSize(fontSize);\n            editor.renderer.setShowGutter(showGutter);\n            editor.getSession().setUseWrapMode(wrapEnabled);\n            editor.setShowPrintMargin(showPrintMargin);\n            editor.on(\"focus\", _this.onFocus);\n            editor.on(\"blur\", _this.onBlur);\n            editor.on(\"input\", _this.onInput);\n            editor.on(\"copy\", _this.onCopy);\n            editor.on(\"paste\", _this.onPaste);\n            editor.on(\"change\", _this.onChange);\n            editor\n                .getSession()\n                .selection.on(\"changeSelection\", _this.onSelectionChange);\n            editor.getSession().selection.on(\"changeCursor\", _this.onCursorChange);\n            editor.session.on(\"changeScrollTop\", _this.onScroll);\n            editor.setValue(defaultValueForEditor === undefined\n                ? valueForEditor\n                : defaultValueForEditor, cursorStart);\n            var newAnnotations = get(annotations, index, []);\n            var newMarkers = get(markers, index, []);\n            editor.getSession().setAnnotations(newAnnotations);\n            if (newMarkers && newMarkers.length > 0) {\n                _this.handleMarkers(newMarkers, editor);\n            }\n            for (var i = 0; i < editorOptions_1.editorOptions.length; i++) {\n                var option = editorOptions_1.editorOptions[i];\n                if (availableOptions.hasOwnProperty(option)) {\n                    editor.setOption(option, _this.props[option]);\n                }\n                else if (_this.props[option]) {\n                    console.warn(\"ReaceAce: editor option \" + option + \" was activated but not found. Did you need to import a related tool or did you possibly mispell the option?\");\n                }\n            }\n            _this.handleOptions(_this.props, editor);\n            if (Array.isArray(commands)) {\n                commands.forEach(function (command) {\n                    if (typeof command.exec === \"string\") {\n                        editor.commands.bindKey(command.bindKey, command.exec);\n                    }\n                    else {\n                        editor.commands.addCommand(command);\n                    }\n                });\n            }\n            if (keyboardHandler) {\n                editor.setKeyboardHandler(\"ace/keyboard/\" + keyboardHandler);\n            }\n        });\n        if (className) {\n            this.refEditor.className += \" \" + className;\n        }\n        if (focus) {\n            this.splitEditor.focus();\n        }\n        var sp = this.editor.env.split;\n        sp.setOrientation(this.props.orientation === \"below\" ? sp.BELOW : sp.BESIDE);\n        sp.resize(true);\n        if (onLoad) {\n            onLoad(sp);\n        }\n    };\n    SplitComponent.prototype.componentDidUpdate = function (prevProps) {\n        var _this = this;\n        var oldProps = prevProps;\n        var nextProps = this.props;\n        var split = this.editor.env.split;\n        if (nextProps.splits !== oldProps.splits) {\n            split.setSplits(nextProps.splits);\n        }\n        if (nextProps.orientation !== oldProps.orientation) {\n            split.setOrientation(nextProps.orientation === \"below\" ? split.BELOW : split.BESIDE);\n        }\n        split.forEach(function (editor, index) {\n            if (nextProps.mode !== oldProps.mode) {\n                editor.getSession().setMode(\"ace/mode/\" + nextProps.mode);\n            }\n            if (nextProps.keyboardHandler !== oldProps.keyboardHandler) {\n                if (nextProps.keyboardHandler) {\n                    editor.setKeyboardHandler(\"ace/keyboard/\" + nextProps.keyboardHandler);\n                }\n                else {\n                    editor.setKeyboardHandler(null);\n                }\n            }\n            if (nextProps.fontSize !== oldProps.fontSize) {\n                editor.setFontSize(nextProps.fontSize);\n            }\n            if (nextProps.wrapEnabled !== oldProps.wrapEnabled) {\n                editor.getSession().setUseWrapMode(nextProps.wrapEnabled);\n            }\n            if (nextProps.showPrintMargin !== oldProps.showPrintMargin) {\n                editor.setShowPrintMargin(nextProps.showPrintMargin);\n            }\n            if (nextProps.showGutter !== oldProps.showGutter) {\n                editor.renderer.setShowGutter(nextProps.showGutter);\n            }\n            for (var i = 0; i < editorOptions_1.editorOptions.length; i++) {\n                var option = editorOptions_1.editorOptions[i];\n                if (nextProps[option] !== oldProps[option]) {\n                    editor.setOption(option, nextProps[option]);\n                }\n            }\n            if (!isEqual(nextProps.setOptions, oldProps.setOptions)) {\n                _this.handleOptions(nextProps, editor);\n            }\n            var nextValue = get(nextProps.value, index, \"\");\n            if (editor.getValue() !== nextValue) {\n                // editor.setValue is a synchronous function call, change event is emitted before setValue return.\n                _this.silent = true;\n                var pos = editor.session.selection.toJSON();\n                editor.setValue(nextValue, nextProps.cursorStart);\n                editor.session.selection.fromJSON(pos);\n                _this.silent = false;\n            }\n            var newAnnotations = get(nextProps.annotations, index, []);\n            var oldAnnotations = get(oldProps.annotations, index, []);\n            if (!isEqual(newAnnotations, oldAnnotations)) {\n                editor.getSession().setAnnotations(newAnnotations);\n            }\n            var newMarkers = get(nextProps.markers, index, []);\n            var oldMarkers = get(oldProps.markers, index, []);\n            if (!isEqual(newMarkers, oldMarkers) && Array.isArray(newMarkers)) {\n                _this.handleMarkers(newMarkers, editor);\n            }\n        });\n        if (nextProps.className !== oldProps.className) {\n            var appliedClasses = this.refEditor.className;\n            var appliedClassesArray_1 = appliedClasses.trim().split(\" \");\n            var oldClassesArray = oldProps.className.trim().split(\" \");\n            oldClassesArray.forEach(function (oldClass) {\n                var index = appliedClassesArray_1.indexOf(oldClass);\n                appliedClassesArray_1.splice(index, 1);\n            });\n            this.refEditor.className =\n                \" \" + nextProps.className + \" \" + appliedClassesArray_1.join(\" \");\n        }\n        if (nextProps.theme !== oldProps.theme) {\n            split.setTheme(\"ace/theme/\" + nextProps.theme);\n        }\n        if (nextProps.focus && !oldProps.focus) {\n            this.splitEditor.focus();\n        }\n        if (nextProps.height !== this.props.height ||\n            nextProps.width !== this.props.width) {\n            this.editor.resize();\n        }\n    };\n    SplitComponent.prototype.componentWillUnmount = function () {\n        this.editor.destroy();\n        this.editor = null;\n    };\n    SplitComponent.prototype.onChange = function (event) {\n        if (this.props.onChange && !this.silent) {\n            var value_1 = [];\n            this.editor.env.split.forEach(function (editor) {\n                value_1.push(editor.getValue());\n            });\n            this.props.onChange(value_1, event);\n        }\n    };\n    SplitComponent.prototype.onSelectionChange = function (event) {\n        if (this.props.onSelectionChange) {\n            var value_2 = [];\n            this.editor.env.split.forEach(function (editor) {\n                value_2.push(editor.getSelection());\n            });\n            this.props.onSelectionChange(value_2, event);\n        }\n    };\n    SplitComponent.prototype.onCursorChange = function (event) {\n        if (this.props.onCursorChange) {\n            var value_3 = [];\n            this.editor.env.split.forEach(function (editor) {\n                value_3.push(editor.getSelection());\n            });\n            this.props.onCursorChange(value_3, event);\n        }\n    };\n    SplitComponent.prototype.onFocus = function (event) {\n        if (this.props.onFocus) {\n            this.props.onFocus(event);\n        }\n    };\n    SplitComponent.prototype.onInput = function (event) {\n        if (this.props.onInput) {\n            this.props.onInput(event);\n        }\n    };\n    SplitComponent.prototype.onBlur = function (event) {\n        if (this.props.onBlur) {\n            this.props.onBlur(event);\n        }\n    };\n    SplitComponent.prototype.onCopy = function (text) {\n        if (this.props.onCopy) {\n            this.props.onCopy(text);\n        }\n    };\n    SplitComponent.prototype.onPaste = function (text) {\n        if (this.props.onPaste) {\n            this.props.onPaste(text);\n        }\n    };\n    SplitComponent.prototype.onScroll = function () {\n        if (this.props.onScroll) {\n            this.props.onScroll(this.editor);\n        }\n    };\n    SplitComponent.prototype.handleOptions = function (props, editor) {\n        var setOptions = Object.keys(props.setOptions);\n        for (var y = 0; y < setOptions.length; y++) {\n            editor.setOption(setOptions[y], props.setOptions[setOptions[y]]);\n        }\n    };\n    SplitComponent.prototype.handleMarkers = function (markers, editor) {\n        // remove foreground markers\n        var currentMarkers = editor.getSession().getMarkers(true);\n        for (var i in currentMarkers) {\n            if (currentMarkers.hasOwnProperty(i)) {\n                editor.getSession().removeMarker(currentMarkers[i].id);\n            }\n        }\n        // remove background markers\n        currentMarkers = editor.getSession().getMarkers(false);\n        for (var i in currentMarkers) {\n            if (currentMarkers.hasOwnProperty(i)) {\n                editor.getSession().removeMarker(currentMarkers[i].id);\n            }\n        }\n        // add new markers\n        markers.forEach(function (_a) {\n            var startRow = _a.startRow, startCol = _a.startCol, endRow = _a.endRow, endCol = _a.endCol, className = _a.className, type = _a.type, _b = _a.inFront, inFront = _b === void 0 ? false : _b;\n            var range = new ace_builds_1.Range(startRow, startCol, endRow, endCol);\n            editor\n                .getSession()\n                .addMarker(range, className, type, inFront);\n        });\n    };\n    SplitComponent.prototype.updateRef = function (item) {\n        this.refEditor = item;\n    };\n    SplitComponent.prototype.render = function () {\n        var _a = this.props, name = _a.name, width = _a.width, height = _a.height, style = _a.style;\n        var divStyle = __assign({ width: width, height: height }, style);\n        return React.createElement(\"div\", { ref: this.updateRef, id: name, style: divStyle });\n    };\n    SplitComponent.propTypes = {\n        className: PropTypes.string,\n        debounceChangePeriod: PropTypes.number,\n        defaultValue: PropTypes.arrayOf(PropTypes.string),\n        focus: PropTypes.bool,\n        fontSize: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n        height: PropTypes.string,\n        mode: PropTypes.string,\n        name: PropTypes.string,\n        onBlur: PropTypes.func,\n        onChange: PropTypes.func,\n        onCopy: PropTypes.func,\n        onFocus: PropTypes.func,\n        onInput: PropTypes.func,\n        onLoad: PropTypes.func,\n        onPaste: PropTypes.func,\n        onScroll: PropTypes.func,\n        orientation: PropTypes.string,\n        showGutter: PropTypes.bool,\n        splits: PropTypes.number,\n        theme: PropTypes.string,\n        value: PropTypes.arrayOf(PropTypes.string),\n        width: PropTypes.string,\n        onSelectionChange: PropTypes.func,\n        onCursorChange: PropTypes.func,\n        onBeforeLoad: PropTypes.func,\n        minLines: PropTypes.number,\n        maxLines: PropTypes.number,\n        readOnly: PropTypes.bool,\n        highlightActiveLine: PropTypes.bool,\n        tabSize: PropTypes.number,\n        showPrintMargin: PropTypes.bool,\n        cursorStart: PropTypes.number,\n        editorProps: PropTypes.object,\n        setOptions: PropTypes.object,\n        style: PropTypes.object,\n        scrollMargin: PropTypes.array,\n        annotations: PropTypes.array,\n        markers: PropTypes.array,\n        keyboardHandler: PropTypes.string,\n        wrapEnabled: PropTypes.bool,\n        enableBasicAutocompletion: PropTypes.oneOfType([\n            PropTypes.bool,\n            PropTypes.array\n        ]),\n        enableLiveAutocompletion: PropTypes.oneOfType([\n            PropTypes.bool,\n            PropTypes.array\n        ]),\n        commands: PropTypes.array\n    };\n    SplitComponent.defaultProps = {\n        name: \"ace-editor\",\n        focus: false,\n        orientation: \"beside\",\n        splits: 2,\n        mode: \"\",\n        theme: \"\",\n        height: \"500px\",\n        width: \"500px\",\n        value: [],\n        fontSize: 12,\n        showGutter: true,\n        onChange: null,\n        onPaste: null,\n        onLoad: null,\n        onScroll: null,\n        minLines: null,\n        maxLines: null,\n        readOnly: false,\n        highlightActiveLine: true,\n        showPrintMargin: true,\n        tabSize: 4,\n        cursorStart: 1,\n        editorProps: {},\n        style: {},\n        scrollMargin: [0, 0, 0, 0],\n        setOptions: {},\n        wrapEnabled: false,\n        enableBasicAutocompletion: false,\n        enableLiveAutocompletion: false\n    };\n    return SplitComponent;\n}(React.Component));\nexports.default = SplitComponent;\n//# sourceMappingURL=split.js.map","export default (value: any): value is HTMLElement =>\n  value instanceof HTMLElement;\n","import { ValidationMode } from './types';\n\nexport const EVENTS = {\n  BLUR: 'blur',\n  CHANGE: 'change',\n  INPUT: 'input',\n};\n\nexport const VALIDATION_MODE: ValidationMode = {\n  onBlur: 'onBlur',\n  onChange: 'onChange',\n  onSubmit: 'onSubmit',\n  onTouched: 'onTouched',\n  all: 'all',\n};\n\nexport const SELECT = 'select';\n\nexport const UNDEFINED = 'undefined';\n\nexport const INPUT_VALIDATION_RULES = {\n  max: 'max',\n  min: 'min',\n  maxLength: 'maxLength',\n  minLength: 'minLength',\n  pattern: 'pattern',\n  required: 'required',\n  validate: 'validate',\n};\n","import isHTMLElement from '../utils/isHTMLElement';\nimport { EVENTS } from '../constants';\nimport { Field } from '../types';\n\nexport default function attachEventListeners(\n  { ref }: Field,\n  shouldAttachChangeEvent?: boolean,\n  handleChange?: EventListenerOrEventListenerObject,\n): void {\n  if (isHTMLElement(ref) && handleChange) {\n    ref.addEventListener(\n      shouldAttachChangeEvent ? EVENTS.CHANGE : EVENTS.INPUT,\n      handleChange,\n    );\n    ref.addEventListener(EVENTS.BLUR, handleChange);\n  }\n}\n","export default (value: unknown): value is null | undefined => value == null;\n","import isNullOrUndefined from './isNullOrUndefined';\n\nexport const isObjectType = (value: unknown) => typeof value === 'object';\n\nexport default <T extends object>(value: unknown): value is T =>\n  !isNullOrUndefined(value) &&\n  !Array.isArray(value) &&\n  isObjectType(value) &&\n  !(value instanceof Date);\n","export default (value: string) => /^\\w*$/.test(value);\n","export default (value: any[]) => value.filter(Boolean);\n","import compact from './compact';\n\nexport default (input: string): string[] =>\n  compact(\n    input\n      .replace(/[\"|']/g, '')\n      .replace(/\\[/g, '.')\n      .replace(/\\]/g, '')\n      .split('.'),\n  );\n","import isObject from './isObject';\nimport isKey from './isKey';\nimport stringToPath from './stringToPath';\nimport { FieldValues } from '../types';\n\nexport default function set(\n  object: FieldValues,\n  path: string,\n  value?: unknown,\n) {\n  let index = -1;\n  const tempPath = isKey(path) ? [path] : stringToPath(path);\n  const length = tempPath.length;\n  const lastIndex = length - 1;\n\n  while (++index < length) {\n    const key = tempPath[index];\n    let newValue = value;\n\n    if (index !== lastIndex) {\n      const objValue = object[key];\n      newValue =\n        isObject(objValue) || Array.isArray(objValue)\n          ? objValue\n          : !isNaN(+tempPath[index + 1])\n          ? []\n          : {};\n    }\n    object[key] = newValue;\n    object = object[key];\n  }\n  return object;\n}\n","import set from '../utils/set';\nimport isKey from '../utils/isKey';\nimport { FieldValues } from '../types';\n\nexport default (data: FieldValues, value: Record<string, any> = {}): any => {\n  for (const key in data) {\n    !isKey(key) ? set(value, key, data[key]) : (value[key] = data[key]);\n  }\n  return value;\n};\n","export default (val: unknown): val is undefined => val === undefined;\n","import isUndefined from './isUndefined';\nimport isNullOrUndefined from './isNullOrUndefined';\nimport compact from './compact';\n\nexport default (obj: any = {}, path: string, defaultValue?: unknown) => {\n  const result = compact(path.split(/[,[\\].]+?/)).reduce(\n    (result, key) => (isNullOrUndefined(result) ? result : result[key]),\n    obj,\n  );\n\n  return isUndefined(result) || result === obj\n    ? isUndefined(obj[path])\n      ? defaultValue\n      : obj[path]\n    : result;\n};\n","import get from '../utils/get';\nimport isUndefined from '../utils/isUndefined';\nimport { FieldErrors, FieldRefs } from '../types';\n\nexport default <TFieldValues>(\n  fields: FieldRefs<TFieldValues>,\n  fieldErrors: FieldErrors<TFieldValues>,\n) => {\n  for (const key in fields) {\n    if (get(fieldErrors, key)) {\n      const field = fields[key];\n\n      if (field) {\n        if (field.ref.focus && isUndefined(field.ref.focus())) {\n          break;\n        } else if (field.options) {\n          field.options[0].ref.focus();\n\n          break;\n        }\n      }\n    }\n  }\n};\n","import isHTMLElement from '../utils/isHTMLElement';\nimport { EVENTS } from '../constants';\nimport { Ref } from '../types';\n\nexport default (\n  ref: Ref,\n  validateWithStateUpdate: EventListenerOrEventListenerObject,\n): void => {\n  if (isHTMLElement(ref) && ref.removeEventListener) {\n    ref.removeEventListener(EVENTS.INPUT, validateWithStateUpdate);\n    ref.removeEventListener(EVENTS.CHANGE, validateWithStateUpdate);\n    ref.removeEventListener(EVENTS.BLUR, validateWithStateUpdate);\n  }\n};\n","import { RadioOrCheckboxOption } from '../types';\n\ntype RadioFieldResult = {\n  isValid: boolean;\n  value: number | string;\n};\n\nconst defaultReturn: RadioFieldResult = {\n  isValid: false,\n  value: '',\n};\n\nexport default (options?: RadioOrCheckboxOption[]): RadioFieldResult =>\n  Array.isArray(options)\n    ? options.reduce(\n        (previous, option): RadioFieldResult =>\n          option && option.ref.checked\n            ? {\n                isValid: true,\n                value: option.ref.value,\n              }\n            : previous,\n        defaultReturn,\n      )\n    : defaultReturn;\n","import { FieldElement } from '../types';\n\nexport default (element: FieldElement): element is HTMLInputElement =>\n  element.type === 'radio';\n","import { FieldElement } from '../types';\n\nexport default (element: FieldElement): element is HTMLInputElement =>\n  element.type === 'file';\n","import { FieldElement } from '../types';\n\nexport default (element: FieldElement): element is HTMLInputElement =>\n  element.type === 'checkbox';\n","import { FieldElement } from '../types';\nimport { SELECT } from '../constants';\n\nexport default (element: FieldElement): element is HTMLSelectElement =>\n  element.type === `${SELECT}-multiple`;\n","import isUndefined from '../utils/isUndefined';\nimport { RadioOrCheckboxOption } from '../types';\n\ntype CheckboxFieldResult = {\n  isValid: boolean;\n  value: string | string[] | boolean;\n};\n\nconst defaultResult: CheckboxFieldResult = {\n  value: false,\n  isValid: false,\n};\n\nconst validResult = { value: true, isValid: true };\n\nexport default (options?: RadioOrCheckboxOption[]): CheckboxFieldResult => {\n  if (Array.isArray(options)) {\n    if (options.length > 1) {\n      const values = options\n        .filter((option) => option && option.ref.checked)\n        .map(({ ref: { value } }) => value);\n      return { value: values, isValid: !!values.length };\n    }\n\n    const { checked, value, attributes } = options[0].ref;\n\n    return checked\n      ? attributes && !isUndefined((attributes as any).value)\n        ? isUndefined(value) || value === ''\n          ? validResult\n          : { value: value, isValid: true }\n        : validResult\n      : defaultResult;\n  }\n\n  return defaultResult;\n};\n","import * as React from 'react';\nimport getRadioValue from './getRadioValue';\nimport getMultipleSelectValue from './getMultipleSelectValue';\nimport isRadioInput from '../utils/isRadioInput';\nimport get from '../utils/get';\nimport isFileInput from '../utils/isFileInput';\nimport isCheckBox from '../utils/isCheckBoxInput';\nimport isMultipleSelect from '../utils/isMultipleSelect';\nimport getCheckboxValue from './getCheckboxValue';\nimport { FieldRefs, FieldValues, InternalFieldName } from '../types';\n\nexport default function getFieldValue<TFieldValues extends FieldValues>(\n  fieldsRef: React.MutableRefObject<FieldRefs<TFieldValues>>,\n  name: InternalFieldName<TFieldValues>,\n  shallowFieldsStateRef?: React.MutableRefObject<Partial<FieldValues>>,\n  excludeDisabled?: boolean,\n) {\n  const field = fieldsRef.current[name]!;\n\n  if (field) {\n    const {\n      ref: { value, disabled },\n      ref,\n      valueAsNumber,\n      valueAsDate,\n      setValueAs,\n    } = field;\n\n    if (disabled && excludeDisabled) {\n      return;\n    }\n\n    if (isFileInput(ref)) {\n      return ref.files;\n    }\n\n    if (isRadioInput(ref)) {\n      return getRadioValue(field.options).value;\n    }\n\n    if (isMultipleSelect(ref)) {\n      return getMultipleSelectValue(ref.options);\n    }\n\n    if (isCheckBox(ref)) {\n      return getCheckboxValue(field.options).value;\n    }\n\n    return valueAsNumber\n      ? +value\n      : valueAsDate\n      ? (ref as HTMLInputElement).valueAsDate\n      : setValueAs\n      ? setValueAs(value)\n      : value;\n  }\n\n  if (shallowFieldsStateRef) {\n    return get(shallowFieldsStateRef.current, name);\n  }\n}\n","export default (\n  options: HTMLOptionElement[] | HTMLOptionsCollection,\n): string[] =>\n  [...options]\n    .filter(({ selected }): boolean => selected)\n    .map(({ value }): string => value);\n","import { Ref } from '../types';\n\nexport default function isDetached(element: Ref): boolean {\n  if (!element) {\n    return true;\n  }\n\n  if (\n    !(element instanceof HTMLElement) ||\n    element.nodeType === Node.DOCUMENT_NODE\n  ) {\n    return false;\n  }\n\n  return isDetached(element.parentNode as Ref);\n}\n","import isObject from './isObject';\nimport { EmptyObject } from '../types';\n\nexport default (value: unknown): value is EmptyObject =>\n  isObject(value) && !Object.keys(value).length;\n","export default (value: unknown): value is boolean => typeof value === 'boolean';\n","import isKey from './isKey';\nimport stringToPath from './stringToPath';\nimport isEmptyObject from './isEmptyObject';\nimport isObject from './isObject';\nimport isUndefined from './isUndefined';\nimport isBoolean from './isBoolean';\n\nfunction baseGet(object: any, updatePath: (string | number)[]) {\n  const length = updatePath.slice(0, -1).length;\n  let index = 0;\n\n  while (index < length) {\n    object = isUndefined(object) ? index++ : object[updatePath[index++]];\n  }\n\n  return object;\n}\n\nexport default function unset(object: any, path: string) {\n  const updatePath = isKey(path) ? [path] : stringToPath(path);\n  const childObject =\n    updatePath.length == 1 ? object : baseGet(object, updatePath);\n  const key = updatePath[updatePath.length - 1];\n  let previousObjRef;\n\n  if (childObject) {\n    delete childObject[key];\n  }\n\n  for (let k = 0; k < updatePath.slice(0, -1).length; k++) {\n    let index = -1;\n    let objectRef;\n    const currentPaths = updatePath.slice(0, -(k + 1));\n    const currentPathsLength = currentPaths.length - 1;\n\n    if (k > 0) {\n      previousObjRef = object;\n    }\n\n    while (++index < currentPaths.length) {\n      const item = currentPaths[index];\n      objectRef = objectRef ? objectRef[item] : object[item];\n\n      if (\n        currentPathsLength === index &&\n        ((isObject(objectRef) && isEmptyObject(objectRef)) ||\n          (Array.isArray(objectRef) &&\n            !objectRef.filter(\n              (data) =>\n                (isObject(data) && !isEmptyObject(data)) || isBoolean(data),\n            ).length))\n      ) {\n        previousObjRef ? delete previousObjRef[item] : delete object[item];\n      }\n\n      previousObjRef = objectRef;\n    }\n  }\n\n  return object;\n}\n","import * as React from 'react';\nimport removeAllEventListeners from './removeAllEventListeners';\nimport getFieldValue from './getFieldValue';\nimport isRadioInput from '../utils/isRadioInput';\nimport set from '../utils/set';\nimport isCheckBoxInput from '../utils/isCheckBoxInput';\nimport isDetached from '../utils/isDetached';\nimport unset from '../utils/unset';\nimport compact from '../utils/compact';\nimport isUndefined from '../utils/isUndefined';\nimport { Field, FieldRefs, FieldValues, Ref } from '../types';\n\nconst isSameRef = (fieldValue: Field, ref: Ref) =>\n  fieldValue && fieldValue.ref === ref;\n\nexport default function findRemovedFieldAndRemoveListener<\n  TFieldValues extends FieldValues\n>(\n  fieldsRef: React.MutableRefObject<FieldRefs<TFieldValues>>,\n  handleChange: ({ type, target }: Event) => Promise<void | boolean>,\n  field: Field,\n  shallowFieldsStateRef: React.MutableRefObject<FieldValues>,\n  shouldUnregister?: boolean,\n  forceDelete?: boolean,\n): void {\n  const {\n    ref,\n    ref: { name },\n  } = field;\n  const fieldRef = fieldsRef.current[name] as Field;\n\n  if (!shouldUnregister) {\n    const value = getFieldValue(fieldsRef, name, shallowFieldsStateRef);\n\n    !isUndefined(value) && set(shallowFieldsStateRef.current, name, value);\n  }\n\n  if (!ref.type || !fieldRef) {\n    delete fieldsRef.current[name];\n    return;\n  }\n\n  if (isRadioInput(ref) || isCheckBoxInput(ref)) {\n    if (Array.isArray(fieldRef.options) && fieldRef.options.length) {\n      compact(fieldRef.options).forEach((option = {}, index): void => {\n        if (\n          (isDetached(option.ref) && isSameRef(option, option.ref)) ||\n          forceDelete\n        ) {\n          removeAllEventListeners(option.ref, handleChange);\n          unset(fieldRef.options, `[${index}]`);\n        }\n      });\n\n      if (fieldRef.options && !compact(fieldRef.options).length) {\n        delete fieldsRef.current[name];\n      }\n    } else {\n      delete fieldsRef.current[name];\n    }\n  } else if ((isDetached(ref) && isSameRef(fieldRef, ref)) || forceDelete) {\n    removeAllEventListeners(ref, handleChange);\n\n    delete fieldsRef.current[name];\n  }\n}\n","import isNullOrUndefined from './isNullOrUndefined';\nimport { isObjectType } from './isObject';\nimport { Primitive } from '../types';\n\nexport default (value: unknown): value is Primitive =>\n  isNullOrUndefined(value) || !isObjectType(value);\n","import isObject from './isObject';\nimport isPrimitive from './isPrimitive';\n\nexport function deepMerge<\n  T extends Record<keyof T, any>,\n  U extends Record<keyof U, any>\n>(target: T, source: U): T & U {\n  if (isPrimitive(target) || isPrimitive(source)) {\n    return source;\n  }\n\n  for (const key in source) {\n    const targetValue = target[key];\n    const sourceValue = source[key];\n\n    try {\n      target[key] =\n        (isObject(targetValue) && isObject(sourceValue)) ||\n        (Array.isArray(targetValue) && Array.isArray(sourceValue))\n          ? deepMerge(targetValue, sourceValue)\n          : sourceValue;\n    } catch {}\n  }\n\n  return target;\n}\n","import * as React from 'react';\nimport isObject from '../utils/isObject';\nimport isPrimitive from './isPrimitive';\n\nexport default function deepEqual(\n  object1: any,\n  object2: any,\n  isErrorObject?: boolean,\n) {\n  if (\n    isPrimitive(object1) ||\n    isPrimitive(object2) ||\n    object1 instanceof Date ||\n    object2 instanceof Date\n  ) {\n    return object1 === object2;\n  }\n\n  if (!React.isValidElement(object1)) {\n    const keys1 = Object.keys(object1);\n    const keys2 = Object.keys(object2);\n\n    if (keys1.length !== keys2.length) {\n      return false;\n    }\n\n    for (const key of keys1) {\n      const val1 = object1[key];\n\n      if (!(isErrorObject && key === 'ref')) {\n        const val2 = object2[key];\n\n        if (\n          (isObject(val1) || Array.isArray(val1)) &&\n          (isObject(val2) || Array.isArray(val2))\n            ? !deepEqual(val1, val2, isErrorObject)\n            : val1 !== val2\n        ) {\n          return false;\n        }\n      }\n    }\n  }\n\n  return true;\n}\n","import { get } from '../utils';\nimport set from '../utils/set';\nimport { deepMerge } from '../utils/deepMerge';\nimport deepEqual from '../utils/deepEqual';\n\nfunction setDirtyFields<\n  T extends Record<string, unknown>[],\n  U extends Record<string, unknown>[],\n  K extends Record<string, boolean | []>\n>(\n  values: T,\n  defaultValues: U,\n  dirtyFields: Record<string, boolean | []>[],\n  parentNode?: K,\n  parentName?: keyof K,\n) {\n  let index = -1;\n\n  while (++index < values.length) {\n    for (const key in values[index]) {\n      if (Array.isArray(values[index][key])) {\n        !dirtyFields[index] && (dirtyFields[index] = {});\n        dirtyFields[index][key] = [];\n        setDirtyFields(\n          values[index][key] as T,\n          get(defaultValues[index] || {}, key, []),\n          dirtyFields[index][key] as [],\n          dirtyFields[index],\n          key,\n        );\n      } else {\n        deepEqual(get(defaultValues[index] || {}, key), values[index][key])\n          ? set(dirtyFields[index] || {}, key)\n          : (dirtyFields[index] = {\n              ...dirtyFields[index],\n              [key]: true,\n            });\n      }\n    }\n\n    parentNode &&\n      !dirtyFields.length &&\n      delete parentNode[parentName as keyof K];\n  }\n\n  return dirtyFields;\n}\n\nexport default <T extends U, U extends Record<string, unknown>[]>(\n  values: T,\n  defaultValues: U,\n  dirtyFields: Record<string, boolean | []>[],\n) =>\n  deepMerge(\n    setDirtyFields(values, defaultValues, dirtyFields.slice(0, values.length)),\n    setDirtyFields(defaultValues, values, dirtyFields.slice(0, values.length)),\n  );\n","export default (value: unknown): value is string => typeof value === 'string';\n","import * as React from 'react';\nimport getFieldValue from './getFieldValue';\nimport isString from '../utils/isString';\nimport { deepMerge } from '../utils/deepMerge';\nimport isUndefined from '../utils/isUndefined';\nimport { InternalFieldName, FieldValues, FieldRefs } from '../types';\nimport transformToNestObject from './transformToNestObject';\n\nexport default <TFieldValues extends FieldValues>(\n  fieldsRef: React.MutableRefObject<FieldRefs<TFieldValues>>,\n  shallowFieldsState: Record<string, any>,\n  shouldUnregister: boolean,\n  excludeDisabled?: boolean,\n  search?:\n    | InternalFieldName<TFieldValues>\n    | InternalFieldName<TFieldValues>[]\n    | { nest: boolean },\n) => {\n  const output = {} as TFieldValues;\n\n  for (const name in fieldsRef.current) {\n    if (\n      isUndefined(search) ||\n      (isString(search)\n        ? name.startsWith(search)\n        : Array.isArray(search) && search.find((data) => name.startsWith(data)))\n    ) {\n      output[name as InternalFieldName<TFieldValues>] = getFieldValue(\n        fieldsRef,\n        name,\n        undefined,\n        excludeDisabled,\n      );\n    }\n  }\n\n  return shouldUnregister\n    ? transformToNestObject(output)\n    : deepMerge(shallowFieldsState, transformToNestObject(output));\n};\n","import get from '../utils/get';\nimport isUndefined from '../utils/isUndefined';\nimport deepEqual from '../utils/deepEqual';\nimport {\n  FieldValues,\n  InternalFieldName,\n  FieldErrors,\n  FieldNamesMarkedBoolean,\n  FieldError,\n} from '../types';\n\nexport default <TFieldValues extends FieldValues>({\n  errors,\n  name,\n  error,\n  validFields,\n  fieldsWithValidation,\n}: {\n  errors: FieldErrors<TFieldValues>;\n  error: FieldError | undefined;\n  name: InternalFieldName<TFieldValues>;\n  validFields: FieldNamesMarkedBoolean<TFieldValues>;\n  fieldsWithValidation: FieldNamesMarkedBoolean<TFieldValues>;\n}): boolean => {\n  const isValid = isUndefined(error);\n  const previousError = get(errors, name);\n\n  return (\n    (isValid && !!previousError) ||\n    (!isValid && !deepEqual(previousError, error, true)) ||\n    (isValid && get(fieldsWithValidation, name) && !get(validFields, name))\n  );\n};\n","export default (value: unknown): value is RegExp => value instanceof RegExp;\n","import isObject from '../utils/isObject';\nimport isRegex from '../utils/isRegex';\nimport { ValidationRule } from '../types';\n\nexport default (validationData?: ValidationRule) =>\n  isObject(validationData) && !isRegex(validationData)\n    ? validationData\n    : {\n        value: validationData,\n        message: '',\n      };\n","export default (value: unknown): value is Function =>\n  typeof value === 'function';\n","import * as React from 'react';\nimport isString from '../utils/isString';\nimport { Message } from '../types';\n\nexport default (value: unknown): value is Message =>\n  isString(value) || React.isValidElement(value as JSX.Element);\n","import isBoolean from '../utils/isBoolean';\nimport isMessage from '../utils/isMessage';\nimport { FieldError, ValidateResult, Ref } from '../types';\n\nexport default function getValidateError(\n  result: ValidateResult,\n  ref: Ref,\n  type = 'validate',\n): FieldError | void {\n  if (isMessage(result) || (isBoolean(result) && !result)) {\n    return {\n      type,\n      message: isMessage(result) ? result : '',\n      ref,\n    };\n  }\n}\n","import {\n  InternalFieldName,\n  ValidateResult,\n  InternalFieldErrors,\n} from '../types';\n\nexport default <TFieldValues>(\n  name: InternalFieldName<TFieldValues>,\n  validateAllFieldCriteria: boolean,\n  errors: InternalFieldErrors<TFieldValues>,\n  type: string,\n  message: ValidateResult,\n) =>\n  validateAllFieldCriteria\n    ? {\n        ...errors[name],\n        types: {\n          ...(errors[name] && errors[name]!.types ? errors[name]!.types : {}),\n          [type]: message || true,\n        },\n      }\n    : {};\n","import * as React from 'react';\nimport getRadioValue from './getRadioValue';\nimport getCheckboxValue from './getCheckboxValue';\nimport isNullOrUndefined from '../utils/isNullOrUndefined';\nimport isRadioInput from '../utils/isRadioInput';\nimport getValueAndMessage from './getValueAndMessage';\nimport isCheckBoxInput from '../utils/isCheckBoxInput';\nimport isString from '../utils/isString';\nimport isEmptyObject from '../utils/isEmptyObject';\nimport isObject from '../utils/isObject';\nimport isFunction from '../utils/isFunction';\nimport getFieldsValue from './getFieldValue';\nimport isRegex from '../utils/isRegex';\nimport isBoolean from '../utils/isBoolean';\nimport isMessage from '../utils/isMessage';\nimport getValidateError from './getValidateError';\nimport appendErrors from './appendErrors';\nimport { INPUT_VALIDATION_RULES } from '../constants';\nimport {\n  Field,\n  FieldValues,\n  FieldRefs,\n  Message,\n  FieldError,\n  InternalFieldName,\n  InternalFieldErrors,\n} from '../types';\n\nexport default async <TFieldValues extends FieldValues>(\n  fieldsRef: React.MutableRefObject<FieldRefs<TFieldValues>>,\n  validateAllFieldCriteria: boolean,\n  {\n    ref,\n    ref: { value },\n    options,\n    required,\n    maxLength,\n    minLength,\n    min,\n    max,\n    pattern,\n    validate,\n  }: Field,\n  shallowFieldsStateRef: React.MutableRefObject<Record<string, any>>,\n): Promise<InternalFieldErrors<TFieldValues>> => {\n  const name: InternalFieldName<TFieldValues> = ref.name;\n  const error: InternalFieldErrors<TFieldValues> = {};\n  const isRadio = isRadioInput(ref);\n  const isCheckBox = isCheckBoxInput(ref);\n  const isRadioOrCheckbox = isRadio || isCheckBox;\n  const isEmpty = value === '';\n  const appendErrorsCurry = appendErrors.bind(\n    null,\n    name,\n    validateAllFieldCriteria,\n    error,\n  );\n  const getMinMaxMessage = (\n    exceedMax: boolean,\n    maxLengthMessage: Message,\n    minLengthMessage: Message,\n    maxType = INPUT_VALIDATION_RULES.maxLength,\n    minType = INPUT_VALIDATION_RULES.minLength,\n  ) => {\n    const message = exceedMax ? maxLengthMessage : minLengthMessage;\n    error[name] = {\n      type: exceedMax ? maxType : minType,\n      message,\n      ref,\n      ...(exceedMax\n        ? appendErrorsCurry(maxType, message)\n        : appendErrorsCurry(minType, message)),\n    };\n  };\n\n  if (\n    required &&\n    ((!isRadio && !isCheckBox && (isEmpty || isNullOrUndefined(value))) ||\n      (isBoolean(value) && !value) ||\n      (isCheckBox && !getCheckboxValue(options).isValid) ||\n      (isRadio && !getRadioValue(options).isValid))\n  ) {\n    const { value, message } = isMessage(required)\n      ? { value: !!required, message: required }\n      : getValueAndMessage(required);\n\n    if (value) {\n      error[name] = {\n        type: INPUT_VALIDATION_RULES.required,\n        message,\n        ref: isRadioOrCheckbox\n          ? (((fieldsRef.current[name] as Field).options || [])[0] || {}).ref\n          : ref,\n        ...appendErrorsCurry(INPUT_VALIDATION_RULES.required, message),\n      };\n      if (!validateAllFieldCriteria) {\n        return error;\n      }\n    }\n  }\n\n  if ((!isNullOrUndefined(min) || !isNullOrUndefined(max)) && value !== '') {\n    let exceedMax;\n    let exceedMin;\n    const maxOutput = getValueAndMessage(max);\n    const minOutput = getValueAndMessage(min);\n\n    if (!isNaN(value)) {\n      const valueNumber =\n        (ref as HTMLInputElement).valueAsNumber || parseFloat(value);\n      if (!isNullOrUndefined(maxOutput.value)) {\n        exceedMax = valueNumber > maxOutput.value;\n      }\n      if (!isNullOrUndefined(minOutput.value)) {\n        exceedMin = valueNumber < minOutput.value;\n      }\n    } else {\n      const valueDate =\n        (ref as HTMLInputElement).valueAsDate || new Date(value);\n      if (isString(maxOutput.value)) {\n        exceedMax = valueDate > new Date(maxOutput.value);\n      }\n      if (isString(minOutput.value)) {\n        exceedMin = valueDate < new Date(minOutput.value);\n      }\n    }\n\n    if (exceedMax || exceedMin) {\n      getMinMaxMessage(\n        !!exceedMax,\n        maxOutput.message,\n        minOutput.message,\n        INPUT_VALIDATION_RULES.max,\n        INPUT_VALIDATION_RULES.min,\n      );\n      if (!validateAllFieldCriteria) {\n        return error;\n      }\n    }\n  }\n\n  if (isString(value) && !isEmpty && (maxLength || minLength)) {\n    const maxLengthOutput = getValueAndMessage(maxLength);\n    const minLengthOutput = getValueAndMessage(minLength);\n    const exceedMax =\n      !isNullOrUndefined(maxLengthOutput.value) &&\n      value.length > maxLengthOutput.value;\n    const exceedMin =\n      !isNullOrUndefined(minLengthOutput.value) &&\n      value.length < minLengthOutput.value;\n\n    if (exceedMax || exceedMin) {\n      getMinMaxMessage(\n        exceedMax,\n        maxLengthOutput.message,\n        minLengthOutput.message,\n      );\n      if (!validateAllFieldCriteria) {\n        return error;\n      }\n    }\n  }\n\n  if (isString(value) && pattern && !isEmpty) {\n    const { value: patternValue, message } = getValueAndMessage(pattern);\n\n    if (isRegex(patternValue) && !patternValue.test(value)) {\n      error[name] = {\n        type: INPUT_VALIDATION_RULES.pattern,\n        message,\n        ref,\n        ...appendErrorsCurry(INPUT_VALIDATION_RULES.pattern, message),\n      };\n      if (!validateAllFieldCriteria) {\n        return error;\n      }\n    }\n  }\n\n  if (validate) {\n    const fieldValue = getFieldsValue(fieldsRef, name, shallowFieldsStateRef);\n    const validateRef = isRadioOrCheckbox && options ? options[0].ref : ref;\n\n    if (isFunction(validate)) {\n      const result = await validate(fieldValue);\n      const validateError = getValidateError(result, validateRef);\n\n      if (validateError) {\n        error[name] = {\n          ...validateError,\n          ...appendErrorsCurry(\n            INPUT_VALIDATION_RULES.validate,\n            validateError.message,\n          ),\n        };\n        if (!validateAllFieldCriteria) {\n          return error;\n        }\n      }\n    } else if (isObject(validate)) {\n      let validationResult = {} as FieldError;\n      for (const [key, validateFunction] of Object.entries(validate)) {\n        if (!isEmptyObject(validationResult) && !validateAllFieldCriteria) {\n          break;\n        }\n\n        const validateResult = await validateFunction(fieldValue);\n        const validateError = getValidateError(\n          validateResult,\n          validateRef,\n          key,\n        );\n\n        if (validateError) {\n          validationResult = {\n            ...validateError,\n            ...appendErrorsCurry(key, validateError.message),\n          };\n\n          if (validateAllFieldCriteria) {\n            error[name] = validationResult;\n          }\n        }\n      }\n\n      if (!isEmptyObject(validationResult)) {\n        error[name] = {\n          ref: validateRef,\n          ...validationResult,\n        };\n        if (!validateAllFieldCriteria) {\n          return error;\n        }\n      }\n    }\n  }\n\n  return error;\n};\n","import isPrimitive from './isPrimitive';\nimport isObject from './isObject';\nimport { FieldName } from '../types';\n\nexport const getPath = <TFieldValues>(\n  rootPath: FieldName<TFieldValues>,\n  values: any,\n  paths: FieldName<TFieldValues>[] = [],\n): FieldName<TFieldValues>[] => {\n  for (const property in values) {\n    const rootName = (rootPath +\n      (isObject(values)\n        ? `.${property}`\n        : `[${property}]`)) as FieldName<TFieldValues>;\n\n    isPrimitive(values[property])\n      ? paths.push(rootName)\n      : getPath(rootName, values[property], paths);\n  }\n\n  return paths;\n};\n","import get from '../utils/get';\nimport { getPath } from '../utils/getPath';\nimport isEmptyObject from '../utils/isEmptyObject';\nimport isUndefined from '../utils/isUndefined';\nimport isObject from '../utils/isObject';\nimport {\n  DeepPartial,\n  FieldValue,\n  FieldValues,\n  InternalFieldName,\n  UnpackNestedValue,\n} from '../types';\n\nexport default <TFieldValues extends FieldValues>(\n  fieldValues: TFieldValues,\n  fieldName: InternalFieldName<TFieldValues>,\n  watchFields: Set<InternalFieldName<TFieldValues>>,\n  inputValue: UnpackNestedValue<DeepPartial<TFieldValues>>,\n  isSingleField?: boolean,\n):\n  | FieldValue<TFieldValues>\n  | UnpackNestedValue<DeepPartial<TFieldValues>>\n  | undefined => {\n  let value = undefined;\n\n  watchFields.add(fieldName);\n\n  if (!isEmptyObject(fieldValues)) {\n    value = get(fieldValues, fieldName);\n\n    if (isObject(value) || Array.isArray(value)) {\n      getPath(fieldName, value).forEach((name) => watchFields.add(name));\n    }\n  }\n\n  return isUndefined(value)\n    ? isSingleField\n      ? inputValue\n      : get(inputValue, fieldName)\n    : value;\n};\n","export default ({\n  isOnBlur,\n  isOnChange,\n  isOnTouch,\n  isTouched,\n  isReValidateOnBlur,\n  isReValidateOnChange,\n  isBlurEvent,\n  isSubmitted,\n  isOnAll,\n}: {\n  isOnAll?: boolean;\n  isOnBlur?: boolean;\n  isOnChange?: boolean;\n  isReValidateOnBlur?: boolean;\n  isReValidateOnChange?: boolean;\n  isBlurEvent?: boolean;\n  isSubmitted?: boolean;\n  isOnTouch?: boolean;\n  isTouched?: boolean;\n}) => {\n  if (isOnAll) {\n    return false;\n  } else if (!isSubmitted && isOnTouch) {\n    return !(isTouched || isBlurEvent);\n  } else if (isSubmitted ? isReValidateOnBlur : isOnBlur) {\n    return !isBlurEvent;\n  } else if (isSubmitted ? isReValidateOnChange : isOnChange) {\n    return isBlurEvent;\n  }\n  return true;\n};\n","export default (name: string) => name.substring(0, name.indexOf('['));\n","import { FieldValues, InternalFieldName } from '../types';\n\nexport const isMatchFieldArrayName = (name: string, searchName: string) =>\n  RegExp(\n    `^${searchName}([|.)\\\\d+`.replace(/\\[/g, '\\\\[').replace(/\\]/g, '\\\\]'),\n  ).test(name);\n\nexport default (\n  names: Set<InternalFieldName<FieldValues>>,\n  name: InternalFieldName<FieldValues>,\n) => [...names].some((current) => isMatchFieldArrayName(name, current));\n","import { FieldElement } from '../types';\nimport { SELECT } from '../constants';\n\nexport default (element: FieldElement): element is HTMLSelectElement =>\n  element.type === `${SELECT}-one`;\n","import * as React from 'react';\nimport { Field, FieldRefs } from '../types';\nimport isDetached from './isDetached';\n\nexport default function onDomRemove<TFieldValues>(\n  fieldsRef: React.MutableRefObject<FieldRefs<TFieldValues>>,\n  removeFieldEventListenerAndRef: (\n    field: Field | undefined,\n    forceDelete?: boolean,\n  ) => void,\n): MutationObserver {\n  const observer = new MutationObserver((): void => {\n    for (const field of Object.values(fieldsRef.current)) {\n      if (field && field.options) {\n        for (const option of field.options) {\n          if (option && option.ref && isDetached(option.ref)) {\n            removeFieldEventListenerAndRef(field);\n          }\n        }\n      } else if (field && isDetached(field.ref)) {\n        removeFieldEventListenerAndRef(field);\n      }\n    }\n  });\n\n  observer.observe(window.document, {\n    childList: true,\n    subtree: true,\n  });\n\n  return observer;\n}\n","import { UNDEFINED } from '../constants';\n\nexport default typeof window !== UNDEFINED && typeof document !== UNDEFINED;\n","import isPrimitive from './isPrimitive';\nimport isHTMLElement from './isHTMLElement';\nimport isWeb from './isWeb';\n\nexport default function cloneObject<T extends unknown>(data: T): T {\n  let copy: any;\n\n  if (\n    isPrimitive(data) ||\n    (isWeb && (data instanceof File || isHTMLElement(data)))\n  ) {\n    return data;\n  }\n\n  if (data instanceof Date) {\n    copy = new Date(data.getTime());\n    return copy;\n  }\n\n  if (data instanceof Set) {\n    copy = new Set();\n    for (const item of data) {\n      copy.add(item);\n    }\n    return copy;\n  }\n\n  if (data instanceof Map) {\n    copy = new Map();\n    for (const key of data.keys()) {\n      copy.set(key, cloneObject(data.get(key)));\n    }\n    return copy;\n  }\n\n  copy = Array.isArray(data) ? [] : {};\n\n  for (const key in data) {\n    copy[key] = cloneObject(data[key]);\n  }\n\n  return copy;\n}\n","import { VALIDATION_MODE } from '../constants';\nimport { Mode } from '../types';\n\nexport default (\n  mode?: Mode,\n): {\n  isOnSubmit: boolean;\n  isOnBlur: boolean;\n  isOnChange: boolean;\n  isOnAll: boolean;\n  isOnTouch: boolean;\n} => ({\n  isOnSubmit: !mode || mode === VALIDATION_MODE.onSubmit,\n  isOnBlur: mode === VALIDATION_MODE.onBlur,\n  isOnChange: mode === VALIDATION_MODE.onChange,\n  isOnAll: mode === VALIDATION_MODE.all,\n  isOnTouch: mode === VALIDATION_MODE.onTouched,\n});\n","import isRadioInput from './isRadioInput';\nimport isCheckBoxInput from './isCheckBoxInput';\nimport { FieldElement } from '../types';\n\nexport default (ref: FieldElement): ref is HTMLInputElement =>\n  isRadioInput(ref) || isCheckBoxInput(ref);\n","import * as React from 'react';\nimport attachEventListeners from './logic/attachEventListeners';\nimport transformToNestObject from './logic/transformToNestObject';\nimport focusOnErrorField from './logic/focusOnErrorField';\nimport findRemovedFieldAndRemoveListener from './logic/findRemovedFieldAndRemoveListener';\nimport setFieldArrayDirtyFields from './logic/setFieldArrayDirtyFields';\nimport getFieldsValues from './logic/getFieldsValues';\nimport getFieldValue from './logic/getFieldValue';\nimport isErrorStateChanged from './logic/isErrorStateChanged';\nimport validateField from './logic/validateField';\nimport assignWatchFields from './logic/assignWatchFields';\nimport skipValidation from './logic/skipValidation';\nimport getNodeParentName from './logic/getNodeParentName';\nimport deepEqual from './utils/deepEqual';\nimport isNameInFieldArray from './logic/isNameInFieldArray';\nimport isCheckBoxInput from './utils/isCheckBoxInput';\nimport isEmptyObject from './utils/isEmptyObject';\nimport isRadioInput from './utils/isRadioInput';\nimport isSelectInput from './utils/isSelectInput';\nimport isFileInput from './utils/isFileInput';\nimport onDomRemove from './utils/onDomRemove';\nimport isObject from './utils/isObject';\nimport { getPath } from './utils/getPath';\nimport isPrimitive from './utils/isPrimitive';\nimport isFunction from './utils/isFunction';\nimport isString from './utils/isString';\nimport isUndefined from './utils/isUndefined';\nimport get from './utils/get';\nimport set from './utils/set';\nimport unset from './utils/unset';\nimport isKey from './utils/isKey';\nimport cloneObject from './utils/cloneObject';\nimport modeChecker from './utils/validationModeChecker';\nimport isMultipleSelect from './utils/isMultipleSelect';\nimport compact from './utils/compact';\nimport isNullOrUndefined from './utils/isNullOrUndefined';\nimport isRadioOrCheckboxFunction from './utils/isRadioOrCheckbox';\nimport isWeb from './utils/isWeb';\nimport isHTMLElement from './utils/isHTMLElement';\nimport { EVENTS, UNDEFINED, VALIDATION_MODE } from './constants';\nimport {\n  UseFormMethods,\n  FieldValues,\n  UnpackNestedValue,\n  FieldName,\n  InternalFieldName,\n  FieldErrors,\n  Field,\n  FieldRefs,\n  UseFormOptions,\n  RegisterOptions,\n  SubmitHandler,\n  FieldElement,\n  FormStateProxy,\n  ReadFormState,\n  Ref,\n  HandleChange,\n  RadioOrCheckboxOption,\n  OmitResetState,\n  SetValueConfig,\n  ErrorOption,\n  FormState,\n  SubmitErrorHandler,\n  FieldNamesMarkedBoolean,\n  LiteralToPrimitive,\n  DeepPartial,\n  InternalNameSet,\n  DefaultValues,\n  FieldError,\n  SetFieldValue,\n  FieldArrayDefaultValues,\n  ResetFieldArrayFunctionRef,\n  UseWatchRenderFunctions,\n  RecordInternalNameSet,\n} from './types';\n\nconst isWindowUndefined = typeof window === UNDEFINED;\nconst isProxyEnabled = isWeb ? 'Proxy' in window : typeof Proxy !== UNDEFINED;\n\nexport function useForm<\n  TFieldValues extends FieldValues = FieldValues,\n  TContext extends object = object\n>({\n  mode = VALIDATION_MODE.onSubmit,\n  reValidateMode = VALIDATION_MODE.onChange,\n  resolver,\n  context,\n  defaultValues = {} as DefaultValues<TFieldValues>,\n  shouldFocusError = true,\n  shouldUnregister = true,\n  criteriaMode,\n}: UseFormOptions<TFieldValues, TContext> = {}): UseFormMethods<TFieldValues> {\n  const fieldsRef = React.useRef<FieldRefs<TFieldValues>>({});\n  const fieldArrayDefaultValuesRef = React.useRef<FieldArrayDefaultValues>({});\n  const fieldArrayValuesRef = React.useRef<FieldArrayDefaultValues>({});\n  const watchFieldsRef = React.useRef<InternalNameSet<TFieldValues>>(new Set());\n  const useWatchFieldsRef = React.useRef<RecordInternalNameSet<TFieldValues>>(\n    {},\n  );\n  const useWatchRenderFunctionsRef = React.useRef<UseWatchRenderFunctions>({});\n  const fieldsWithValidationRef = React.useRef<\n    FieldNamesMarkedBoolean<TFieldValues>\n  >({});\n  const validFieldsRef = React.useRef<FieldNamesMarkedBoolean<TFieldValues>>(\n    {},\n  );\n  const defaultValuesRef = React.useRef<DefaultValues<TFieldValues>>(\n    defaultValues,\n  );\n  const isUnMount = React.useRef(false);\n  const isWatchAllRef = React.useRef(false);\n  const handleChangeRef = React.useRef<HandleChange>();\n  const shallowFieldsStateRef = React.useRef({});\n  const resetFieldArrayFunctionRef = React.useRef<\n    ResetFieldArrayFunctionRef<TFieldValues>\n  >({});\n  const contextRef = React.useRef(context);\n  const resolverRef = React.useRef(resolver);\n  const fieldArrayNamesRef = React.useRef<InternalNameSet<TFieldValues>>(\n    new Set(),\n  );\n  const modeRef = React.useRef(modeChecker(mode));\n  const { isOnSubmit, isOnTouch } = modeRef.current;\n  const isValidateAllFieldCriteria = criteriaMode === VALIDATION_MODE.all;\n  const [formState, setFormState] = React.useState<FormState<TFieldValues>>({\n    isDirty: false,\n    isValidating: false,\n    dirtyFields: {},\n    isSubmitted: false,\n    submitCount: 0,\n    touched: {},\n    isSubmitting: false,\n    isSubmitSuccessful: false,\n    isValid: !isOnSubmit,\n    errors: {},\n  });\n  const readFormStateRef = React.useRef<ReadFormState>({\n    isDirty: !isProxyEnabled,\n    dirtyFields: !isProxyEnabled,\n    touched: !isProxyEnabled || isOnTouch,\n    isValidating: !isProxyEnabled,\n    isSubmitting: !isProxyEnabled,\n    isValid: !isProxyEnabled,\n  });\n  const formStateRef = React.useRef(formState);\n  const observerRef = React.useRef<MutationObserver | undefined>();\n  const {\n    isOnBlur: isReValidateOnBlur,\n    isOnChange: isReValidateOnChange,\n  } = React.useRef(modeChecker(reValidateMode)).current;\n\n  contextRef.current = context;\n  resolverRef.current = resolver;\n  formStateRef.current = formState;\n  shallowFieldsStateRef.current = shouldUnregister\n    ? {}\n    : isEmptyObject(shallowFieldsStateRef.current)\n    ? cloneObject(defaultValues)\n    : shallowFieldsStateRef.current;\n\n  const updateFormState = React.useCallback(\n    (state: Partial<FormState<TFieldValues>> = {}) => {\n      if (!isUnMount.current) {\n        formStateRef.current = {\n          ...formStateRef.current,\n          ...state,\n        };\n        setFormState(formStateRef.current);\n      }\n    },\n    [],\n  );\n\n  const updateIsValidating = () =>\n    readFormStateRef.current.isValidating &&\n    updateFormState({\n      isValidating: true,\n    });\n\n  const shouldRenderBaseOnError = React.useCallback(\n    (\n      name: InternalFieldName<TFieldValues>,\n      error: FieldError | undefined,\n      shouldRender: boolean | null = false,\n      state: {\n        dirtyFields?: FieldNamesMarkedBoolean<TFieldValues>;\n        isDirty?: boolean;\n        touched?: FieldNamesMarkedBoolean<TFieldValues>;\n      } = {},\n      isValid?: boolean,\n    ): boolean | void => {\n      let shouldReRender =\n        shouldRender ||\n        isErrorStateChanged<TFieldValues>({\n          errors: formStateRef.current.errors,\n          error,\n          name,\n          validFields: validFieldsRef.current,\n          fieldsWithValidation: fieldsWithValidationRef.current,\n        });\n      const previousError = get(formStateRef.current.errors, name);\n\n      if (error) {\n        unset(validFieldsRef.current, name);\n        shouldReRender =\n          shouldReRender ||\n          !previousError ||\n          !deepEqual(previousError, error, true);\n        set(formStateRef.current.errors, name, error);\n      } else {\n        if (get(fieldsWithValidationRef.current, name) || resolverRef.current) {\n          set(validFieldsRef.current, name, true);\n          shouldReRender = shouldReRender || previousError;\n        }\n\n        unset(formStateRef.current.errors, name);\n      }\n\n      if (\n        (shouldReRender && !isNullOrUndefined(shouldRender)) ||\n        !isEmptyObject(state) ||\n        readFormStateRef.current.isValidating\n      ) {\n        updateFormState({\n          ...state,\n          ...(resolverRef.current ? { isValid: !!isValid } : {}),\n          isValidating: false,\n        });\n      }\n    },\n    [],\n  );\n\n  const setFieldValue = React.useCallback(\n    (name: FieldName<TFieldValues>, rawValue: SetFieldValue<TFieldValues>) => {\n      const { ref, options } = fieldsRef.current[name] as Field;\n      const value =\n        isWeb && isHTMLElement(ref) && isNullOrUndefined(rawValue)\n          ? ''\n          : rawValue;\n\n      if (isRadioInput(ref)) {\n        (options || []).forEach(\n          ({ ref: radioRef }: { ref: HTMLInputElement }) =>\n            (radioRef.checked = radioRef.value === value),\n        );\n      } else if (isFileInput(ref) && !isString(value)) {\n        ref.files = value as FileList;\n      } else if (isMultipleSelect(ref)) {\n        [...ref.options].forEach(\n          (selectRef) =>\n            (selectRef.selected = (value as string[]).includes(\n              selectRef.value,\n            )),\n        );\n      } else if (isCheckBoxInput(ref) && options) {\n        options.length > 1\n          ? options.forEach(\n              ({ ref: checkboxRef }) =>\n                (checkboxRef.checked = Array.isArray(value)\n                  ? !!(value as []).find(\n                      (data: string) => data === checkboxRef.value,\n                    )\n                  : value === checkboxRef.value),\n            )\n          : (options[0].ref.checked = !!value);\n      } else {\n        ref.value = value;\n      }\n    },\n    [],\n  );\n\n  const isFormDirty = React.useCallback(\n    (name?: string, data?: unknown[]): boolean => {\n      if (readFormStateRef.current.isDirty) {\n        const formValues = getValues();\n\n        name && data && set(formValues, name, data);\n\n        return !deepEqual(formValues, defaultValuesRef.current);\n      }\n\n      return false;\n    },\n    [],\n  );\n\n  const updateAndGetDirtyState = React.useCallback(\n    (\n      name: InternalFieldName<TFieldValues>,\n      shouldRender = true,\n    ): Partial<\n      Pick<FormState<TFieldValues>, 'dirtyFields' | 'isDirty' | 'touched'>\n    > => {\n      if (\n        readFormStateRef.current.isDirty ||\n        readFormStateRef.current.dirtyFields\n      ) {\n        const isFieldDirty = !deepEqual(\n          get(defaultValuesRef.current, name),\n          getFieldValue(fieldsRef, name, shallowFieldsStateRef),\n        );\n        const isDirtyFieldExist = get(formStateRef.current.dirtyFields, name);\n        const previousIsDirty = formStateRef.current.isDirty;\n\n        isFieldDirty\n          ? set(formStateRef.current.dirtyFields, name, true)\n          : unset(formStateRef.current.dirtyFields, name);\n\n        const state = {\n          isDirty: isFormDirty(),\n          dirtyFields: formStateRef.current.dirtyFields,\n        };\n\n        const isChanged =\n          (readFormStateRef.current.isDirty &&\n            previousIsDirty !== state.isDirty) ||\n          (readFormStateRef.current.dirtyFields &&\n            isDirtyFieldExist !== get(formStateRef.current.dirtyFields, name));\n\n        isChanged && shouldRender && updateFormState(state);\n\n        return isChanged ? state : {};\n      }\n\n      return {};\n    },\n    [],\n  );\n\n  const executeValidation = React.useCallback(\n    async (\n      name: InternalFieldName<TFieldValues>,\n      skipReRender?: boolean | null,\n    ): Promise<boolean> => {\n      if (process.env.NODE_ENV !== 'production') {\n        if (!fieldsRef.current[name]) {\n          console.warn('📋 Field is missing with `name` attribute: ', name);\n          return false;\n        }\n      }\n\n      const error = (\n        await validateField<TFieldValues>(\n          fieldsRef,\n          isValidateAllFieldCriteria,\n          fieldsRef.current[name] as Field,\n          shallowFieldsStateRef,\n        )\n      )[name];\n\n      shouldRenderBaseOnError(name, error, skipReRender);\n\n      return isUndefined(error);\n    },\n    [shouldRenderBaseOnError, isValidateAllFieldCriteria],\n  );\n\n  const executeSchemaOrResolverValidation = React.useCallback(\n    async (\n      names:\n        | InternalFieldName<TFieldValues>\n        | InternalFieldName<TFieldValues>[],\n    ) => {\n      const { errors } = await resolverRef.current!(\n        getValues(),\n        contextRef.current,\n        isValidateAllFieldCriteria,\n      );\n      const previousFormIsValid = formStateRef.current.isValid;\n\n      if (Array.isArray(names)) {\n        const isInputsValid = names\n          .map((name) => {\n            const error = get(errors, name);\n\n            error\n              ? set(formStateRef.current.errors, name, error)\n              : unset(formStateRef.current.errors, name);\n\n            return !error;\n          })\n          .every(Boolean);\n\n        updateFormState({\n          isValid: isEmptyObject(errors),\n          isValidating: false,\n        });\n\n        return isInputsValid;\n      } else {\n        const error = get(errors, names);\n\n        shouldRenderBaseOnError(\n          names,\n          error,\n          previousFormIsValid !== isEmptyObject(errors),\n          {},\n          isEmptyObject(errors),\n        );\n\n        return !error;\n      }\n    },\n    [shouldRenderBaseOnError, isValidateAllFieldCriteria],\n  );\n\n  const trigger = React.useCallback(\n    async (\n      name?: FieldName<TFieldValues> | FieldName<TFieldValues>[],\n    ): Promise<boolean> => {\n      const fields = name || Object.keys(fieldsRef.current);\n\n      updateIsValidating();\n\n      if (resolverRef.current) {\n        return executeSchemaOrResolverValidation(fields);\n      }\n\n      if (Array.isArray(fields)) {\n        !name && (formStateRef.current.errors = {});\n        const result = await Promise.all(\n          fields.map(async (data) => await executeValidation(data, null)),\n        );\n        updateFormState({\n          isValidating: false,\n        });\n        return result.every(Boolean);\n      }\n\n      return await executeValidation(fields);\n    },\n    [executeSchemaOrResolverValidation, executeValidation],\n  );\n\n  const setInternalValues = React.useCallback(\n    (\n      name: FieldName<TFieldValues>,\n      value: SetFieldValue<TFieldValues>,\n      { shouldDirty, shouldValidate }: SetValueConfig,\n    ) => {\n      const data = {};\n      set(data, name, value);\n\n      for (const fieldName of getPath(name, value)) {\n        if (fieldsRef.current[fieldName]) {\n          setFieldValue(fieldName, get(data, fieldName));\n          shouldDirty && updateAndGetDirtyState(fieldName);\n          shouldValidate && trigger(fieldName as FieldName<TFieldValues>);\n        }\n      }\n    },\n    [trigger, setFieldValue, updateAndGetDirtyState],\n  );\n\n  const setInternalValue = React.useCallback(\n    (\n      name: FieldName<TFieldValues>,\n      value: SetFieldValue<TFieldValues>,\n      config: SetValueConfig,\n    ) => {\n      !shouldUnregister &&\n        !isPrimitive(value) &&\n        set(shallowFieldsStateRef.current, name, { ...value });\n\n      if (fieldsRef.current[name]) {\n        setFieldValue(name, value);\n        config.shouldDirty && updateAndGetDirtyState(name);\n        config.shouldValidate && trigger(name as any);\n      } else if (!isPrimitive(value)) {\n        setInternalValues(name, value, config);\n\n        if (fieldArrayNamesRef.current.has(name)) {\n          const parentName = getNodeParentName(name) || name;\n          set(fieldArrayDefaultValuesRef.current, name, value);\n\n          resetFieldArrayFunctionRef.current[parentName]({\n            [parentName]: get(fieldArrayDefaultValuesRef.current, parentName),\n          } as UnpackNestedValue<DeepPartial<TFieldValues>>);\n\n          if (\n            (readFormStateRef.current.isDirty ||\n              readFormStateRef.current.dirtyFields) &&\n            config.shouldDirty\n          ) {\n            set(\n              formStateRef.current.dirtyFields,\n              name,\n              setFieldArrayDirtyFields(\n                value,\n                get(defaultValuesRef.current, name, []),\n                get(formStateRef.current.dirtyFields, name, []),\n              ),\n            );\n\n            updateFormState({\n              isDirty: !deepEqual(\n                { ...getValues(), [name]: value },\n                defaultValuesRef.current,\n              ),\n            });\n          }\n        }\n      }\n\n      !shouldUnregister && set(shallowFieldsStateRef.current, name, value);\n    },\n    [updateAndGetDirtyState, setFieldValue, setInternalValues],\n  );\n\n  const isFieldWatched = <T extends FieldName<TFieldValues>>(name: T) =>\n    isWatchAllRef.current ||\n    watchFieldsRef.current.has(name) ||\n    watchFieldsRef.current.has((name.match(/\\w+/) || [])[0]);\n\n  const renderWatchedInputs = <T extends FieldName<FieldValues>>(\n    name: T,\n  ): boolean => {\n    let found = true;\n\n    if (!isEmptyObject(useWatchFieldsRef.current)) {\n      for (const key in useWatchFieldsRef.current) {\n        if (\n          !name ||\n          !useWatchFieldsRef.current[key].size ||\n          useWatchFieldsRef.current[key].has(name) ||\n          useWatchFieldsRef.current[key].has(getNodeParentName(name))\n        ) {\n          useWatchRenderFunctionsRef.current[key]();\n          found = false;\n        }\n      }\n    }\n\n    return found;\n  };\n\n  function setValue(\n    name: FieldName<TFieldValues>,\n    value: SetFieldValue<TFieldValues>,\n    config?: SetValueConfig,\n  ): void {\n    setInternalValue(name, value, config || {});\n    isFieldWatched(name) && updateFormState();\n    renderWatchedInputs(name);\n  }\n\n  handleChangeRef.current = handleChangeRef.current\n    ? handleChangeRef.current\n    : async ({ type, target }: Event): Promise<void | boolean> => {\n        let name = (target as Ref)!.name;\n        const field = fieldsRef.current[name];\n        let error;\n        let isValid;\n\n        if (field) {\n          const isBlurEvent = type === EVENTS.BLUR;\n          const shouldSkipValidation = skipValidation({\n            isBlurEvent,\n            isReValidateOnChange,\n            isReValidateOnBlur,\n            isTouched: !!get(formStateRef.current.touched, name),\n            isSubmitted: formStateRef.current.isSubmitted,\n            ...modeRef.current,\n          });\n          let state = updateAndGetDirtyState(name, false);\n          let shouldRender =\n            !isEmptyObject(state) ||\n            (!isBlurEvent && isFieldWatched(name as FieldName<TFieldValues>));\n\n          if (\n            isBlurEvent &&\n            !get(formStateRef.current.touched, name) &&\n            readFormStateRef.current.touched\n          ) {\n            set(formStateRef.current.touched, name, true);\n            state = {\n              ...state,\n              touched: formStateRef.current.touched,\n            };\n          }\n\n          if (!shouldUnregister && isCheckBoxInput(target as Ref)) {\n            set(\n              shallowFieldsStateRef.current,\n              name,\n              getFieldValue(fieldsRef, name),\n            );\n          }\n\n          if (shouldSkipValidation) {\n            !isBlurEvent && renderWatchedInputs(name);\n            return (\n              (!isEmptyObject(state) ||\n                (shouldRender && isEmptyObject(state))) &&\n              updateFormState(state)\n            );\n          }\n\n          updateIsValidating();\n\n          if (resolverRef.current) {\n            const { errors } = await resolverRef.current(\n              getValues(),\n              contextRef.current,\n              isValidateAllFieldCriteria,\n            );\n            const previousFormIsValid = formStateRef.current.isValid;\n            error = get(errors, name);\n\n            if (\n              isCheckBoxInput(target as Ref) &&\n              !error &&\n              resolverRef.current\n            ) {\n              const parentNodeName = getNodeParentName(name);\n              const currentError = get(errors, parentNodeName, {});\n              currentError.type &&\n                currentError.message &&\n                (error = currentError);\n\n              if (\n                parentNodeName &&\n                (currentError ||\n                  get(formStateRef.current.errors, parentNodeName))\n              ) {\n                name = parentNodeName;\n              }\n            }\n\n            isValid = isEmptyObject(errors);\n\n            previousFormIsValid !== isValid && (shouldRender = true);\n          } else {\n            error = (\n              await validateField<TFieldValues>(\n                fieldsRef,\n                isValidateAllFieldCriteria,\n                field,\n                shallowFieldsStateRef,\n              )\n            )[name];\n          }\n\n          !isBlurEvent && renderWatchedInputs(name);\n          shouldRenderBaseOnError(name, error, shouldRender, state, isValid);\n        }\n      };\n\n  function setFieldArrayDefaultValues<T extends FieldValues>(data: T): T {\n    if (!shouldUnregister) {\n      let copy = cloneObject(data);\n\n      for (const value of fieldArrayNamesRef.current) {\n        if (isKey(value) && !copy[value]) {\n          copy = {\n            ...copy,\n            [value]: [],\n          };\n        }\n      }\n\n      return copy;\n    }\n    return data;\n  }\n\n  function getValues(): UnpackNestedValue<TFieldValues>;\n  function getValues<TFieldName extends string, TFieldValue extends unknown>(\n    name: TFieldName,\n  ): TFieldName extends keyof TFieldValues\n    ? UnpackNestedValue<TFieldValues>[TFieldName]\n    : TFieldValue;\n  function getValues<TFieldName extends keyof TFieldValues>(\n    names: TFieldName[],\n  ): UnpackNestedValue<Pick<TFieldValues, TFieldName>>;\n  function getValues(payload?: string | string[]): unknown {\n    if (isString(payload)) {\n      return getFieldValue(fieldsRef, payload, shallowFieldsStateRef);\n    }\n\n    if (Array.isArray(payload)) {\n      const data = {};\n\n      for (const name of payload) {\n        set(data, name, getFieldValue(fieldsRef, name, shallowFieldsStateRef));\n      }\n\n      return data;\n    }\n\n    return setFieldArrayDefaultValues(\n      getFieldsValues(\n        fieldsRef,\n        cloneObject(shallowFieldsStateRef.current),\n        shouldUnregister,\n      ),\n    );\n  }\n\n  const validateResolver = React.useCallback(\n    async (values = {}) => {\n      const { errors } = await resolverRef.current!(\n        {\n          ...getValues(),\n          ...values,\n        },\n        contextRef.current,\n        isValidateAllFieldCriteria,\n      );\n      const isValid = isEmptyObject(errors);\n\n      formStateRef.current.isValid !== isValid &&\n        updateFormState({\n          isValid,\n        });\n    },\n    [isValidateAllFieldCriteria],\n  );\n\n  const removeFieldEventListener = React.useCallback(\n    (field: Field, forceDelete?: boolean) =>\n      findRemovedFieldAndRemoveListener(\n        fieldsRef,\n        handleChangeRef.current!,\n        field,\n        shallowFieldsStateRef,\n        shouldUnregister,\n        forceDelete,\n      ),\n    [shouldUnregister],\n  );\n\n  const updateWatchedValue = React.useCallback((name: string) => {\n    if (isWatchAllRef.current) {\n      updateFormState();\n    } else {\n      for (const watchField of watchFieldsRef.current) {\n        if (watchField.startsWith(name)) {\n          updateFormState();\n          break;\n        }\n      }\n\n      renderWatchedInputs(name);\n    }\n  }, []);\n\n  const removeFieldEventListenerAndRef = React.useCallback(\n    (field?: Field, forceDelete?: boolean) => {\n      if (field) {\n        removeFieldEventListener(field, forceDelete);\n\n        if (shouldUnregister && !compact(field.options || []).length) {\n          unset(validFieldsRef.current, field.ref.name);\n          unset(fieldsWithValidationRef.current, field.ref.name);\n          unset(formStateRef.current.errors, field.ref.name);\n          set(formStateRef.current.dirtyFields, field.ref.name, true);\n\n          updateFormState({\n            isDirty: isFormDirty(),\n          });\n\n          readFormStateRef.current.isValid &&\n            resolverRef.current &&\n            validateResolver();\n          updateWatchedValue(field.ref.name);\n        }\n      }\n    },\n    [validateResolver, removeFieldEventListener],\n  );\n\n  function clearErrors(\n    name?: FieldName<TFieldValues> | FieldName<TFieldValues>[],\n  ): void {\n    name &&\n      (Array.isArray(name) ? name : [name]).forEach((inputName) =>\n        fieldsRef.current[inputName] && isKey(inputName)\n          ? delete formStateRef.current.errors[inputName]\n          : unset(formStateRef.current.errors, inputName),\n      );\n\n    updateFormState({\n      errors: name ? formStateRef.current.errors : {},\n    });\n  }\n\n  function setError(name: FieldName<TFieldValues>, error: ErrorOption) {\n    const ref = (fieldsRef.current[name] || {})!.ref;\n\n    set(formStateRef.current.errors, name, {\n      ...error,\n      ref,\n    });\n\n    updateFormState({\n      isValid: false,\n    });\n\n    error.shouldFocus && ref && ref.focus && ref.focus();\n  }\n\n  const watchInternal = React.useCallback(\n    <T>(fieldNames?: string | string[], defaultValue?: T, watchId?: string) => {\n      const watchFields = watchId\n        ? useWatchFieldsRef.current[watchId]\n        : watchFieldsRef.current;\n      let fieldValues = getFieldsValues<TFieldValues>(\n        fieldsRef,\n        cloneObject(shallowFieldsStateRef.current),\n        shouldUnregister,\n        false,\n        fieldNames,\n      );\n\n      if (isString(fieldNames)) {\n        if (fieldArrayNamesRef.current.has(fieldNames)) {\n          const fieldArrayValue = get(\n            fieldArrayValuesRef.current,\n            fieldNames,\n            [],\n          );\n          fieldValues =\n            !fieldArrayValue.length ||\n            fieldArrayValue.length !==\n              compact(get(fieldValues, fieldNames, [])).length\n              ? fieldArrayValuesRef.current\n              : fieldValues;\n        }\n\n        return assignWatchFields<TFieldValues>(\n          fieldValues,\n          fieldNames,\n          watchFields,\n          isUndefined(get(defaultValuesRef.current, fieldNames))\n            ? defaultValue\n            : get(defaultValuesRef.current, fieldNames),\n          true,\n        );\n      }\n\n      const combinedDefaultValues = isUndefined(defaultValue)\n        ? defaultValuesRef.current\n        : defaultValue;\n\n      if (Array.isArray(fieldNames)) {\n        return fieldNames.reduce(\n          (previous, name) => ({\n            ...previous,\n            [name]: assignWatchFields<TFieldValues>(\n              fieldValues,\n              name,\n              watchFields,\n              combinedDefaultValues as UnpackNestedValue<\n                DeepPartial<TFieldValues>\n              >,\n            ),\n          }),\n          {},\n        );\n      }\n\n      isWatchAllRef.current = isUndefined(watchId);\n\n      return transformToNestObject(\n        (!isEmptyObject(fieldValues) && fieldValues) ||\n          (combinedDefaultValues as FieldValues),\n      );\n    },\n    [],\n  );\n\n  function watch(): UnpackNestedValue<TFieldValues>;\n  function watch<\n    TFieldName extends string,\n    TFieldValue extends TFieldValues[TFieldName]\n  >(\n    name: TFieldName,\n    defaultValue?: UnpackNestedValue<LiteralToPrimitive<TFieldValue>>,\n  ): UnpackNestedValue<LiteralToPrimitive<TFieldValue>>;\n  function watch<TFieldName extends keyof TFieldValues>(\n    names: TFieldName[],\n    defaultValues?: UnpackNestedValue<\n      DeepPartial<Pick<TFieldValues, TFieldName>>\n    >,\n  ): UnpackNestedValue<Pick<TFieldValues, TFieldName>>;\n  function watch(\n    names: string[],\n    defaultValues?: UnpackNestedValue<DeepPartial<TFieldValues>>,\n  ): UnpackNestedValue<DeepPartial<TFieldValues>>;\n  function watch(\n    fieldNames?: string | string[],\n    defaultValue?: unknown,\n  ): unknown {\n    return watchInternal(fieldNames, defaultValue);\n  }\n\n  function unregister(\n    name: FieldName<TFieldValues> | FieldName<TFieldValues>[],\n  ): void {\n    for (const fieldName of Array.isArray(name) ? name : [name]) {\n      removeFieldEventListenerAndRef(fieldsRef.current[fieldName], true);\n    }\n  }\n\n  function registerFieldRef<TFieldElement extends FieldElement<TFieldValues>>(\n    ref: TFieldElement & Ref,\n    options: RegisterOptions | null = {},\n  ): ((name: InternalFieldName<TFieldValues>) => void) | void {\n    if (process.env.NODE_ENV !== 'production') {\n      if (!ref.name) {\n        return console.warn(\n          '📋 Field is missing `name` attribute',\n          ref,\n          `https://react-hook-form.com/api#useForm`,\n        );\n      }\n\n      if (\n        fieldArrayNamesRef.current.has(ref.name.split(/\\[\\d+\\]$/)[0]) &&\n        !RegExp(\n          `^${ref.name.split(/\\[\\d+\\]$/)[0]}[\\\\d+].\\\\w+`\n            .replace(/\\[/g, '\\\\[')\n            .replace(/\\]/g, '\\\\]'),\n        ).test(ref.name)\n      ) {\n        return console.warn(\n          '📋 `name` prop should be in object shape: name=\"test[index].name\"',\n          ref,\n          'https://react-hook-form.com/api#useFieldArray',\n        );\n      }\n    }\n\n    const { name, type, value } = ref;\n    const fieldRefAndValidationOptions = {\n      ref,\n      ...options,\n    };\n    const fields = fieldsRef.current;\n    const isRadioOrCheckbox = isRadioOrCheckboxFunction(ref);\n    const isFieldArray = isNameInFieldArray(fieldArrayNamesRef.current, name);\n    const compareRef = (currentRef: Ref) =>\n      isWeb && (!isHTMLElement(ref) || currentRef === ref);\n    let field = fields[name] as Field;\n    let isEmptyDefaultValue = true;\n    let defaultValue;\n\n    if (\n      field &&\n      (isRadioOrCheckbox\n        ? Array.isArray(field.options) &&\n          compact(field.options).find((option) => {\n            return value === option.ref.value && compareRef(option.ref);\n          })\n        : compareRef(field.ref))\n    ) {\n      fields[name] = {\n        ...field,\n        ...options,\n      };\n      return;\n    }\n\n    if (type) {\n      field = isRadioOrCheckbox\n        ? {\n            options: [\n              ...compact((field && field.options) || []),\n              {\n                ref,\n              } as RadioOrCheckboxOption,\n            ],\n            ref: { type, name },\n            ...options,\n          }\n        : {\n            ...fieldRefAndValidationOptions,\n          };\n    } else {\n      field = fieldRefAndValidationOptions;\n    }\n\n    fields[name] = field;\n\n    const isEmptyUnmountFields = isUndefined(\n      get(shallowFieldsStateRef.current, name),\n    );\n\n    if (!isEmptyObject(defaultValuesRef.current) || !isEmptyUnmountFields) {\n      defaultValue = get(\n        isEmptyUnmountFields\n          ? defaultValuesRef.current\n          : shallowFieldsStateRef.current,\n        name,\n      );\n      isEmptyDefaultValue = isUndefined(defaultValue);\n\n      if (!isEmptyDefaultValue && !isFieldArray) {\n        setFieldValue(name as FieldName<TFieldValues>, defaultValue);\n      }\n    }\n\n    if (!isEmptyObject(options)) {\n      set(fieldsWithValidationRef.current, name, true);\n\n      if (!isOnSubmit && readFormStateRef.current.isValid) {\n        validateField(\n          fieldsRef,\n          isValidateAllFieldCriteria,\n          field,\n          shallowFieldsStateRef,\n        ).then((error: FieldErrors) => {\n          const previousFormIsValid = formStateRef.current.isValid;\n\n          isEmptyObject(error)\n            ? set(validFieldsRef.current, name, true)\n            : unset(validFieldsRef.current, name);\n\n          previousFormIsValid !== isEmptyObject(error) && updateFormState();\n        });\n      }\n    }\n\n    if (shouldUnregister && !(isFieldArray && isEmptyDefaultValue)) {\n      !isFieldArray && unset(formStateRef.current.dirtyFields, name);\n    }\n\n    if (type) {\n      attachEventListeners(\n        isRadioOrCheckbox && field.options\n          ? field.options[field.options.length - 1]\n          : field,\n        isRadioOrCheckbox || isSelectInput(ref),\n        handleChangeRef.current,\n      );\n    }\n  }\n\n  function register<TFieldElement extends FieldElement<TFieldValues>>(\n    options?: RegisterOptions,\n  ): (ref: (TFieldElement & Ref) | null) => void;\n  function register(\n    name: FieldName<TFieldValues>,\n    options?: RegisterOptions,\n  ): void;\n  function register<TFieldElement extends FieldElement<TFieldValues>>(\n    ref: (TFieldElement & Ref) | null,\n    options?: RegisterOptions,\n  ): void;\n  function register<TFieldElement extends FieldElement<TFieldValues>>(\n    refOrRegisterOptions?:\n      | FieldName<TFieldValues>\n      | RegisterOptions\n      | (TFieldElement & Ref)\n      | null,\n    options?: RegisterOptions,\n  ): ((ref: (TFieldElement & Ref) | null) => void) | void {\n    if (!isWindowUndefined) {\n      if (isString(refOrRegisterOptions)) {\n        registerFieldRef({ name: refOrRegisterOptions }, options);\n      } else if (\n        isObject(refOrRegisterOptions) &&\n        'name' in refOrRegisterOptions\n      ) {\n        registerFieldRef(refOrRegisterOptions, options);\n      } else {\n        return (ref: (TFieldElement & Ref) | null) =>\n          ref && registerFieldRef(ref, refOrRegisterOptions);\n      }\n    }\n  }\n\n  const handleSubmit = React.useCallback(\n    <TSubmitFieldValues extends FieldValues = TFieldValues>(\n      onValid: SubmitHandler<TSubmitFieldValues>,\n      onInvalid?: SubmitErrorHandler<TFieldValues>,\n    ) => async (e?: React.BaseSyntheticEvent): Promise<void> => {\n      if (e && e.preventDefault) {\n        e.preventDefault();\n        e.persist();\n      }\n      let fieldErrors: FieldErrors<TFieldValues> = {};\n      let fieldValues = setFieldArrayDefaultValues(\n        getFieldsValues(\n          fieldsRef,\n          cloneObject(shallowFieldsStateRef.current),\n          shouldUnregister,\n          true,\n        ),\n      );\n\n      readFormStateRef.current.isSubmitting &&\n        updateFormState({\n          isSubmitting: true,\n        });\n\n      try {\n        if (resolverRef.current) {\n          const { errors, values } = await resolverRef.current(\n            fieldValues,\n            contextRef.current,\n            isValidateAllFieldCriteria,\n          );\n          formStateRef.current.errors = fieldErrors = errors;\n          fieldValues = values;\n        } else {\n          for (const field of Object.values(fieldsRef.current)) {\n            if (field) {\n              const { name } = field.ref;\n\n              const fieldError = await validateField(\n                fieldsRef,\n                isValidateAllFieldCriteria,\n                field,\n                shallowFieldsStateRef,\n              );\n\n              if (fieldError[name]) {\n                set(fieldErrors, name, fieldError[name]);\n                unset(validFieldsRef.current, name);\n              } else if (get(fieldsWithValidationRef.current, name)) {\n                unset(formStateRef.current.errors, name);\n                set(validFieldsRef.current, name, true);\n              }\n            }\n          }\n        }\n\n        if (\n          isEmptyObject(fieldErrors) &&\n          Object.keys(formStateRef.current.errors).every(\n            (name) => name in fieldsRef.current,\n          )\n        ) {\n          updateFormState({\n            errors: {},\n            isSubmitting: true,\n          });\n          await onValid(fieldValues, e);\n        } else {\n          formStateRef.current.errors = {\n            ...formStateRef.current.errors,\n            ...fieldErrors,\n          };\n          onInvalid && (await onInvalid(formStateRef.current.errors, e));\n          shouldFocusError &&\n            focusOnErrorField(fieldsRef.current, formStateRef.current.errors);\n        }\n      } finally {\n        formStateRef.current.isSubmitting = false;\n        updateFormState({\n          isSubmitted: true,\n          isSubmitting: false,\n          isSubmitSuccessful: isEmptyObject(formStateRef.current.errors),\n          submitCount: formStateRef.current.submitCount + 1,\n        });\n      }\n    },\n    [shouldFocusError, isValidateAllFieldCriteria],\n  );\n\n  const resetRefs = ({\n    errors,\n    isDirty,\n    isSubmitted,\n    touched,\n    isValid,\n    submitCount,\n    dirtyFields,\n  }: OmitResetState) => {\n    if (!isValid) {\n      validFieldsRef.current = {};\n      fieldsWithValidationRef.current = {};\n    }\n\n    fieldArrayDefaultValuesRef.current = {};\n    watchFieldsRef.current = new Set();\n    isWatchAllRef.current = false;\n\n    updateFormState({\n      submitCount: submitCount ? formStateRef.current.submitCount : 0,\n      isDirty: isDirty ? formStateRef.current.isDirty : false,\n      isSubmitted: isSubmitted ? formStateRef.current.isSubmitted : false,\n      isValid: isValid ? formStateRef.current.isValid : false,\n      dirtyFields: dirtyFields ? formStateRef.current.dirtyFields : {},\n      touched: touched ? formStateRef.current.touched : {},\n      errors: errors ? formStateRef.current.errors : {},\n      isSubmitting: false,\n      isSubmitSuccessful: false,\n    });\n  };\n\n  const reset = (\n    values?: DefaultValues<TFieldValues>,\n    omitResetState: OmitResetState = {},\n  ): void => {\n    if (isWeb) {\n      for (const field of Object.values(fieldsRef.current)) {\n        if (field) {\n          const { ref, options } = field;\n          const inputRef =\n            isRadioOrCheckboxFunction(ref) && Array.isArray(options)\n              ? options[0].ref\n              : ref;\n\n          if (isHTMLElement(inputRef)) {\n            try {\n              inputRef.closest('form')!.reset();\n              break;\n            } catch {}\n          }\n        }\n      }\n    }\n\n    fieldsRef.current = {};\n    defaultValuesRef.current = { ...(values || defaultValuesRef.current) };\n    values && renderWatchedInputs('');\n\n    Object.values(resetFieldArrayFunctionRef.current).forEach(\n      (resetFieldArray) => isFunction(resetFieldArray) && resetFieldArray(),\n    );\n\n    shallowFieldsStateRef.current = shouldUnregister\n      ? {}\n      : cloneObject(values || defaultValuesRef.current);\n\n    resetRefs(omitResetState);\n  };\n\n  React.useEffect(() => {\n    resolver && readFormStateRef.current.isValid && validateResolver();\n    observerRef.current =\n      observerRef.current || !isWeb\n        ? observerRef.current\n        : onDomRemove(fieldsRef, removeFieldEventListenerAndRef);\n  }, [removeFieldEventListenerAndRef, defaultValuesRef.current]);\n\n  React.useEffect(\n    () => () => {\n      observerRef.current && observerRef.current.disconnect();\n      isUnMount.current = true;\n\n      if (process.env.NODE_ENV !== 'production') {\n        return;\n      }\n\n      Object.values(fieldsRef.current).forEach((field) =>\n        removeFieldEventListenerAndRef(field, true),\n      );\n    },\n    [],\n  );\n\n  if (!resolver && readFormStateRef.current.isValid) {\n    formState.isValid =\n      deepEqual(validFieldsRef.current, fieldsWithValidationRef.current) &&\n      isEmptyObject(formStateRef.current.errors);\n  }\n\n  const commonProps = {\n    trigger,\n    setValue: React.useCallback(setValue, [setInternalValue, trigger]),\n    getValues: React.useCallback(getValues, []),\n    register: React.useCallback(register, [defaultValuesRef.current]),\n    unregister: React.useCallback(unregister, []),\n    formState: isProxyEnabled\n      ? new Proxy(formState, {\n          get: (obj, prop: keyof FormStateProxy) => {\n            if (process.env.NODE_ENV !== 'production') {\n              if (prop === 'isValid' && isOnSubmit) {\n                console.warn(\n                  '📋 `formState.isValid` is applicable with `onTouched`, `onChange` or `onBlur` mode. https://react-hook-form.com/api#formState',\n                );\n              }\n            }\n\n            if (prop in obj) {\n              readFormStateRef.current[prop] = true;\n              return obj[prop];\n            }\n\n            return undefined;\n          },\n        })\n      : formState,\n  };\n\n  const control = React.useMemo(\n    () => ({\n      isFormDirty,\n      updateWatchedValue,\n      shouldUnregister,\n      updateFormState,\n      removeFieldEventListener,\n      watchInternal,\n      mode: modeRef.current,\n      reValidateMode: {\n        isReValidateOnBlur,\n        isReValidateOnChange,\n      },\n      validateResolver: resolver ? validateResolver : undefined,\n      fieldsRef,\n      resetFieldArrayFunctionRef,\n      useWatchFieldsRef,\n      useWatchRenderFunctionsRef,\n      fieldArrayDefaultValuesRef,\n      validFieldsRef,\n      fieldsWithValidationRef,\n      fieldArrayNamesRef,\n      readFormStateRef,\n      formStateRef,\n      defaultValuesRef,\n      shallowFieldsStateRef,\n      fieldArrayValuesRef,\n      ...commonProps,\n    }),\n    [\n      defaultValuesRef.current,\n      updateWatchedValue,\n      shouldUnregister,\n      removeFieldEventListener,\n      watchInternal,\n    ],\n  );\n\n  return {\n    watch,\n    control,\n    handleSubmit,\n    reset: React.useCallback(reset, []),\n    clearErrors: React.useCallback(clearErrors, []),\n    setError: React.useCallback(setError, []),\n    errors: formState.errors,\n    ...commonProps,\n  };\n}\n","import * as React from 'react';\nimport { UseFormMethods, FieldValues, FormProviderProps } from './types';\n\nconst FormContext = React.createContext<UseFormMethods | null>(null);\n\nFormContext.displayName = 'RHFContext';\n\nexport const useFormContext = <\n  TFieldValues extends FieldValues\n>(): UseFormMethods<TFieldValues> =>\n  React.useContext(FormContext) as UseFormMethods<TFieldValues>;\n\nexport const FormProvider = <TFieldValues extends FieldValues>({\n  children,\n  ...props\n}: FormProviderProps<TFieldValues>) => (\n  <FormContext.Provider value={{ ...props } as UseFormMethods}>\n    {children}\n  </FormContext.Provider>\n);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ace_1 = require(\"./ace\");\nvar diff_1 = require(\"./diff\");\nexports.diff = diff_1.default;\nvar split_1 = require(\"./split\");\nexports.split = split_1.default;\nexports.default = ace_1.default;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar PropTypes = require(\"prop-types\");\nvar React = require(\"react\");\nvar isEqual = require(\"lodash.isequal\");\nvar editorOptions_1 = require(\"./editorOptions\");\nvar ace = editorOptions_1.getAceInstance();\nvar Range = ace.require(\"ace/range\").Range;\nvar ReactAce = /** @class */ (function (_super) {\n    __extends(ReactAce, _super);\n    function ReactAce(props) {\n        var _this = _super.call(this, props) || this;\n        editorOptions_1.editorEvents.forEach(function (method) {\n            _this[method] = _this[method].bind(_this);\n        });\n        _this.debounce = editorOptions_1.debounce;\n        return _this;\n    }\n    ReactAce.prototype.componentDidMount = function () {\n        var _this = this;\n        var _a = this.props, className = _a.className, onBeforeLoad = _a.onBeforeLoad, onValidate = _a.onValidate, mode = _a.mode, focus = _a.focus, theme = _a.theme, fontSize = _a.fontSize, value = _a.value, defaultValue = _a.defaultValue, cursorStart = _a.cursorStart, showGutter = _a.showGutter, wrapEnabled = _a.wrapEnabled, showPrintMargin = _a.showPrintMargin, _b = _a.scrollMargin, scrollMargin = _b === void 0 ? [0, 0, 0, 0] : _b, keyboardHandler = _a.keyboardHandler, onLoad = _a.onLoad, commands = _a.commands, annotations = _a.annotations, markers = _a.markers, placeholder = _a.placeholder;\n        this.editor = ace.edit(this.refEditor);\n        if (onBeforeLoad) {\n            onBeforeLoad(ace);\n        }\n        var editorProps = Object.keys(this.props.editorProps);\n        for (var i = 0; i < editorProps.length; i++) {\n            this.editor[editorProps[i]] = this.props.editorProps[editorProps[i]];\n        }\n        if (this.props.debounceChangePeriod) {\n            this.onChange = this.debounce(this.onChange, this.props.debounceChangePeriod);\n        }\n        this.editor.renderer.setScrollMargin(scrollMargin[0], scrollMargin[1], scrollMargin[2], scrollMargin[3]);\n        this.editor.getSession().setMode(\"ace/mode/\" + mode);\n        this.editor.setTheme(\"ace/theme/\" + theme);\n        this.editor.setFontSize(fontSize);\n        this.editor\n            .getSession()\n            .setValue(!defaultValue ? value : defaultValue, cursorStart);\n        if (this.props.navigateToFileEnd) {\n            this.editor.navigateFileEnd();\n        }\n        this.editor.renderer.setShowGutter(showGutter);\n        this.editor.getSession().setUseWrapMode(wrapEnabled);\n        this.editor.setShowPrintMargin(showPrintMargin);\n        this.editor.on(\"focus\", this.onFocus);\n        this.editor.on(\"blur\", this.onBlur);\n        this.editor.on(\"copy\", this.onCopy);\n        this.editor.on(\"paste\", this.onPaste);\n        this.editor.on(\"change\", this.onChange);\n        this.editor.on(\"input\", this.onInput);\n        if (placeholder) {\n            this.updatePlaceholder();\n        }\n        this.editor\n            .getSession()\n            .selection.on(\"changeSelection\", this.onSelectionChange);\n        this.editor.getSession().selection.on(\"changeCursor\", this.onCursorChange);\n        if (onValidate) {\n            this.editor.getSession().on(\"changeAnnotation\", function () {\n                // tslint:disable-next-line:no-shadowed-variable\n                var annotations = _this.editor.getSession().getAnnotations();\n                _this.props.onValidate(annotations);\n            });\n        }\n        this.editor.session.on(\"changeScrollTop\", this.onScroll);\n        this.editor.getSession().setAnnotations(annotations || []);\n        if (markers && markers.length > 0) {\n            this.handleMarkers(markers);\n        }\n        // get a list of possible options to avoid 'misspelled option errors'\n        var availableOptions = this.editor.$options;\n        editorOptions_1.editorOptions.forEach(function (option) {\n            if (availableOptions.hasOwnProperty(option)) {\n                _this.editor.setOption(option, _this.props[option]);\n            }\n            else if (_this.props[option]) {\n                console.warn(\"ReactAce: editor option \" + option + \" was activated but not found. Did you need to import a related tool or did you possibly mispell the option?\");\n            }\n        });\n        this.handleOptions(this.props);\n        if (Array.isArray(commands)) {\n            commands.forEach(function (command) {\n                if (typeof command.exec === \"string\") {\n                    _this.editor.commands.bindKey(command.bindKey, command.exec);\n                }\n                else {\n                    _this.editor.commands.addCommand(command);\n                }\n            });\n        }\n        if (keyboardHandler) {\n            this.editor.setKeyboardHandler(\"ace/keyboard/\" + keyboardHandler);\n        }\n        if (className) {\n            this.refEditor.className += \" \" + className;\n        }\n        if (onLoad) {\n            onLoad(this.editor);\n        }\n        this.editor.resize();\n        if (focus) {\n            this.editor.focus();\n        }\n    };\n    ReactAce.prototype.componentDidUpdate = function (prevProps) {\n        var oldProps = prevProps;\n        var nextProps = this.props;\n        for (var i = 0; i < editorOptions_1.editorOptions.length; i++) {\n            var option = editorOptions_1.editorOptions[i];\n            if (nextProps[option] !== oldProps[option]) {\n                this.editor.setOption(option, nextProps[option]);\n            }\n        }\n        if (nextProps.className !== oldProps.className) {\n            var appliedClasses = this.refEditor.className;\n            var appliedClassesArray_1 = appliedClasses.trim().split(\" \");\n            var oldClassesArray = oldProps.className.trim().split(\" \");\n            oldClassesArray.forEach(function (oldClass) {\n                var index = appliedClassesArray_1.indexOf(oldClass);\n                appliedClassesArray_1.splice(index, 1);\n            });\n            this.refEditor.className =\n                \" \" + nextProps.className + \" \" + appliedClassesArray_1.join(\" \");\n        }\n        // First process editor value, as it may create a new session (see issue #300)\n        if (this.editor && this.editor.getValue() !== nextProps.value) {\n            // editor.setValue is a synchronous function call, change event is emitted before setValue return.\n            this.silent = true;\n            var pos = this.editor.session.selection.toJSON();\n            this.editor.setValue(nextProps.value, nextProps.cursorStart);\n            this.editor.session.selection.fromJSON(pos);\n            this.silent = false;\n        }\n        if (nextProps.placeholder !== oldProps.placeholder) {\n            this.updatePlaceholder();\n        }\n        if (nextProps.mode !== oldProps.mode) {\n            this.editor.getSession().setMode(\"ace/mode/\" + nextProps.mode);\n        }\n        if (nextProps.theme !== oldProps.theme) {\n            this.editor.setTheme(\"ace/theme/\" + nextProps.theme);\n        }\n        if (nextProps.keyboardHandler !== oldProps.keyboardHandler) {\n            if (nextProps.keyboardHandler) {\n                this.editor.setKeyboardHandler(\"ace/keyboard/\" + nextProps.keyboardHandler);\n            }\n            else {\n                this.editor.setKeyboardHandler(null);\n            }\n        }\n        if (nextProps.fontSize !== oldProps.fontSize) {\n            this.editor.setFontSize(nextProps.fontSize);\n        }\n        if (nextProps.wrapEnabled !== oldProps.wrapEnabled) {\n            this.editor.getSession().setUseWrapMode(nextProps.wrapEnabled);\n        }\n        if (nextProps.showPrintMargin !== oldProps.showPrintMargin) {\n            this.editor.setShowPrintMargin(nextProps.showPrintMargin);\n        }\n        if (nextProps.showGutter !== oldProps.showGutter) {\n            this.editor.renderer.setShowGutter(nextProps.showGutter);\n        }\n        if (!isEqual(nextProps.setOptions, oldProps.setOptions)) {\n            this.handleOptions(nextProps);\n        }\n        if (!isEqual(nextProps.annotations, oldProps.annotations)) {\n            this.editor.getSession().setAnnotations(nextProps.annotations || []);\n        }\n        if (!isEqual(nextProps.markers, oldProps.markers) &&\n            Array.isArray(nextProps.markers)) {\n            this.handleMarkers(nextProps.markers);\n        }\n        // this doesn't look like it works at all....\n        if (!isEqual(nextProps.scrollMargin, oldProps.scrollMargin)) {\n            this.handleScrollMargins(nextProps.scrollMargin);\n        }\n        if (prevProps.height !== this.props.height ||\n            prevProps.width !== this.props.width) {\n            this.editor.resize();\n        }\n        if (this.props.focus && !prevProps.focus) {\n            this.editor.focus();\n        }\n    };\n    ReactAce.prototype.handleScrollMargins = function (margins) {\n        if (margins === void 0) { margins = [0, 0, 0, 0]; }\n        this.editor.renderer.setScrollMargins(margins[0], margins[1], margins[2], margins[3]);\n    };\n    ReactAce.prototype.componentWillUnmount = function () {\n        this.editor.destroy();\n        this.editor = null;\n    };\n    ReactAce.prototype.onChange = function (event) {\n        if (this.props.onChange && !this.silent) {\n            var value = this.editor.getValue();\n            this.props.onChange(value, event);\n        }\n    };\n    ReactAce.prototype.onSelectionChange = function (event) {\n        if (this.props.onSelectionChange) {\n            var value = this.editor.getSelection();\n            this.props.onSelectionChange(value, event);\n        }\n    };\n    ReactAce.prototype.onCursorChange = function (event) {\n        if (this.props.onCursorChange) {\n            var value = this.editor.getSelection();\n            this.props.onCursorChange(value, event);\n        }\n    };\n    ReactAce.prototype.onInput = function (event) {\n        if (this.props.onInput) {\n            this.props.onInput(event);\n        }\n        if (this.props.placeholder) {\n            this.updatePlaceholder();\n        }\n    };\n    ReactAce.prototype.onFocus = function (event) {\n        if (this.props.onFocus) {\n            this.props.onFocus(event, this.editor);\n        }\n    };\n    ReactAce.prototype.onBlur = function (event) {\n        if (this.props.onBlur) {\n            this.props.onBlur(event, this.editor);\n        }\n    };\n    ReactAce.prototype.onCopy = function (text) {\n        if (this.props.onCopy) {\n            this.props.onCopy(text);\n        }\n    };\n    ReactAce.prototype.onPaste = function (text) {\n        if (this.props.onPaste) {\n            this.props.onPaste(text);\n        }\n    };\n    ReactAce.prototype.onScroll = function () {\n        if (this.props.onScroll) {\n            this.props.onScroll(this.editor);\n        }\n    };\n    ReactAce.prototype.handleOptions = function (props) {\n        var setOptions = Object.keys(props.setOptions);\n        for (var y = 0; y < setOptions.length; y++) {\n            this.editor.setOption(setOptions[y], props.setOptions[setOptions[y]]);\n        }\n    };\n    ReactAce.prototype.handleMarkers = function (markers) {\n        var _this = this;\n        // remove foreground markers\n        var currentMarkers = this.editor.getSession().getMarkers(true);\n        for (var i in currentMarkers) {\n            if (currentMarkers.hasOwnProperty(i)) {\n                this.editor.getSession().removeMarker(currentMarkers[i].id);\n            }\n        }\n        // remove background markers except active line marker and selected word marker\n        currentMarkers = this.editor.getSession().getMarkers(false);\n        for (var i in currentMarkers) {\n            if (currentMarkers.hasOwnProperty(i) &&\n                currentMarkers[i].clazz !== \"ace_active-line\" &&\n                currentMarkers[i].clazz !== \"ace_selected-word\") {\n                this.editor.getSession().removeMarker(currentMarkers[i].id);\n            }\n        }\n        // add new markers\n        markers.forEach(function (_a) {\n            var startRow = _a.startRow, startCol = _a.startCol, endRow = _a.endRow, endCol = _a.endCol, className = _a.className, type = _a.type, _b = _a.inFront, inFront = _b === void 0 ? false : _b;\n            var range = new Range(startRow, startCol, endRow, endCol);\n            _this.editor.getSession().addMarker(range, className, type, inFront);\n        });\n    };\n    ReactAce.prototype.updatePlaceholder = function () {\n        // Adapted from https://stackoverflow.com/questions/26695708/how-can-i-add-placeholder-text-when-the-editor-is-empty\n        var editor = this.editor;\n        var placeholder = this.props.placeholder;\n        var showPlaceholder = !editor.session.getValue().length;\n        var node = editor.renderer.placeholderNode;\n        if (!showPlaceholder && node) {\n            editor.renderer.scroller.removeChild(editor.renderer.placeholderNode);\n            editor.renderer.placeholderNode = null;\n        }\n        else if (showPlaceholder && !node) {\n            node = editor.renderer.placeholderNode = document.createElement(\"div\");\n            node.textContent = placeholder || \"\";\n            node.className = \"ace_comment ace_placeholder\";\n            node.style.padding = \"0 9px\";\n            node.style.position = \"absolute\";\n            node.style.zIndex = \"3\";\n            editor.renderer.scroller.appendChild(node);\n        }\n        else if (showPlaceholder && node) {\n            node.textContent = placeholder;\n        }\n    };\n    ReactAce.prototype.updateRef = function (item) {\n        this.refEditor = item;\n    };\n    ReactAce.prototype.render = function () {\n        var _a = this.props, name = _a.name, width = _a.width, height = _a.height, style = _a.style;\n        var divStyle = __assign({ width: width, height: height }, style);\n        return React.createElement(\"div\", { ref: this.updateRef, id: name, style: divStyle });\n    };\n    ReactAce.propTypes = {\n        mode: PropTypes.string,\n        focus: PropTypes.bool,\n        theme: PropTypes.string,\n        name: PropTypes.string,\n        className: PropTypes.string,\n        height: PropTypes.string,\n        width: PropTypes.string,\n        fontSize: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n        showGutter: PropTypes.bool,\n        onChange: PropTypes.func,\n        onCopy: PropTypes.func,\n        onPaste: PropTypes.func,\n        onFocus: PropTypes.func,\n        onInput: PropTypes.func,\n        onBlur: PropTypes.func,\n        onScroll: PropTypes.func,\n        value: PropTypes.string,\n        defaultValue: PropTypes.string,\n        onLoad: PropTypes.func,\n        onSelectionChange: PropTypes.func,\n        onCursorChange: PropTypes.func,\n        onBeforeLoad: PropTypes.func,\n        onValidate: PropTypes.func,\n        minLines: PropTypes.number,\n        maxLines: PropTypes.number,\n        readOnly: PropTypes.bool,\n        highlightActiveLine: PropTypes.bool,\n        tabSize: PropTypes.number,\n        showPrintMargin: PropTypes.bool,\n        cursorStart: PropTypes.number,\n        debounceChangePeriod: PropTypes.number,\n        editorProps: PropTypes.object,\n        setOptions: PropTypes.object,\n        style: PropTypes.object,\n        scrollMargin: PropTypes.array,\n        annotations: PropTypes.array,\n        markers: PropTypes.array,\n        keyboardHandler: PropTypes.string,\n        wrapEnabled: PropTypes.bool,\n        enableSnippets: PropTypes.bool,\n        enableBasicAutocompletion: PropTypes.oneOfType([\n            PropTypes.bool,\n            PropTypes.array\n        ]),\n        enableLiveAutocompletion: PropTypes.oneOfType([\n            PropTypes.bool,\n            PropTypes.array\n        ]),\n        navigateToFileEnd: PropTypes.bool,\n        commands: PropTypes.array,\n        placeholder: PropTypes.string\n    };\n    ReactAce.defaultProps = {\n        name: \"ace-editor\",\n        focus: false,\n        mode: \"\",\n        theme: \"\",\n        height: \"500px\",\n        width: \"500px\",\n        value: \"\",\n        fontSize: 12,\n        enableSnippets: false,\n        showGutter: true,\n        onChange: null,\n        onPaste: null,\n        onLoad: null,\n        onScroll: null,\n        minLines: null,\n        maxLines: null,\n        readOnly: false,\n        highlightActiveLine: true,\n        showPrintMargin: true,\n        tabSize: 4,\n        cursorStart: 1,\n        editorProps: {},\n        style: {},\n        scrollMargin: [0, 0, 0, 0],\n        setOptions: {},\n        wrapEnabled: false,\n        enableBasicAutocompletion: false,\n        enableLiveAutocompletion: false,\n        placeholder: null,\n        navigateToFileEnd: true\n    };\n    return ReactAce;\n}(React.Component));\nexports.default = ReactAce;\n//# sourceMappingURL=ace.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar PropTypes = require(\"prop-types\");\nvar React = require(\"react\");\nvar split_1 = require(\"./split\");\nvar DiffMatchPatch = require(\"diff-match-patch\");\nvar DiffComponent = /** @class */ (function (_super) {\n    __extends(DiffComponent, _super);\n    function DiffComponent(props) {\n        var _this = _super.call(this, props) || this;\n        _this.state = {\n            value: _this.props.value\n        };\n        _this.onChange = _this.onChange.bind(_this);\n        _this.diff = _this.diff.bind(_this);\n        return _this;\n    }\n    DiffComponent.prototype.componentDidUpdate = function () {\n        var value = this.props.value;\n        if (value !== this.state.value) {\n            this.setState({ value: value });\n        }\n    };\n    DiffComponent.prototype.onChange = function (value) {\n        this.setState({\n            value: value\n        });\n        if (this.props.onChange) {\n            this.props.onChange(value);\n        }\n    };\n    DiffComponent.prototype.diff = function () {\n        var dmp = new DiffMatchPatch();\n        var lhString = this.state.value[0];\n        var rhString = this.state.value[1];\n        if (lhString.length === 0 && rhString.length === 0) {\n            return [];\n        }\n        var diff = dmp.diff_main(lhString, rhString);\n        dmp.diff_cleanupSemantic(diff);\n        var diffedLines = this.generateDiffedLines(diff);\n        var codeEditorSettings = this.setCodeMarkers(diffedLines);\n        return codeEditorSettings;\n    };\n    DiffComponent.prototype.generateDiffedLines = function (diff) {\n        var C = {\n            DIFF_EQUAL: 0,\n            DIFF_DELETE: -1,\n            DIFF_INSERT: 1\n        };\n        var diffedLines = {\n            left: [],\n            right: []\n        };\n        var cursor = {\n            left: 1,\n            right: 1\n        };\n        diff.forEach(function (chunk) {\n            var chunkType = chunk[0];\n            var text = chunk[1];\n            var lines = text.split(\"\\n\").length - 1;\n            // diff-match-patch sometimes returns empty strings at random\n            if (text.length === 0) {\n                return;\n            }\n            var firstChar = text[0];\n            var lastChar = text[text.length - 1];\n            var linesToHighlight = 0;\n            switch (chunkType) {\n                case C.DIFF_EQUAL:\n                    cursor.left += lines;\n                    cursor.right += lines;\n                    break;\n                case C.DIFF_DELETE:\n                    // If the deletion starts with a newline, push the cursor down to that line\n                    if (firstChar === \"\\n\") {\n                        cursor.left++;\n                        lines--;\n                    }\n                    linesToHighlight = lines;\n                    // If the deletion does not include a newline, highlight the same line on the right\n                    if (linesToHighlight === 0) {\n                        diffedLines.right.push({\n                            startLine: cursor.right,\n                            endLine: cursor.right\n                        });\n                    }\n                    // If the last character is a newline, we don't want to highlight that line\n                    if (lastChar === \"\\n\") {\n                        linesToHighlight -= 1;\n                    }\n                    diffedLines.left.push({\n                        startLine: cursor.left,\n                        endLine: cursor.left + linesToHighlight\n                    });\n                    cursor.left += lines;\n                    break;\n                case C.DIFF_INSERT:\n                    // If the insertion starts with a newline, push the cursor down to that line\n                    if (firstChar === \"\\n\") {\n                        cursor.right++;\n                        lines--;\n                    }\n                    linesToHighlight = lines;\n                    // If the insertion does not include a newline, highlight the same line on the left\n                    if (linesToHighlight === 0) {\n                        diffedLines.left.push({\n                            startLine: cursor.left,\n                            endLine: cursor.left\n                        });\n                    }\n                    // If the last character is a newline, we don't want to highlight that line\n                    if (lastChar === \"\\n\") {\n                        linesToHighlight -= 1;\n                    }\n                    diffedLines.right.push({\n                        startLine: cursor.right,\n                        endLine: cursor.right + linesToHighlight\n                    });\n                    cursor.right += lines;\n                    break;\n                default:\n                    throw new Error(\"Diff type was not defined.\");\n            }\n        });\n        return diffedLines;\n    };\n    // Receives a collection of line numbers and iterates through them to highlight appropriately\n    // Returns an object that tells the render() method how to display the code editors\n    DiffComponent.prototype.setCodeMarkers = function (diffedLines) {\n        if (diffedLines === void 0) { diffedLines = { left: [], right: [] }; }\n        var codeEditorSettings = [];\n        var newMarkerSet = {\n            left: [],\n            right: []\n        };\n        for (var i = 0; i < diffedLines.left.length; i++) {\n            var markerObj = {\n                startRow: diffedLines.left[i].startLine - 1,\n                endRow: diffedLines.left[i].endLine,\n                type: \"text\",\n                className: \"codeMarker\"\n            };\n            newMarkerSet.left.push(markerObj);\n        }\n        for (var i = 0; i < diffedLines.right.length; i++) {\n            var markerObj = {\n                startRow: diffedLines.right[i].startLine - 1,\n                endRow: diffedLines.right[i].endLine,\n                type: \"text\",\n                className: \"codeMarker\"\n            };\n            newMarkerSet.right.push(markerObj);\n        }\n        codeEditorSettings[0] = newMarkerSet.left;\n        codeEditorSettings[1] = newMarkerSet.right;\n        return codeEditorSettings;\n    };\n    DiffComponent.prototype.render = function () {\n        var markers = this.diff();\n        return (React.createElement(split_1.default, { name: this.props.name, className: this.props.className, focus: this.props.focus, orientation: this.props.orientation, splits: this.props.splits, mode: this.props.mode, theme: this.props.theme, height: this.props.height, width: this.props.width, fontSize: this.props.fontSize, showGutter: this.props.showGutter, onChange: this.onChange, onPaste: this.props.onPaste, onLoad: this.props.onLoad, onScroll: this.props.onScroll, minLines: this.props.minLines, maxLines: this.props.maxLines, readOnly: this.props.readOnly, highlightActiveLine: this.props.highlightActiveLine, showPrintMargin: this.props.showPrintMargin, tabSize: this.props.tabSize, cursorStart: this.props.cursorStart, editorProps: this.props.editorProps, style: this.props.style, scrollMargin: this.props.scrollMargin, setOptions: this.props.setOptions, wrapEnabled: this.props.wrapEnabled, enableBasicAutocompletion: this.props.enableBasicAutocompletion, enableLiveAutocompletion: this.props.enableLiveAutocompletion, value: this.state.value, markers: markers }));\n    };\n    DiffComponent.propTypes = {\n        cursorStart: PropTypes.number,\n        editorProps: PropTypes.object,\n        enableBasicAutocompletion: PropTypes.bool,\n        enableLiveAutocompletion: PropTypes.bool,\n        focus: PropTypes.bool,\n        fontSize: PropTypes.number,\n        height: PropTypes.string,\n        highlightActiveLine: PropTypes.bool,\n        maxLines: PropTypes.number,\n        minLines: PropTypes.number,\n        mode: PropTypes.string,\n        name: PropTypes.string,\n        className: PropTypes.string,\n        onLoad: PropTypes.func,\n        onPaste: PropTypes.func,\n        onScroll: PropTypes.func,\n        onChange: PropTypes.func,\n        orientation: PropTypes.string,\n        readOnly: PropTypes.bool,\n        scrollMargin: PropTypes.array,\n        setOptions: PropTypes.object,\n        showGutter: PropTypes.bool,\n        showPrintMargin: PropTypes.bool,\n        splits: PropTypes.number,\n        style: PropTypes.object,\n        tabSize: PropTypes.number,\n        theme: PropTypes.string,\n        value: PropTypes.array,\n        width: PropTypes.string,\n        wrapEnabled: PropTypes.bool\n    };\n    DiffComponent.defaultProps = {\n        cursorStart: 1,\n        editorProps: {},\n        enableBasicAutocompletion: false,\n        enableLiveAutocompletion: false,\n        focus: false,\n        fontSize: 12,\n        height: \"500px\",\n        highlightActiveLine: true,\n        maxLines: null,\n        minLines: null,\n        mode: \"\",\n        name: \"ace-editor\",\n        onLoad: null,\n        onScroll: null,\n        onPaste: null,\n        onChange: null,\n        orientation: \"beside\",\n        readOnly: false,\n        scrollMargin: [0, 0, 0, 0],\n        setOptions: {},\n        showGutter: true,\n        showPrintMargin: true,\n        splits: 2,\n        style: {},\n        tabSize: 4,\n        theme: \"github\",\n        value: [\"\", \"\"],\n        width: \"500px\",\n        wrapEnabled: true\n    };\n    return DiffComponent;\n}(React.Component));\nexports.default = DiffComponent;\n//# sourceMappingURL=diff.js.map","ace.define(\"ace/split\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/lib/event_emitter\",\"ace/editor\",\"ace/virtual_renderer\",\"ace/edit_session\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar lang = require(\"./lib/lang\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n\nvar Editor = require(\"./editor\").Editor;\nvar Renderer = require(\"./virtual_renderer\").VirtualRenderer;\nvar EditSession = require(\"./edit_session\").EditSession;\n\n\nvar Split = function(container, theme, splits) {\n    this.BELOW = 1;\n    this.BESIDE = 0;\n\n    this.$container = container;\n    this.$theme = theme;\n    this.$splits = 0;\n    this.$editorCSS = \"\";\n    this.$editors = [];\n    this.$orientation = this.BESIDE;\n\n    this.setSplits(splits || 1);\n    this.$cEditor = this.$editors[0];\n\n\n    this.on(\"focus\", function(editor) {\n        this.$cEditor = editor;\n    }.bind(this));\n};\n\n(function(){\n\n    oop.implement(this, EventEmitter);\n\n    this.$createEditor = function() {\n        var el = document.createElement(\"div\");\n        el.className = this.$editorCSS;\n        el.style.cssText = \"position: absolute; top:0px; bottom:0px\";\n        this.$container.appendChild(el);\n        var editor = new Editor(new Renderer(el, this.$theme));\n\n        editor.on(\"focus\", function() {\n            this._emit(\"focus\", editor);\n        }.bind(this));\n\n        this.$editors.push(editor);\n        editor.setFontSize(this.$fontSize);\n        return editor;\n    };\n\n    this.setSplits = function(splits) {\n        var editor;\n        if (splits < 1) {\n            throw \"The number of splits have to be > 0!\";\n        }\n\n        if (splits == this.$splits) {\n            return;\n        } else if (splits > this.$splits) {\n            while (this.$splits < this.$editors.length && this.$splits < splits) {\n                editor = this.$editors[this.$splits];\n                this.$container.appendChild(editor.container);\n                editor.setFontSize(this.$fontSize);\n                this.$splits ++;\n            }\n            while (this.$splits < splits) {\n                this.$createEditor();\n                this.$splits ++;\n            }\n        } else {\n            while (this.$splits > splits) {\n                editor = this.$editors[this.$splits - 1];\n                this.$container.removeChild(editor.container);\n                this.$splits --;\n            }\n        }\n        this.resize();\n    };\n    this.getSplits = function() {\n        return this.$splits;\n    };\n    this.getEditor = function(idx) {\n        return this.$editors[idx];\n    };\n    this.getCurrentEditor = function() {\n        return this.$cEditor;\n    };\n    this.focus = function() {\n        this.$cEditor.focus();\n    };\n    this.blur = function() {\n        this.$cEditor.blur();\n    };\n    this.setTheme = function(theme) {\n        this.$editors.forEach(function(editor) {\n            editor.setTheme(theme);\n        });\n    };\n    this.setKeyboardHandler = function(keybinding) {\n        this.$editors.forEach(function(editor) {\n            editor.setKeyboardHandler(keybinding);\n        });\n    };\n    this.forEach = function(callback, scope) {\n        this.$editors.forEach(callback, scope);\n    };\n\n\n    this.$fontSize = \"\";\n    this.setFontSize = function(size) {\n        this.$fontSize = size;\n        this.forEach(function(editor) {\n           editor.setFontSize(size);\n        });\n    };\n\n    this.$cloneSession = function(session) {\n        var s = new EditSession(session.getDocument(), session.getMode());\n\n        var undoManager = session.getUndoManager();\n        s.setUndoManager(undoManager);\n        s.setTabSize(session.getTabSize());\n        s.setUseSoftTabs(session.getUseSoftTabs());\n        s.setOverwrite(session.getOverwrite());\n        s.setBreakpoints(session.getBreakpoints());\n        s.setUseWrapMode(session.getUseWrapMode());\n        s.setUseWorker(session.getUseWorker());\n        s.setWrapLimitRange(session.$wrapLimitRange.min,\n                            session.$wrapLimitRange.max);\n        s.$foldData = session.$cloneFoldData();\n\n        return s;\n    };\n    this.setSession = function(session, idx) {\n        var editor;\n        if (idx == null) {\n            editor = this.$cEditor;\n        } else {\n            editor = this.$editors[idx];\n        }\n        var isUsed = this.$editors.some(function(editor) {\n           return editor.session === session;\n        });\n\n        if (isUsed) {\n            session = this.$cloneSession(session);\n        }\n        editor.setSession(session);\n        return session;\n    };\n    this.getOrientation = function() {\n        return this.$orientation;\n    };\n    this.setOrientation = function(orientation) {\n        if (this.$orientation == orientation) {\n            return;\n        }\n        this.$orientation = orientation;\n        this.resize();\n    };\n    this.resize = function() {\n        var width = this.$container.clientWidth;\n        var height = this.$container.clientHeight;\n        var editor;\n\n        if (this.$orientation == this.BESIDE) {\n            var editorWidth = width / this.$splits;\n            for (var i = 0; i < this.$splits; i++) {\n                editor = this.$editors[i];\n                editor.container.style.width = editorWidth + \"px\";\n                editor.container.style.top = \"0px\";\n                editor.container.style.left = i * editorWidth + \"px\";\n                editor.container.style.height = height + \"px\";\n                editor.resize();\n            }\n        } else {\n            var editorHeight = height / this.$splits;\n            for (var i = 0; i < this.$splits; i++) {\n                editor = this.$editors[i];\n                editor.container.style.width = width + \"px\";\n                editor.container.style.top = i * editorHeight + \"px\";\n                editor.container.style.left = \"0px\";\n                editor.container.style.height = editorHeight + \"px\";\n                editor.resize();\n            }\n        }\n    };\n\n}).call(Split.prototype);\n\nexports.Split = Split;\n});\n\nace.define(\"ace/ext/split\",[\"require\",\"exports\",\"module\",\"ace/split\"], function(require, exports, module) {\n\"use strict\";\nmodule.exports = require(\"../split\");\n\n});                (function() {\n                    ace.require([\"ace/ext/split\"], function(m) {\n                        if (typeof module == \"object\" && typeof exports == \"object\" && module) {\n                            module.exports = m;\n                        }\n                    });\n                })();\n            ","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    symbolTag = '[object Symbol]';\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/,\n    reLeadingDot = /^\\./,\n    rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Symbol = root.Symbol,\n    splice = arrayProto.splice;\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = isKey(path, object) ? [path] : castPath(path);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value) {\n  return isArray(value) ? value : stringToPath(value);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoize(function(string) {\n  string = toString(string);\n\n  var result = [];\n  if (reLeadingDot.test(string)) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, string) {\n    result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result);\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Assign cache to `_.memoize`.\nmemoize.Cache = MapCache;\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","/**\n * Diff Match and Patch\n * Copyright 2018 The diff-match-patch Authors.\n * https://github.com/google/diff-match-patch\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Computes the difference between two texts to create a patch.\n * Applies the patch onto another text, allowing for errors.\n * @author fraser@google.com (Neil Fraser)\n */\n\n/**\n * Class containing the diff, match and patch methods.\n * @constructor\n */\nvar diff_match_patch = function() {\n\n  // Defaults.\n  // Redefine these in your program to override the defaults.\n\n  // Number of seconds to map a diff before giving up (0 for infinity).\n  this.Diff_Timeout = 1.0;\n  // Cost of an empty edit operation in terms of edit characters.\n  this.Diff_EditCost = 4;\n  // At what point is no match declared (0.0 = perfection, 1.0 = very loose).\n  this.Match_Threshold = 0.5;\n  // How far to search for a match (0 = exact location, 1000+ = broad match).\n  // A match this many characters away from the expected location will add\n  // 1.0 to the score (0.0 is a perfect match).\n  this.Match_Distance = 1000;\n  // When deleting a large block of text (over ~64 characters), how close do\n  // the contents have to be to match the expected contents. (0.0 = perfection,\n  // 1.0 = very loose).  Note that Match_Threshold controls how closely the\n  // end points of a delete need to match.\n  this.Patch_DeleteThreshold = 0.5;\n  // Chunk size for context length.\n  this.Patch_Margin = 4;\n\n  // The number of bits in an int.\n  this.Match_MaxBits = 32;\n};\n\n\n//  DIFF FUNCTIONS\n\n\n/**\n * The data structure representing a diff is an array of tuples:\n * [[DIFF_DELETE, 'Hello'], [DIFF_INSERT, 'Goodbye'], [DIFF_EQUAL, ' world.']]\n * which means: delete 'Hello', add 'Goodbye' and keep ' world.'\n */\nvar DIFF_DELETE = -1;\nvar DIFF_INSERT = 1;\nvar DIFF_EQUAL = 0;\n\n/**\n * Class representing one diff tuple.\n * ~Attempts to look like a two-element array (which is what this used to be).~\n * Constructor returns an actual two-element array, to allow destructing @JackuB\n * See https://github.com/JackuB/diff-match-patch/issues/14 for details\n * @param {number} op Operation, one of: DIFF_DELETE, DIFF_INSERT, DIFF_EQUAL.\n * @param {string} text Text to be deleted, inserted, or retained.\n * @constructor\n */\ndiff_match_patch.Diff = function(op, text) {\n  return [op, text];\n};\n\n/**\n * Find the differences between two texts.  Simplifies the problem by stripping\n * any common prefix or suffix off the texts before diffing.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {boolean=} opt_checklines Optional speedup flag. If present and false,\n *     then don't run a line-level diff first to identify the changed areas.\n *     Defaults to true, which does a faster, slightly less optimal diff.\n * @param {number=} opt_deadline Optional time when the diff should be complete\n *     by.  Used internally for recursive calls.  Users should set DiffTimeout\n *     instead.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_main = function(text1, text2, opt_checklines,\n    opt_deadline) {\n  // Set a deadline by which time the diff must be complete.\n  if (typeof opt_deadline == 'undefined') {\n    if (this.Diff_Timeout <= 0) {\n      opt_deadline = Number.MAX_VALUE;\n    } else {\n      opt_deadline = (new Date).getTime() + this.Diff_Timeout * 1000;\n    }\n  }\n  var deadline = opt_deadline;\n\n  // Check for null inputs.\n  if (text1 == null || text2 == null) {\n    throw new Error('Null input. (diff_main)');\n  }\n\n  // Check for equality (speedup).\n  if (text1 == text2) {\n    if (text1) {\n      return [new diff_match_patch.Diff(DIFF_EQUAL, text1)];\n    }\n    return [];\n  }\n\n  if (typeof opt_checklines == 'undefined') {\n    opt_checklines = true;\n  }\n  var checklines = opt_checklines;\n\n  // Trim off common prefix (speedup).\n  var commonlength = this.diff_commonPrefix(text1, text2);\n  var commonprefix = text1.substring(0, commonlength);\n  text1 = text1.substring(commonlength);\n  text2 = text2.substring(commonlength);\n\n  // Trim off common suffix (speedup).\n  commonlength = this.diff_commonSuffix(text1, text2);\n  var commonsuffix = text1.substring(text1.length - commonlength);\n  text1 = text1.substring(0, text1.length - commonlength);\n  text2 = text2.substring(0, text2.length - commonlength);\n\n  // Compute the diff on the middle block.\n  var diffs = this.diff_compute_(text1, text2, checklines, deadline);\n\n  // Restore the prefix and suffix.\n  if (commonprefix) {\n    diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL, commonprefix));\n  }\n  if (commonsuffix) {\n    diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, commonsuffix));\n  }\n  this.diff_cleanupMerge(diffs);\n  return diffs;\n};\n\n\n/**\n * Find the differences between two texts.  Assumes that the texts do not\n * have any common prefix or suffix.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {boolean} checklines Speedup flag.  If false, then don't run a\n *     line-level diff first to identify the changed areas.\n *     If true, then run a faster, slightly less optimal diff.\n * @param {number} deadline Time when the diff should be complete by.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\ndiff_match_patch.prototype.diff_compute_ = function(text1, text2, checklines,\n    deadline) {\n  var diffs;\n\n  if (!text1) {\n    // Just add some text (speedup).\n    return [new diff_match_patch.Diff(DIFF_INSERT, text2)];\n  }\n\n  if (!text2) {\n    // Just delete some text (speedup).\n    return [new diff_match_patch.Diff(DIFF_DELETE, text1)];\n  }\n\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  var i = longtext.indexOf(shorttext);\n  if (i != -1) {\n    // Shorter text is inside the longer text (speedup).\n    diffs = [new diff_match_patch.Diff(DIFF_INSERT, longtext.substring(0, i)),\n             new diff_match_patch.Diff(DIFF_EQUAL, shorttext),\n             new diff_match_patch.Diff(DIFF_INSERT,\n                 longtext.substring(i + shorttext.length))];\n    // Swap insertions for deletions if diff is reversed.\n    if (text1.length > text2.length) {\n      diffs[0][0] = diffs[2][0] = DIFF_DELETE;\n    }\n    return diffs;\n  }\n\n  if (shorttext.length == 1) {\n    // Single character string.\n    // After the previous speedup, the character can't be an equality.\n    return [new diff_match_patch.Diff(DIFF_DELETE, text1),\n            new diff_match_patch.Diff(DIFF_INSERT, text2)];\n  }\n\n  // Check to see if the problem can be split in two.\n  var hm = this.diff_halfMatch_(text1, text2);\n  if (hm) {\n    // A half-match was found, sort out the return data.\n    var text1_a = hm[0];\n    var text1_b = hm[1];\n    var text2_a = hm[2];\n    var text2_b = hm[3];\n    var mid_common = hm[4];\n    // Send both pairs off for separate processing.\n    var diffs_a = this.diff_main(text1_a, text2_a, checklines, deadline);\n    var diffs_b = this.diff_main(text1_b, text2_b, checklines, deadline);\n    // Merge the results.\n    return diffs_a.concat([new diff_match_patch.Diff(DIFF_EQUAL, mid_common)],\n                          diffs_b);\n  }\n\n  if (checklines && text1.length > 100 && text2.length > 100) {\n    return this.diff_lineMode_(text1, text2, deadline);\n  }\n\n  return this.diff_bisect_(text1, text2, deadline);\n};\n\n\n/**\n * Do a quick line-level diff on both strings, then rediff the parts for\n * greater accuracy.\n * This speedup can produce non-minimal diffs.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} deadline Time when the diff should be complete by.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\ndiff_match_patch.prototype.diff_lineMode_ = function(text1, text2, deadline) {\n  // Scan the text on a line-by-line basis first.\n  var a = this.diff_linesToChars_(text1, text2);\n  text1 = a.chars1;\n  text2 = a.chars2;\n  var linearray = a.lineArray;\n\n  var diffs = this.diff_main(text1, text2, false, deadline);\n\n  // Convert the diff back to original text.\n  this.diff_charsToLines_(diffs, linearray);\n  // Eliminate freak matches (e.g. blank lines)\n  this.diff_cleanupSemantic(diffs);\n\n  // Rediff any replacement blocks, this time character-by-character.\n  // Add a dummy entry at the end.\n  diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, ''));\n  var pointer = 0;\n  var count_delete = 0;\n  var count_insert = 0;\n  var text_delete = '';\n  var text_insert = '';\n  while (pointer < diffs.length) {\n    switch (diffs[pointer][0]) {\n      case DIFF_INSERT:\n        count_insert++;\n        text_insert += diffs[pointer][1];\n        break;\n      case DIFF_DELETE:\n        count_delete++;\n        text_delete += diffs[pointer][1];\n        break;\n      case DIFF_EQUAL:\n        // Upon reaching an equality, check for prior redundancies.\n        if (count_delete >= 1 && count_insert >= 1) {\n          // Delete the offending records and add the merged ones.\n          diffs.splice(pointer - count_delete - count_insert,\n                       count_delete + count_insert);\n          pointer = pointer - count_delete - count_insert;\n          var subDiff =\n              this.diff_main(text_delete, text_insert, false, deadline);\n          for (var j = subDiff.length - 1; j >= 0; j--) {\n            diffs.splice(pointer, 0, subDiff[j]);\n          }\n          pointer = pointer + subDiff.length;\n        }\n        count_insert = 0;\n        count_delete = 0;\n        text_delete = '';\n        text_insert = '';\n        break;\n    }\n    pointer++;\n  }\n  diffs.pop();  // Remove the dummy entry at the end.\n\n  return diffs;\n};\n\n\n/**\n * Find the 'middle snake' of a diff, split the problem in two\n * and return the recursively constructed diff.\n * See Myers 1986 paper: An O(ND) Difference Algorithm and Its Variations.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} deadline Time at which to bail if not yet complete.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\ndiff_match_patch.prototype.diff_bisect_ = function(text1, text2, deadline) {\n  // Cache the text lengths to prevent multiple calls.\n  var text1_length = text1.length;\n  var text2_length = text2.length;\n  var max_d = Math.ceil((text1_length + text2_length) / 2);\n  var v_offset = max_d;\n  var v_length = 2 * max_d;\n  var v1 = new Array(v_length);\n  var v2 = new Array(v_length);\n  // Setting all elements to -1 is faster in Chrome & Firefox than mixing\n  // integers and undefined.\n  for (var x = 0; x < v_length; x++) {\n    v1[x] = -1;\n    v2[x] = -1;\n  }\n  v1[v_offset + 1] = 0;\n  v2[v_offset + 1] = 0;\n  var delta = text1_length - text2_length;\n  // If the total number of characters is odd, then the front path will collide\n  // with the reverse path.\n  var front = (delta % 2 != 0);\n  // Offsets for start and end of k loop.\n  // Prevents mapping of space beyond the grid.\n  var k1start = 0;\n  var k1end = 0;\n  var k2start = 0;\n  var k2end = 0;\n  for (var d = 0; d < max_d; d++) {\n    // Bail out if deadline is reached.\n    if ((new Date()).getTime() > deadline) {\n      break;\n    }\n\n    // Walk the front path one step.\n    for (var k1 = -d + k1start; k1 <= d - k1end; k1 += 2) {\n      var k1_offset = v_offset + k1;\n      var x1;\n      if (k1 == -d || (k1 != d && v1[k1_offset - 1] < v1[k1_offset + 1])) {\n        x1 = v1[k1_offset + 1];\n      } else {\n        x1 = v1[k1_offset - 1] + 1;\n      }\n      var y1 = x1 - k1;\n      while (x1 < text1_length && y1 < text2_length &&\n             text1.charAt(x1) == text2.charAt(y1)) {\n        x1++;\n        y1++;\n      }\n      v1[k1_offset] = x1;\n      if (x1 > text1_length) {\n        // Ran off the right of the graph.\n        k1end += 2;\n      } else if (y1 > text2_length) {\n        // Ran off the bottom of the graph.\n        k1start += 2;\n      } else if (front) {\n        var k2_offset = v_offset + delta - k1;\n        if (k2_offset >= 0 && k2_offset < v_length && v2[k2_offset] != -1) {\n          // Mirror x2 onto top-left coordinate system.\n          var x2 = text1_length - v2[k2_offset];\n          if (x1 >= x2) {\n            // Overlap detected.\n            return this.diff_bisectSplit_(text1, text2, x1, y1, deadline);\n          }\n        }\n      }\n    }\n\n    // Walk the reverse path one step.\n    for (var k2 = -d + k2start; k2 <= d - k2end; k2 += 2) {\n      var k2_offset = v_offset + k2;\n      var x2;\n      if (k2 == -d || (k2 != d && v2[k2_offset - 1] < v2[k2_offset + 1])) {\n        x2 = v2[k2_offset + 1];\n      } else {\n        x2 = v2[k2_offset - 1] + 1;\n      }\n      var y2 = x2 - k2;\n      while (x2 < text1_length && y2 < text2_length &&\n             text1.charAt(text1_length - x2 - 1) ==\n             text2.charAt(text2_length - y2 - 1)) {\n        x2++;\n        y2++;\n      }\n      v2[k2_offset] = x2;\n      if (x2 > text1_length) {\n        // Ran off the left of the graph.\n        k2end += 2;\n      } else if (y2 > text2_length) {\n        // Ran off the top of the graph.\n        k2start += 2;\n      } else if (!front) {\n        var k1_offset = v_offset + delta - k2;\n        if (k1_offset >= 0 && k1_offset < v_length && v1[k1_offset] != -1) {\n          var x1 = v1[k1_offset];\n          var y1 = v_offset + x1 - k1_offset;\n          // Mirror x2 onto top-left coordinate system.\n          x2 = text1_length - x2;\n          if (x1 >= x2) {\n            // Overlap detected.\n            return this.diff_bisectSplit_(text1, text2, x1, y1, deadline);\n          }\n        }\n      }\n    }\n  }\n  // Diff took too long and hit the deadline or\n  // number of diffs equals number of characters, no commonality at all.\n  return [new diff_match_patch.Diff(DIFF_DELETE, text1),\n          new diff_match_patch.Diff(DIFF_INSERT, text2)];\n};\n\n\n/**\n * Given the location of the 'middle snake', split the diff in two parts\n * and recurse.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} x Index of split point in text1.\n * @param {number} y Index of split point in text2.\n * @param {number} deadline Time at which to bail if not yet complete.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\ndiff_match_patch.prototype.diff_bisectSplit_ = function(text1, text2, x, y,\n    deadline) {\n  var text1a = text1.substring(0, x);\n  var text2a = text2.substring(0, y);\n  var text1b = text1.substring(x);\n  var text2b = text2.substring(y);\n\n  // Compute both diffs serially.\n  var diffs = this.diff_main(text1a, text2a, false, deadline);\n  var diffsb = this.diff_main(text1b, text2b, false, deadline);\n\n  return diffs.concat(diffsb);\n};\n\n\n/**\n * Split two texts into an array of strings.  Reduce the texts to a string of\n * hashes where each Unicode character represents one line.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {{chars1: string, chars2: string, lineArray: !Array.<string>}}\n *     An object containing the encoded text1, the encoded text2 and\n *     the array of unique strings.\n *     The zeroth element of the array of unique strings is intentionally blank.\n * @private\n */\ndiff_match_patch.prototype.diff_linesToChars_ = function(text1, text2) {\n  var lineArray = [];  // e.g. lineArray[4] == 'Hello\\n'\n  var lineHash = {};   // e.g. lineHash['Hello\\n'] == 4\n\n  // '\\x00' is a valid character, but various debuggers don't like it.\n  // So we'll insert a junk entry to avoid generating a null character.\n  lineArray[0] = '';\n\n  /**\n   * Split a text into an array of strings.  Reduce the texts to a string of\n   * hashes where each Unicode character represents one line.\n   * Modifies linearray and linehash through being a closure.\n   * @param {string} text String to encode.\n   * @return {string} Encoded string.\n   * @private\n   */\n  function diff_linesToCharsMunge_(text) {\n    var chars = '';\n    // Walk the text, pulling out a substring for each line.\n    // text.split('\\n') would would temporarily double our memory footprint.\n    // Modifying text would create many large strings to garbage collect.\n    var lineStart = 0;\n    var lineEnd = -1;\n    // Keeping our own length variable is faster than looking it up.\n    var lineArrayLength = lineArray.length;\n    while (lineEnd < text.length - 1) {\n      lineEnd = text.indexOf('\\n', lineStart);\n      if (lineEnd == -1) {\n        lineEnd = text.length - 1;\n      }\n      var line = text.substring(lineStart, lineEnd + 1);\n\n      if (lineHash.hasOwnProperty ? lineHash.hasOwnProperty(line) :\n          (lineHash[line] !== undefined)) {\n        chars += String.fromCharCode(lineHash[line]);\n      } else {\n        if (lineArrayLength == maxLines) {\n          // Bail out at 65535 because\n          // String.fromCharCode(65536) == String.fromCharCode(0)\n          line = text.substring(lineStart);\n          lineEnd = text.length;\n        }\n        chars += String.fromCharCode(lineArrayLength);\n        lineHash[line] = lineArrayLength;\n        lineArray[lineArrayLength++] = line;\n      }\n      lineStart = lineEnd + 1;\n    }\n    return chars;\n  }\n  // Allocate 2/3rds of the space for text1, the rest for text2.\n  var maxLines = 40000;\n  var chars1 = diff_linesToCharsMunge_(text1);\n  maxLines = 65535;\n  var chars2 = diff_linesToCharsMunge_(text2);\n  return {chars1: chars1, chars2: chars2, lineArray: lineArray};\n};\n\n\n/**\n * Rehydrate the text in a diff from a string of line hashes to real lines of\n * text.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @param {!Array.<string>} lineArray Array of unique strings.\n * @private\n */\ndiff_match_patch.prototype.diff_charsToLines_ = function(diffs, lineArray) {\n  for (var i = 0; i < diffs.length; i++) {\n    var chars = diffs[i][1];\n    var text = [];\n    for (var j = 0; j < chars.length; j++) {\n      text[j] = lineArray[chars.charCodeAt(j)];\n    }\n    diffs[i][1] = text.join('');\n  }\n};\n\n\n/**\n * Determine the common prefix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the start of each\n *     string.\n */\ndiff_match_patch.prototype.diff_commonPrefix = function(text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 || text1.charAt(0) != text2.charAt(0)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: https://neil.fraser.name/news/2007/10/09/\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerstart = 0;\n  while (pointermin < pointermid) {\n    if (text1.substring(pointerstart, pointermid) ==\n        text2.substring(pointerstart, pointermid)) {\n      pointermin = pointermid;\n      pointerstart = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n  return pointermid;\n};\n\n\n/**\n * Determine the common suffix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the end of each string.\n */\ndiff_match_patch.prototype.diff_commonSuffix = function(text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 ||\n      text1.charAt(text1.length - 1) != text2.charAt(text2.length - 1)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: https://neil.fraser.name/news/2007/10/09/\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerend = 0;\n  while (pointermin < pointermid) {\n    if (text1.substring(text1.length - pointermid, text1.length - pointerend) ==\n        text2.substring(text2.length - pointermid, text2.length - pointerend)) {\n      pointermin = pointermid;\n      pointerend = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n  return pointermid;\n};\n\n\n/**\n * Determine if the suffix of one string is the prefix of another.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the end of the first\n *     string and the start of the second string.\n * @private\n */\ndiff_match_patch.prototype.diff_commonOverlap_ = function(text1, text2) {\n  // Cache the text lengths to prevent multiple calls.\n  var text1_length = text1.length;\n  var text2_length = text2.length;\n  // Eliminate the null case.\n  if (text1_length == 0 || text2_length == 0) {\n    return 0;\n  }\n  // Truncate the longer string.\n  if (text1_length > text2_length) {\n    text1 = text1.substring(text1_length - text2_length);\n  } else if (text1_length < text2_length) {\n    text2 = text2.substring(0, text1_length);\n  }\n  var text_length = Math.min(text1_length, text2_length);\n  // Quick check for the worst case.\n  if (text1 == text2) {\n    return text_length;\n  }\n\n  // Start by looking for a single character match\n  // and increase length until no match is found.\n  // Performance analysis: https://neil.fraser.name/news/2010/11/04/\n  var best = 0;\n  var length = 1;\n  while (true) {\n    var pattern = text1.substring(text_length - length);\n    var found = text2.indexOf(pattern);\n    if (found == -1) {\n      return best;\n    }\n    length += found;\n    if (found == 0 || text1.substring(text_length - length) ==\n        text2.substring(0, length)) {\n      best = length;\n      length++;\n    }\n  }\n};\n\n\n/**\n * Do the two texts share a substring which is at least half the length of the\n * longer text?\n * This speedup can produce non-minimal diffs.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {Array.<string>} Five element Array, containing the prefix of\n *     text1, the suffix of text1, the prefix of text2, the suffix of\n *     text2 and the common middle.  Or null if there was no match.\n * @private\n */\ndiff_match_patch.prototype.diff_halfMatch_ = function(text1, text2) {\n  if (this.Diff_Timeout <= 0) {\n    // Don't risk returning a non-optimal diff if we have unlimited time.\n    return null;\n  }\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  if (longtext.length < 4 || shorttext.length * 2 < longtext.length) {\n    return null;  // Pointless.\n  }\n  var dmp = this;  // 'this' becomes 'window' in a closure.\n\n  /**\n   * Does a substring of shorttext exist within longtext such that the substring\n   * is at least half the length of longtext?\n   * Closure, but does not reference any external variables.\n   * @param {string} longtext Longer string.\n   * @param {string} shorttext Shorter string.\n   * @param {number} i Start index of quarter length substring within longtext.\n   * @return {Array.<string>} Five element Array, containing the prefix of\n   *     longtext, the suffix of longtext, the prefix of shorttext, the suffix\n   *     of shorttext and the common middle.  Or null if there was no match.\n   * @private\n   */\n  function diff_halfMatchI_(longtext, shorttext, i) {\n    // Start with a 1/4 length substring at position i as a seed.\n    var seed = longtext.substring(i, i + Math.floor(longtext.length / 4));\n    var j = -1;\n    var best_common = '';\n    var best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b;\n    while ((j = shorttext.indexOf(seed, j + 1)) != -1) {\n      var prefixLength = dmp.diff_commonPrefix(longtext.substring(i),\n                                               shorttext.substring(j));\n      var suffixLength = dmp.diff_commonSuffix(longtext.substring(0, i),\n                                               shorttext.substring(0, j));\n      if (best_common.length < suffixLength + prefixLength) {\n        best_common = shorttext.substring(j - suffixLength, j) +\n            shorttext.substring(j, j + prefixLength);\n        best_longtext_a = longtext.substring(0, i - suffixLength);\n        best_longtext_b = longtext.substring(i + prefixLength);\n        best_shorttext_a = shorttext.substring(0, j - suffixLength);\n        best_shorttext_b = shorttext.substring(j + prefixLength);\n      }\n    }\n    if (best_common.length * 2 >= longtext.length) {\n      return [best_longtext_a, best_longtext_b,\n              best_shorttext_a, best_shorttext_b, best_common];\n    } else {\n      return null;\n    }\n  }\n\n  // First check if the second quarter is the seed for a half-match.\n  var hm1 = diff_halfMatchI_(longtext, shorttext,\n                             Math.ceil(longtext.length / 4));\n  // Check again based on the third quarter.\n  var hm2 = diff_halfMatchI_(longtext, shorttext,\n                             Math.ceil(longtext.length / 2));\n  var hm;\n  if (!hm1 && !hm2) {\n    return null;\n  } else if (!hm2) {\n    hm = hm1;\n  } else if (!hm1) {\n    hm = hm2;\n  } else {\n    // Both matched.  Select the longest.\n    hm = hm1[4].length > hm2[4].length ? hm1 : hm2;\n  }\n\n  // A half-match was found, sort out the return data.\n  var text1_a, text1_b, text2_a, text2_b;\n  if (text1.length > text2.length) {\n    text1_a = hm[0];\n    text1_b = hm[1];\n    text2_a = hm[2];\n    text2_b = hm[3];\n  } else {\n    text2_a = hm[0];\n    text2_b = hm[1];\n    text1_a = hm[2];\n    text1_b = hm[3];\n  }\n  var mid_common = hm[4];\n  return [text1_a, text1_b, text2_a, text2_b, mid_common];\n};\n\n\n/**\n * Reduce the number of edits by eliminating semantically trivial equalities.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_cleanupSemantic = function(diffs) {\n  var changes = false;\n  var equalities = [];  // Stack of indices where equalities are found.\n  var equalitiesLength = 0;  // Keeping our own length var is faster in JS.\n  /** @type {?string} */\n  var lastEquality = null;\n  // Always equal to diffs[equalities[equalitiesLength - 1]][1]\n  var pointer = 0;  // Index of current position.\n  // Number of characters that changed prior to the equality.\n  var length_insertions1 = 0;\n  var length_deletions1 = 0;\n  // Number of characters that changed after the equality.\n  var length_insertions2 = 0;\n  var length_deletions2 = 0;\n  while (pointer < diffs.length) {\n    if (diffs[pointer][0] == DIFF_EQUAL) {  // Equality found.\n      equalities[equalitiesLength++] = pointer;\n      length_insertions1 = length_insertions2;\n      length_deletions1 = length_deletions2;\n      length_insertions2 = 0;\n      length_deletions2 = 0;\n      lastEquality = diffs[pointer][1];\n    } else {  // An insertion or deletion.\n      if (diffs[pointer][0] == DIFF_INSERT) {\n        length_insertions2 += diffs[pointer][1].length;\n      } else {\n        length_deletions2 += diffs[pointer][1].length;\n      }\n      // Eliminate an equality that is smaller or equal to the edits on both\n      // sides of it.\n      if (lastEquality && (lastEquality.length <=\n          Math.max(length_insertions1, length_deletions1)) &&\n          (lastEquality.length <= Math.max(length_insertions2,\n                                           length_deletions2))) {\n        // Duplicate record.\n        diffs.splice(equalities[equalitiesLength - 1], 0,\n                     new diff_match_patch.Diff(DIFF_DELETE, lastEquality));\n        // Change second copy to insert.\n        diffs[equalities[equalitiesLength - 1] + 1][0] = DIFF_INSERT;\n        // Throw away the equality we just deleted.\n        equalitiesLength--;\n        // Throw away the previous equality (it needs to be reevaluated).\n        equalitiesLength--;\n        pointer = equalitiesLength > 0 ? equalities[equalitiesLength - 1] : -1;\n        length_insertions1 = 0;  // Reset the counters.\n        length_deletions1 = 0;\n        length_insertions2 = 0;\n        length_deletions2 = 0;\n        lastEquality = null;\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n\n  // Normalize the diff.\n  if (changes) {\n    this.diff_cleanupMerge(diffs);\n  }\n  this.diff_cleanupSemanticLossless(diffs);\n\n  // Find any overlaps between deletions and insertions.\n  // e.g: <del>abcxxx</del><ins>xxxdef</ins>\n  //   -> <del>abc</del>xxx<ins>def</ins>\n  // e.g: <del>xxxabc</del><ins>defxxx</ins>\n  //   -> <ins>def</ins>xxx<del>abc</del>\n  // Only extract an overlap if it is as big as the edit ahead or behind it.\n  pointer = 1;\n  while (pointer < diffs.length) {\n    if (diffs[pointer - 1][0] == DIFF_DELETE &&\n        diffs[pointer][0] == DIFF_INSERT) {\n      var deletion = diffs[pointer - 1][1];\n      var insertion = diffs[pointer][1];\n      var overlap_length1 = this.diff_commonOverlap_(deletion, insertion);\n      var overlap_length2 = this.diff_commonOverlap_(insertion, deletion);\n      if (overlap_length1 >= overlap_length2) {\n        if (overlap_length1 >= deletion.length / 2 ||\n            overlap_length1 >= insertion.length / 2) {\n          // Overlap found.  Insert an equality and trim the surrounding edits.\n          diffs.splice(pointer, 0, new diff_match_patch.Diff(DIFF_EQUAL,\n              insertion.substring(0, overlap_length1)));\n          diffs[pointer - 1][1] =\n              deletion.substring(0, deletion.length - overlap_length1);\n          diffs[pointer + 1][1] = insertion.substring(overlap_length1);\n          pointer++;\n        }\n      } else {\n        if (overlap_length2 >= deletion.length / 2 ||\n            overlap_length2 >= insertion.length / 2) {\n          // Reverse overlap found.\n          // Insert an equality and swap and trim the surrounding edits.\n          diffs.splice(pointer, 0, new diff_match_patch.Diff(DIFF_EQUAL,\n              deletion.substring(0, overlap_length2)));\n          diffs[pointer - 1][0] = DIFF_INSERT;\n          diffs[pointer - 1][1] =\n              insertion.substring(0, insertion.length - overlap_length2);\n          diffs[pointer + 1][0] = DIFF_DELETE;\n          diffs[pointer + 1][1] =\n              deletion.substring(overlap_length2);\n          pointer++;\n        }\n      }\n      pointer++;\n    }\n    pointer++;\n  }\n};\n\n\n/**\n * Look for single edits surrounded on both sides by equalities\n * which can be shifted sideways to align the edit to a word boundary.\n * e.g: The c<ins>at c</ins>ame. -> The <ins>cat </ins>came.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_cleanupSemanticLossless = function(diffs) {\n  /**\n   * Given two strings, compute a score representing whether the internal\n   * boundary falls on logical boundaries.\n   * Scores range from 6 (best) to 0 (worst).\n   * Closure, but does not reference any external variables.\n   * @param {string} one First string.\n   * @param {string} two Second string.\n   * @return {number} The score.\n   * @private\n   */\n  function diff_cleanupSemanticScore_(one, two) {\n    if (!one || !two) {\n      // Edges are the best.\n      return 6;\n    }\n\n    // Each port of this function behaves slightly differently due to\n    // subtle differences in each language's definition of things like\n    // 'whitespace'.  Since this function's purpose is largely cosmetic,\n    // the choice has been made to use each language's native features\n    // rather than force total conformity.\n    var char1 = one.charAt(one.length - 1);\n    var char2 = two.charAt(0);\n    var nonAlphaNumeric1 = char1.match(diff_match_patch.nonAlphaNumericRegex_);\n    var nonAlphaNumeric2 = char2.match(diff_match_patch.nonAlphaNumericRegex_);\n    var whitespace1 = nonAlphaNumeric1 &&\n        char1.match(diff_match_patch.whitespaceRegex_);\n    var whitespace2 = nonAlphaNumeric2 &&\n        char2.match(diff_match_patch.whitespaceRegex_);\n    var lineBreak1 = whitespace1 &&\n        char1.match(diff_match_patch.linebreakRegex_);\n    var lineBreak2 = whitespace2 &&\n        char2.match(diff_match_patch.linebreakRegex_);\n    var blankLine1 = lineBreak1 &&\n        one.match(diff_match_patch.blanklineEndRegex_);\n    var blankLine2 = lineBreak2 &&\n        two.match(diff_match_patch.blanklineStartRegex_);\n\n    if (blankLine1 || blankLine2) {\n      // Five points for blank lines.\n      return 5;\n    } else if (lineBreak1 || lineBreak2) {\n      // Four points for line breaks.\n      return 4;\n    } else if (nonAlphaNumeric1 && !whitespace1 && whitespace2) {\n      // Three points for end of sentences.\n      return 3;\n    } else if (whitespace1 || whitespace2) {\n      // Two points for whitespace.\n      return 2;\n    } else if (nonAlphaNumeric1 || nonAlphaNumeric2) {\n      // One point for non-alphanumeric.\n      return 1;\n    }\n    return 0;\n  }\n\n  var pointer = 1;\n  // Intentionally ignore the first and last element (don't need checking).\n  while (pointer < diffs.length - 1) {\n    if (diffs[pointer - 1][0] == DIFF_EQUAL &&\n        diffs[pointer + 1][0] == DIFF_EQUAL) {\n      // This is a single edit surrounded by equalities.\n      var equality1 = diffs[pointer - 1][1];\n      var edit = diffs[pointer][1];\n      var equality2 = diffs[pointer + 1][1];\n\n      // First, shift the edit as far left as possible.\n      var commonOffset = this.diff_commonSuffix(equality1, edit);\n      if (commonOffset) {\n        var commonString = edit.substring(edit.length - commonOffset);\n        equality1 = equality1.substring(0, equality1.length - commonOffset);\n        edit = commonString + edit.substring(0, edit.length - commonOffset);\n        equality2 = commonString + equality2;\n      }\n\n      // Second, step character by character right, looking for the best fit.\n      var bestEquality1 = equality1;\n      var bestEdit = edit;\n      var bestEquality2 = equality2;\n      var bestScore = diff_cleanupSemanticScore_(equality1, edit) +\n          diff_cleanupSemanticScore_(edit, equality2);\n      while (edit.charAt(0) === equality2.charAt(0)) {\n        equality1 += edit.charAt(0);\n        edit = edit.substring(1) + equality2.charAt(0);\n        equality2 = equality2.substring(1);\n        var score = diff_cleanupSemanticScore_(equality1, edit) +\n            diff_cleanupSemanticScore_(edit, equality2);\n        // The >= encourages trailing rather than leading whitespace on edits.\n        if (score >= bestScore) {\n          bestScore = score;\n          bestEquality1 = equality1;\n          bestEdit = edit;\n          bestEquality2 = equality2;\n        }\n      }\n\n      if (diffs[pointer - 1][1] != bestEquality1) {\n        // We have an improvement, save it back to the diff.\n        if (bestEquality1) {\n          diffs[pointer - 1][1] = bestEquality1;\n        } else {\n          diffs.splice(pointer - 1, 1);\n          pointer--;\n        }\n        diffs[pointer][1] = bestEdit;\n        if (bestEquality2) {\n          diffs[pointer + 1][1] = bestEquality2;\n        } else {\n          diffs.splice(pointer + 1, 1);\n          pointer--;\n        }\n      }\n    }\n    pointer++;\n  }\n};\n\n// Define some regex patterns for matching boundaries.\ndiff_match_patch.nonAlphaNumericRegex_ = /[^a-zA-Z0-9]/;\ndiff_match_patch.whitespaceRegex_ = /\\s/;\ndiff_match_patch.linebreakRegex_ = /[\\r\\n]/;\ndiff_match_patch.blanklineEndRegex_ = /\\n\\r?\\n$/;\ndiff_match_patch.blanklineStartRegex_ = /^\\r?\\n\\r?\\n/;\n\n/**\n * Reduce the number of edits by eliminating operationally trivial equalities.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_cleanupEfficiency = function(diffs) {\n  var changes = false;\n  var equalities = [];  // Stack of indices where equalities are found.\n  var equalitiesLength = 0;  // Keeping our own length var is faster in JS.\n  /** @type {?string} */\n  var lastEquality = null;\n  // Always equal to diffs[equalities[equalitiesLength - 1]][1]\n  var pointer = 0;  // Index of current position.\n  // Is there an insertion operation before the last equality.\n  var pre_ins = false;\n  // Is there a deletion operation before the last equality.\n  var pre_del = false;\n  // Is there an insertion operation after the last equality.\n  var post_ins = false;\n  // Is there a deletion operation after the last equality.\n  var post_del = false;\n  while (pointer < diffs.length) {\n    if (diffs[pointer][0] == DIFF_EQUAL) {  // Equality found.\n      if (diffs[pointer][1].length < this.Diff_EditCost &&\n          (post_ins || post_del)) {\n        // Candidate found.\n        equalities[equalitiesLength++] = pointer;\n        pre_ins = post_ins;\n        pre_del = post_del;\n        lastEquality = diffs[pointer][1];\n      } else {\n        // Not a candidate, and can never become one.\n        equalitiesLength = 0;\n        lastEquality = null;\n      }\n      post_ins = post_del = false;\n    } else {  // An insertion or deletion.\n      if (diffs[pointer][0] == DIFF_DELETE) {\n        post_del = true;\n      } else {\n        post_ins = true;\n      }\n      /*\n       * Five types to be split:\n       * <ins>A</ins><del>B</del>XY<ins>C</ins><del>D</del>\n       * <ins>A</ins>X<ins>C</ins><del>D</del>\n       * <ins>A</ins><del>B</del>X<ins>C</ins>\n       * <ins>A</del>X<ins>C</ins><del>D</del>\n       * <ins>A</ins><del>B</del>X<del>C</del>\n       */\n      if (lastEquality && ((pre_ins && pre_del && post_ins && post_del) ||\n                           ((lastEquality.length < this.Diff_EditCost / 2) &&\n                            (pre_ins + pre_del + post_ins + post_del) == 3))) {\n        // Duplicate record.\n        diffs.splice(equalities[equalitiesLength - 1], 0,\n                     new diff_match_patch.Diff(DIFF_DELETE, lastEquality));\n        // Change second copy to insert.\n        diffs[equalities[equalitiesLength - 1] + 1][0] = DIFF_INSERT;\n        equalitiesLength--;  // Throw away the equality we just deleted;\n        lastEquality = null;\n        if (pre_ins && pre_del) {\n          // No changes made which could affect previous entry, keep going.\n          post_ins = post_del = true;\n          equalitiesLength = 0;\n        } else {\n          equalitiesLength--;  // Throw away the previous equality.\n          pointer = equalitiesLength > 0 ?\n              equalities[equalitiesLength - 1] : -1;\n          post_ins = post_del = false;\n        }\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n\n  if (changes) {\n    this.diff_cleanupMerge(diffs);\n  }\n};\n\n\n/**\n * Reorder and merge like edit sections.  Merge equalities.\n * Any edit section can move as long as it doesn't cross an equality.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_cleanupMerge = function(diffs) {\n  // Add a dummy entry at the end.\n  diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, ''));\n  var pointer = 0;\n  var count_delete = 0;\n  var count_insert = 0;\n  var text_delete = '';\n  var text_insert = '';\n  var commonlength;\n  while (pointer < diffs.length) {\n    switch (diffs[pointer][0]) {\n      case DIFF_INSERT:\n        count_insert++;\n        text_insert += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_DELETE:\n        count_delete++;\n        text_delete += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_EQUAL:\n        // Upon reaching an equality, check for prior redundancies.\n        if (count_delete + count_insert > 1) {\n          if (count_delete !== 0 && count_insert !== 0) {\n            // Factor out any common prefixies.\n            commonlength = this.diff_commonPrefix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              if ((pointer - count_delete - count_insert) > 0 &&\n                  diffs[pointer - count_delete - count_insert - 1][0] ==\n                  DIFF_EQUAL) {\n                diffs[pointer - count_delete - count_insert - 1][1] +=\n                    text_insert.substring(0, commonlength);\n              } else {\n                diffs.splice(0, 0, new diff_match_patch.Diff(DIFF_EQUAL,\n                    text_insert.substring(0, commonlength)));\n                pointer++;\n              }\n              text_insert = text_insert.substring(commonlength);\n              text_delete = text_delete.substring(commonlength);\n            }\n            // Factor out any common suffixies.\n            commonlength = this.diff_commonSuffix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              diffs[pointer][1] = text_insert.substring(text_insert.length -\n                  commonlength) + diffs[pointer][1];\n              text_insert = text_insert.substring(0, text_insert.length -\n                  commonlength);\n              text_delete = text_delete.substring(0, text_delete.length -\n                  commonlength);\n            }\n          }\n          // Delete the offending records and add the merged ones.\n          pointer -= count_delete + count_insert;\n          diffs.splice(pointer, count_delete + count_insert);\n          if (text_delete.length) {\n            diffs.splice(pointer, 0,\n                new diff_match_patch.Diff(DIFF_DELETE, text_delete));\n            pointer++;\n          }\n          if (text_insert.length) {\n            diffs.splice(pointer, 0,\n                new diff_match_patch.Diff(DIFF_INSERT, text_insert));\n            pointer++;\n          }\n          pointer++;\n        } else if (pointer !== 0 && diffs[pointer - 1][0] == DIFF_EQUAL) {\n          // Merge this equality with the previous one.\n          diffs[pointer - 1][1] += diffs[pointer][1];\n          diffs.splice(pointer, 1);\n        } else {\n          pointer++;\n        }\n        count_insert = 0;\n        count_delete = 0;\n        text_delete = '';\n        text_insert = '';\n        break;\n    }\n  }\n  if (diffs[diffs.length - 1][1] === '') {\n    diffs.pop();  // Remove the dummy entry at the end.\n  }\n\n  // Second pass: look for single edits surrounded on both sides by equalities\n  // which can be shifted sideways to eliminate an equality.\n  // e.g: A<ins>BA</ins>C -> <ins>AB</ins>AC\n  var changes = false;\n  pointer = 1;\n  // Intentionally ignore the first and last element (don't need checking).\n  while (pointer < diffs.length - 1) {\n    if (diffs[pointer - 1][0] == DIFF_EQUAL &&\n        diffs[pointer + 1][0] == DIFF_EQUAL) {\n      // This is a single edit surrounded by equalities.\n      if (diffs[pointer][1].substring(diffs[pointer][1].length -\n          diffs[pointer - 1][1].length) == diffs[pointer - 1][1]) {\n        // Shift the edit over the previous equality.\n        diffs[pointer][1] = diffs[pointer - 1][1] +\n            diffs[pointer][1].substring(0, diffs[pointer][1].length -\n                                        diffs[pointer - 1][1].length);\n        diffs[pointer + 1][1] = diffs[pointer - 1][1] + diffs[pointer + 1][1];\n        diffs.splice(pointer - 1, 1);\n        changes = true;\n      } else if (diffs[pointer][1].substring(0, diffs[pointer + 1][1].length) ==\n          diffs[pointer + 1][1]) {\n        // Shift the edit over the next equality.\n        diffs[pointer - 1][1] += diffs[pointer + 1][1];\n        diffs[pointer][1] =\n            diffs[pointer][1].substring(diffs[pointer + 1][1].length) +\n            diffs[pointer + 1][1];\n        diffs.splice(pointer + 1, 1);\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n  // If shifts were made, the diff needs reordering and another shift sweep.\n  if (changes) {\n    this.diff_cleanupMerge(diffs);\n  }\n};\n\n\n/**\n * loc is a location in text1, compute and return the equivalent location in\n * text2.\n * e.g. 'The cat' vs 'The big cat', 1->1, 5->8\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @param {number} loc Location within text1.\n * @return {number} Location within text2.\n */\ndiff_match_patch.prototype.diff_xIndex = function(diffs, loc) {\n  var chars1 = 0;\n  var chars2 = 0;\n  var last_chars1 = 0;\n  var last_chars2 = 0;\n  var x;\n  for (x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_INSERT) {  // Equality or deletion.\n      chars1 += diffs[x][1].length;\n    }\n    if (diffs[x][0] !== DIFF_DELETE) {  // Equality or insertion.\n      chars2 += diffs[x][1].length;\n    }\n    if (chars1 > loc) {  // Overshot the location.\n      break;\n    }\n    last_chars1 = chars1;\n    last_chars2 = chars2;\n  }\n  // Was the location was deleted?\n  if (diffs.length != x && diffs[x][0] === DIFF_DELETE) {\n    return last_chars2;\n  }\n  // Add the remaining character length.\n  return last_chars2 + (loc - last_chars1);\n};\n\n\n/**\n * Convert a diff array into a pretty HTML report.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} HTML representation.\n */\ndiff_match_patch.prototype.diff_prettyHtml = function(diffs) {\n  var html = [];\n  var pattern_amp = /&/g;\n  var pattern_lt = /</g;\n  var pattern_gt = />/g;\n  var pattern_para = /\\n/g;\n  for (var x = 0; x < diffs.length; x++) {\n    var op = diffs[x][0];    // Operation (insert, delete, equal)\n    var data = diffs[x][1];  // Text of change.\n    var text = data.replace(pattern_amp, '&amp;').replace(pattern_lt, '&lt;')\n        .replace(pattern_gt, '&gt;').replace(pattern_para, '&para;<br>');\n    switch (op) {\n      case DIFF_INSERT:\n        html[x] = '<ins style=\"background:#e6ffe6;\">' + text + '</ins>';\n        break;\n      case DIFF_DELETE:\n        html[x] = '<del style=\"background:#ffe6e6;\">' + text + '</del>';\n        break;\n      case DIFF_EQUAL:\n        html[x] = '<span>' + text + '</span>';\n        break;\n    }\n  }\n  return html.join('');\n};\n\n\n/**\n * Compute and return the source text (all equalities and deletions).\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} Source text.\n */\ndiff_match_patch.prototype.diff_text1 = function(diffs) {\n  var text = [];\n  for (var x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_INSERT) {\n      text[x] = diffs[x][1];\n    }\n  }\n  return text.join('');\n};\n\n\n/**\n * Compute and return the destination text (all equalities and insertions).\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} Destination text.\n */\ndiff_match_patch.prototype.diff_text2 = function(diffs) {\n  var text = [];\n  for (var x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_DELETE) {\n      text[x] = diffs[x][1];\n    }\n  }\n  return text.join('');\n};\n\n\n/**\n * Compute the Levenshtein distance; the number of inserted, deleted or\n * substituted characters.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {number} Number of changes.\n */\ndiff_match_patch.prototype.diff_levenshtein = function(diffs) {\n  var levenshtein = 0;\n  var insertions = 0;\n  var deletions = 0;\n  for (var x = 0; x < diffs.length; x++) {\n    var op = diffs[x][0];\n    var data = diffs[x][1];\n    switch (op) {\n      case DIFF_INSERT:\n        insertions += data.length;\n        break;\n      case DIFF_DELETE:\n        deletions += data.length;\n        break;\n      case DIFF_EQUAL:\n        // A deletion and an insertion is one substitution.\n        levenshtein += Math.max(insertions, deletions);\n        insertions = 0;\n        deletions = 0;\n        break;\n    }\n  }\n  levenshtein += Math.max(insertions, deletions);\n  return levenshtein;\n};\n\n\n/**\n * Crush the diff into an encoded string which describes the operations\n * required to transform text1 into text2.\n * E.g. =3\\t-2\\t+ing  -> Keep 3 chars, delete 2 chars, insert 'ing'.\n * Operations are tab-separated.  Inserted text is escaped using %xx notation.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} Delta text.\n */\ndiff_match_patch.prototype.diff_toDelta = function(diffs) {\n  var text = [];\n  for (var x = 0; x < diffs.length; x++) {\n    switch (diffs[x][0]) {\n      case DIFF_INSERT:\n        text[x] = '+' + encodeURI(diffs[x][1]);\n        break;\n      case DIFF_DELETE:\n        text[x] = '-' + diffs[x][1].length;\n        break;\n      case DIFF_EQUAL:\n        text[x] = '=' + diffs[x][1].length;\n        break;\n    }\n  }\n  return text.join('\\t').replace(/%20/g, ' ');\n};\n\n\n/**\n * Given the original text1, and an encoded string which describes the\n * operations required to transform text1 into text2, compute the full diff.\n * @param {string} text1 Source string for the diff.\n * @param {string} delta Delta text.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @throws {!Error} If invalid input.\n */\ndiff_match_patch.prototype.diff_fromDelta = function(text1, delta) {\n  var diffs = [];\n  var diffsLength = 0;  // Keeping our own length var is faster in JS.\n  var pointer = 0;  // Cursor in text1\n  var tokens = delta.split(/\\t/g);\n  for (var x = 0; x < tokens.length; x++) {\n    // Each token begins with a one character parameter which specifies the\n    // operation of this token (delete, insert, equality).\n    var param = tokens[x].substring(1);\n    switch (tokens[x].charAt(0)) {\n      case '+':\n        try {\n          diffs[diffsLength++] =\n              new diff_match_patch.Diff(DIFF_INSERT, decodeURI(param));\n        } catch (ex) {\n          // Malformed URI sequence.\n          throw new Error('Illegal escape in diff_fromDelta: ' + param);\n        }\n        break;\n      case '-':\n        // Fall through.\n      case '=':\n        var n = parseInt(param, 10);\n        if (isNaN(n) || n < 0) {\n          throw new Error('Invalid number in diff_fromDelta: ' + param);\n        }\n        var text = text1.substring(pointer, pointer += n);\n        if (tokens[x].charAt(0) == '=') {\n          diffs[diffsLength++] = new diff_match_patch.Diff(DIFF_EQUAL, text);\n        } else {\n          diffs[diffsLength++] = new diff_match_patch.Diff(DIFF_DELETE, text);\n        }\n        break;\n      default:\n        // Blank tokens are ok (from a trailing \\t).\n        // Anything else is an error.\n        if (tokens[x]) {\n          throw new Error('Invalid diff operation in diff_fromDelta: ' +\n                          tokens[x]);\n        }\n    }\n  }\n  if (pointer != text1.length) {\n    throw new Error('Delta length (' + pointer +\n        ') does not equal source text length (' + text1.length + ').');\n  }\n  return diffs;\n};\n\n\n//  MATCH FUNCTIONS\n\n\n/**\n * Locate the best instance of 'pattern' in 'text' near 'loc'.\n * @param {string} text The text to search.\n * @param {string} pattern The pattern to search for.\n * @param {number} loc The location to search around.\n * @return {number} Best match index or -1.\n */\ndiff_match_patch.prototype.match_main = function(text, pattern, loc) {\n  // Check for null inputs.\n  if (text == null || pattern == null || loc == null) {\n    throw new Error('Null input. (match_main)');\n  }\n\n  loc = Math.max(0, Math.min(loc, text.length));\n  if (text == pattern) {\n    // Shortcut (potentially not guaranteed by the algorithm)\n    return 0;\n  } else if (!text.length) {\n    // Nothing to match.\n    return -1;\n  } else if (text.substring(loc, loc + pattern.length) == pattern) {\n    // Perfect match at the perfect spot!  (Includes case of null pattern)\n    return loc;\n  } else {\n    // Do a fuzzy compare.\n    return this.match_bitap_(text, pattern, loc);\n  }\n};\n\n\n/**\n * Locate the best instance of 'pattern' in 'text' near 'loc' using the\n * Bitap algorithm.\n * @param {string} text The text to search.\n * @param {string} pattern The pattern to search for.\n * @param {number} loc The location to search around.\n * @return {number} Best match index or -1.\n * @private\n */\ndiff_match_patch.prototype.match_bitap_ = function(text, pattern, loc) {\n  if (pattern.length > this.Match_MaxBits) {\n    throw new Error('Pattern too long for this browser.');\n  }\n\n  // Initialise the alphabet.\n  var s = this.match_alphabet_(pattern);\n\n  var dmp = this;  // 'this' becomes 'window' in a closure.\n\n  /**\n   * Compute and return the score for a match with e errors and x location.\n   * Accesses loc and pattern through being a closure.\n   * @param {number} e Number of errors in match.\n   * @param {number} x Location of match.\n   * @return {number} Overall score for match (0.0 = good, 1.0 = bad).\n   * @private\n   */\n  function match_bitapScore_(e, x) {\n    var accuracy = e / pattern.length;\n    var proximity = Math.abs(loc - x);\n    if (!dmp.Match_Distance) {\n      // Dodge divide by zero error.\n      return proximity ? 1.0 : accuracy;\n    }\n    return accuracy + (proximity / dmp.Match_Distance);\n  }\n\n  // Highest score beyond which we give up.\n  var score_threshold = this.Match_Threshold;\n  // Is there a nearby exact match? (speedup)\n  var best_loc = text.indexOf(pattern, loc);\n  if (best_loc != -1) {\n    score_threshold = Math.min(match_bitapScore_(0, best_loc), score_threshold);\n    // What about in the other direction? (speedup)\n    best_loc = text.lastIndexOf(pattern, loc + pattern.length);\n    if (best_loc != -1) {\n      score_threshold =\n          Math.min(match_bitapScore_(0, best_loc), score_threshold);\n    }\n  }\n\n  // Initialise the bit arrays.\n  var matchmask = 1 << (pattern.length - 1);\n  best_loc = -1;\n\n  var bin_min, bin_mid;\n  var bin_max = pattern.length + text.length;\n  var last_rd;\n  for (var d = 0; d < pattern.length; d++) {\n    // Scan for the best match; each iteration allows for one more error.\n    // Run a binary search to determine how far from 'loc' we can stray at this\n    // error level.\n    bin_min = 0;\n    bin_mid = bin_max;\n    while (bin_min < bin_mid) {\n      if (match_bitapScore_(d, loc + bin_mid) <= score_threshold) {\n        bin_min = bin_mid;\n      } else {\n        bin_max = bin_mid;\n      }\n      bin_mid = Math.floor((bin_max - bin_min) / 2 + bin_min);\n    }\n    // Use the result from this iteration as the maximum for the next.\n    bin_max = bin_mid;\n    var start = Math.max(1, loc - bin_mid + 1);\n    var finish = Math.min(loc + bin_mid, text.length) + pattern.length;\n\n    var rd = Array(finish + 2);\n    rd[finish + 1] = (1 << d) - 1;\n    for (var j = finish; j >= start; j--) {\n      // The alphabet (s) is a sparse hash, so the following line generates\n      // warnings.\n      var charMatch = s[text.charAt(j - 1)];\n      if (d === 0) {  // First pass: exact match.\n        rd[j] = ((rd[j + 1] << 1) | 1) & charMatch;\n      } else {  // Subsequent passes: fuzzy match.\n        rd[j] = (((rd[j + 1] << 1) | 1) & charMatch) |\n                (((last_rd[j + 1] | last_rd[j]) << 1) | 1) |\n                last_rd[j + 1];\n      }\n      if (rd[j] & matchmask) {\n        var score = match_bitapScore_(d, j - 1);\n        // This match will almost certainly be better than any existing match.\n        // But check anyway.\n        if (score <= score_threshold) {\n          // Told you so.\n          score_threshold = score;\n          best_loc = j - 1;\n          if (best_loc > loc) {\n            // When passing loc, don't exceed our current distance from loc.\n            start = Math.max(1, 2 * loc - best_loc);\n          } else {\n            // Already passed loc, downhill from here on in.\n            break;\n          }\n        }\n      }\n    }\n    // No hope for a (better) match at greater error levels.\n    if (match_bitapScore_(d + 1, loc) > score_threshold) {\n      break;\n    }\n    last_rd = rd;\n  }\n  return best_loc;\n};\n\n\n/**\n * Initialise the alphabet for the Bitap algorithm.\n * @param {string} pattern The text to encode.\n * @return {!Object} Hash of character locations.\n * @private\n */\ndiff_match_patch.prototype.match_alphabet_ = function(pattern) {\n  var s = {};\n  for (var i = 0; i < pattern.length; i++) {\n    s[pattern.charAt(i)] = 0;\n  }\n  for (var i = 0; i < pattern.length; i++) {\n    s[pattern.charAt(i)] |= 1 << (pattern.length - i - 1);\n  }\n  return s;\n};\n\n\n//  PATCH FUNCTIONS\n\n\n/**\n * Increase the context until it is unique,\n * but don't let the pattern expand beyond Match_MaxBits.\n * @param {!diff_match_patch.patch_obj} patch The patch to grow.\n * @param {string} text Source text.\n * @private\n */\ndiff_match_patch.prototype.patch_addContext_ = function(patch, text) {\n  if (text.length == 0) {\n    return;\n  }\n  if (patch.start2 === null) {\n    throw Error('patch not initialized');\n  }\n  var pattern = text.substring(patch.start2, patch.start2 + patch.length1);\n  var padding = 0;\n\n  // Look for the first and last matches of pattern in text.  If two different\n  // matches are found, increase the pattern length.\n  while (text.indexOf(pattern) != text.lastIndexOf(pattern) &&\n         pattern.length < this.Match_MaxBits - this.Patch_Margin -\n         this.Patch_Margin) {\n    padding += this.Patch_Margin;\n    pattern = text.substring(patch.start2 - padding,\n                             patch.start2 + patch.length1 + padding);\n  }\n  // Add one chunk for good luck.\n  padding += this.Patch_Margin;\n\n  // Add the prefix.\n  var prefix = text.substring(patch.start2 - padding, patch.start2);\n  if (prefix) {\n    patch.diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL, prefix));\n  }\n  // Add the suffix.\n  var suffix = text.substring(patch.start2 + patch.length1,\n                              patch.start2 + patch.length1 + padding);\n  if (suffix) {\n    patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, suffix));\n  }\n\n  // Roll back the start points.\n  patch.start1 -= prefix.length;\n  patch.start2 -= prefix.length;\n  // Extend the lengths.\n  patch.length1 += prefix.length + suffix.length;\n  patch.length2 += prefix.length + suffix.length;\n};\n\n\n/**\n * Compute a list of patches to turn text1 into text2.\n * Use diffs if provided, otherwise compute it ourselves.\n * There are four ways to call this function, depending on what data is\n * available to the caller:\n * Method 1:\n * a = text1, b = text2\n * Method 2:\n * a = diffs\n * Method 3 (optimal):\n * a = text1, b = diffs\n * Method 4 (deprecated, use method 3):\n * a = text1, b = text2, c = diffs\n *\n * @param {string|!Array.<!diff_match_patch.Diff>} a text1 (methods 1,3,4) or\n * Array of diff tuples for text1 to text2 (method 2).\n * @param {string|!Array.<!diff_match_patch.Diff>=} opt_b text2 (methods 1,4) or\n * Array of diff tuples for text1 to text2 (method 3) or undefined (method 2).\n * @param {string|!Array.<!diff_match_patch.Diff>=} opt_c Array of diff tuples\n * for text1 to text2 (method 4) or undefined (methods 1,2,3).\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\n */\ndiff_match_patch.prototype.patch_make = function(a, opt_b, opt_c) {\n  var text1, diffs;\n  if (typeof a == 'string' && typeof opt_b == 'string' &&\n      typeof opt_c == 'undefined') {\n    // Method 1: text1, text2\n    // Compute diffs from text1 and text2.\n    text1 = /** @type {string} */(a);\n    diffs = this.diff_main(text1, /** @type {string} */(opt_b), true);\n    if (diffs.length > 2) {\n      this.diff_cleanupSemantic(diffs);\n      this.diff_cleanupEfficiency(diffs);\n    }\n  } else if (a && typeof a == 'object' && typeof opt_b == 'undefined' &&\n      typeof opt_c == 'undefined') {\n    // Method 2: diffs\n    // Compute text1 from diffs.\n    diffs = /** @type {!Array.<!diff_match_patch.Diff>} */(a);\n    text1 = this.diff_text1(diffs);\n  } else if (typeof a == 'string' && opt_b && typeof opt_b == 'object' &&\n      typeof opt_c == 'undefined') {\n    // Method 3: text1, diffs\n    text1 = /** @type {string} */(a);\n    diffs = /** @type {!Array.<!diff_match_patch.Diff>} */(opt_b);\n  } else if (typeof a == 'string' && typeof opt_b == 'string' &&\n      opt_c && typeof opt_c == 'object') {\n    // Method 4: text1, text2, diffs\n    // text2 is not used.\n    text1 = /** @type {string} */(a);\n    diffs = /** @type {!Array.<!diff_match_patch.Diff>} */(opt_c);\n  } else {\n    throw new Error('Unknown call format to patch_make.');\n  }\n\n  if (diffs.length === 0) {\n    return [];  // Get rid of the null case.\n  }\n  var patches = [];\n  var patch = new diff_match_patch.patch_obj();\n  var patchDiffLength = 0;  // Keeping our own length var is faster in JS.\n  var char_count1 = 0;  // Number of characters into the text1 string.\n  var char_count2 = 0;  // Number of characters into the text2 string.\n  // Start with text1 (prepatch_text) and apply the diffs until we arrive at\n  // text2 (postpatch_text).  We recreate the patches one by one to determine\n  // context info.\n  var prepatch_text = text1;\n  var postpatch_text = text1;\n  for (var x = 0; x < diffs.length; x++) {\n    var diff_type = diffs[x][0];\n    var diff_text = diffs[x][1];\n\n    if (!patchDiffLength && diff_type !== DIFF_EQUAL) {\n      // A new patch starts here.\n      patch.start1 = char_count1;\n      patch.start2 = char_count2;\n    }\n\n    switch (diff_type) {\n      case DIFF_INSERT:\n        patch.diffs[patchDiffLength++] = diffs[x];\n        patch.length2 += diff_text.length;\n        postpatch_text = postpatch_text.substring(0, char_count2) + diff_text +\n                         postpatch_text.substring(char_count2);\n        break;\n      case DIFF_DELETE:\n        patch.length1 += diff_text.length;\n        patch.diffs[patchDiffLength++] = diffs[x];\n        postpatch_text = postpatch_text.substring(0, char_count2) +\n                         postpatch_text.substring(char_count2 +\n                             diff_text.length);\n        break;\n      case DIFF_EQUAL:\n        if (diff_text.length <= 2 * this.Patch_Margin &&\n            patchDiffLength && diffs.length != x + 1) {\n          // Small equality inside a patch.\n          patch.diffs[patchDiffLength++] = diffs[x];\n          patch.length1 += diff_text.length;\n          patch.length2 += diff_text.length;\n        } else if (diff_text.length >= 2 * this.Patch_Margin) {\n          // Time for a new patch.\n          if (patchDiffLength) {\n            this.patch_addContext_(patch, prepatch_text);\n            patches.push(patch);\n            patch = new diff_match_patch.patch_obj();\n            patchDiffLength = 0;\n            // Unlike Unidiff, our patch lists have a rolling context.\n            // https://github.com/google/diff-match-patch/wiki/Unidiff\n            // Update prepatch text & pos to reflect the application of the\n            // just completed patch.\n            prepatch_text = postpatch_text;\n            char_count1 = char_count2;\n          }\n        }\n        break;\n    }\n\n    // Update the current character count.\n    if (diff_type !== DIFF_INSERT) {\n      char_count1 += diff_text.length;\n    }\n    if (diff_type !== DIFF_DELETE) {\n      char_count2 += diff_text.length;\n    }\n  }\n  // Pick up the leftover patch if not empty.\n  if (patchDiffLength) {\n    this.patch_addContext_(patch, prepatch_text);\n    patches.push(patch);\n  }\n\n  return patches;\n};\n\n\n/**\n * Given an array of patches, return another array that is identical.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\n */\ndiff_match_patch.prototype.patch_deepCopy = function(patches) {\n  // Making deep copies is hard in JavaScript.\n  var patchesCopy = [];\n  for (var x = 0; x < patches.length; x++) {\n    var patch = patches[x];\n    var patchCopy = new diff_match_patch.patch_obj();\n    patchCopy.diffs = [];\n    for (var y = 0; y < patch.diffs.length; y++) {\n      patchCopy.diffs[y] =\n          new diff_match_patch.Diff(patch.diffs[y][0], patch.diffs[y][1]);\n    }\n    patchCopy.start1 = patch.start1;\n    patchCopy.start2 = patch.start2;\n    patchCopy.length1 = patch.length1;\n    patchCopy.length2 = patch.length2;\n    patchesCopy[x] = patchCopy;\n  }\n  return patchesCopy;\n};\n\n\n/**\n * Merge a set of patches onto the text.  Return a patched text, as well\n * as a list of true/false values indicating which patches were applied.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @param {string} text Old text.\n * @return {!Array.<string|!Array.<boolean>>} Two element Array, containing the\n *      new text and an array of boolean values.\n */\ndiff_match_patch.prototype.patch_apply = function(patches, text) {\n  if (patches.length == 0) {\n    return [text, []];\n  }\n\n  // Deep copy the patches so that no changes are made to originals.\n  patches = this.patch_deepCopy(patches);\n\n  var nullPadding = this.patch_addPadding(patches);\n  text = nullPadding + text + nullPadding;\n\n  this.patch_splitMax(patches);\n  // delta keeps track of the offset between the expected and actual location\n  // of the previous patch.  If there are patches expected at positions 10 and\n  // 20, but the first patch was found at 12, delta is 2 and the second patch\n  // has an effective expected position of 22.\n  var delta = 0;\n  var results = [];\n  for (var x = 0; x < patches.length; x++) {\n    var expected_loc = patches[x].start2 + delta;\n    var text1 = this.diff_text1(patches[x].diffs);\n    var start_loc;\n    var end_loc = -1;\n    if (text1.length > this.Match_MaxBits) {\n      // patch_splitMax will only provide an oversized pattern in the case of\n      // a monster delete.\n      start_loc = this.match_main(text, text1.substring(0, this.Match_MaxBits),\n                                  expected_loc);\n      if (start_loc != -1) {\n        end_loc = this.match_main(text,\n            text1.substring(text1.length - this.Match_MaxBits),\n            expected_loc + text1.length - this.Match_MaxBits);\n        if (end_loc == -1 || start_loc >= end_loc) {\n          // Can't find valid trailing context.  Drop this patch.\n          start_loc = -1;\n        }\n      }\n    } else {\n      start_loc = this.match_main(text, text1, expected_loc);\n    }\n    if (start_loc == -1) {\n      // No match found.  :(\n      results[x] = false;\n      // Subtract the delta for this failed patch from subsequent patches.\n      delta -= patches[x].length2 - patches[x].length1;\n    } else {\n      // Found a match.  :)\n      results[x] = true;\n      delta = start_loc - expected_loc;\n      var text2;\n      if (end_loc == -1) {\n        text2 = text.substring(start_loc, start_loc + text1.length);\n      } else {\n        text2 = text.substring(start_loc, end_loc + this.Match_MaxBits);\n      }\n      if (text1 == text2) {\n        // Perfect match, just shove the replacement text in.\n        text = text.substring(0, start_loc) +\n               this.diff_text2(patches[x].diffs) +\n               text.substring(start_loc + text1.length);\n      } else {\n        // Imperfect match.  Run a diff to get a framework of equivalent\n        // indices.\n        var diffs = this.diff_main(text1, text2, false);\n        if (text1.length > this.Match_MaxBits &&\n            this.diff_levenshtein(diffs) / text1.length >\n            this.Patch_DeleteThreshold) {\n          // The end points match, but the content is unacceptably bad.\n          results[x] = false;\n        } else {\n          this.diff_cleanupSemanticLossless(diffs);\n          var index1 = 0;\n          var index2;\n          for (var y = 0; y < patches[x].diffs.length; y++) {\n            var mod = patches[x].diffs[y];\n            if (mod[0] !== DIFF_EQUAL) {\n              index2 = this.diff_xIndex(diffs, index1);\n            }\n            if (mod[0] === DIFF_INSERT) {  // Insertion\n              text = text.substring(0, start_loc + index2) + mod[1] +\n                     text.substring(start_loc + index2);\n            } else if (mod[0] === DIFF_DELETE) {  // Deletion\n              text = text.substring(0, start_loc + index2) +\n                     text.substring(start_loc + this.diff_xIndex(diffs,\n                         index1 + mod[1].length));\n            }\n            if (mod[0] !== DIFF_DELETE) {\n              index1 += mod[1].length;\n            }\n          }\n        }\n      }\n    }\n  }\n  // Strip the padding off.\n  text = text.substring(nullPadding.length, text.length - nullPadding.length);\n  return [text, results];\n};\n\n\n/**\n * Add some padding on text start and end so that edges can match something.\n * Intended to be called only from within patch_apply.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @return {string} The padding string added to each side.\n */\ndiff_match_patch.prototype.patch_addPadding = function(patches) {\n  var paddingLength = this.Patch_Margin;\n  var nullPadding = '';\n  for (var x = 1; x <= paddingLength; x++) {\n    nullPadding += String.fromCharCode(x);\n  }\n\n  // Bump all the patches forward.\n  for (var x = 0; x < patches.length; x++) {\n    patches[x].start1 += paddingLength;\n    patches[x].start2 += paddingLength;\n  }\n\n  // Add some padding on start of first diff.\n  var patch = patches[0];\n  var diffs = patch.diffs;\n  if (diffs.length == 0 || diffs[0][0] != DIFF_EQUAL) {\n    // Add nullPadding equality.\n    diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL, nullPadding));\n    patch.start1 -= paddingLength;  // Should be 0.\n    patch.start2 -= paddingLength;  // Should be 0.\n    patch.length1 += paddingLength;\n    patch.length2 += paddingLength;\n  } else if (paddingLength > diffs[0][1].length) {\n    // Grow first equality.\n    var extraLength = paddingLength - diffs[0][1].length;\n    diffs[0][1] = nullPadding.substring(diffs[0][1].length) + diffs[0][1];\n    patch.start1 -= extraLength;\n    patch.start2 -= extraLength;\n    patch.length1 += extraLength;\n    patch.length2 += extraLength;\n  }\n\n  // Add some padding on end of last diff.\n  patch = patches[patches.length - 1];\n  diffs = patch.diffs;\n  if (diffs.length == 0 || diffs[diffs.length - 1][0] != DIFF_EQUAL) {\n    // Add nullPadding equality.\n    diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, nullPadding));\n    patch.length1 += paddingLength;\n    patch.length2 += paddingLength;\n  } else if (paddingLength > diffs[diffs.length - 1][1].length) {\n    // Grow last equality.\n    var extraLength = paddingLength - diffs[diffs.length - 1][1].length;\n    diffs[diffs.length - 1][1] += nullPadding.substring(0, extraLength);\n    patch.length1 += extraLength;\n    patch.length2 += extraLength;\n  }\n\n  return nullPadding;\n};\n\n\n/**\n * Look through the patches and break up any which are longer than the maximum\n * limit of the match algorithm.\n * Intended to be called only from within patch_apply.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n */\ndiff_match_patch.prototype.patch_splitMax = function(patches) {\n  var patch_size = this.Match_MaxBits;\n  for (var x = 0; x < patches.length; x++) {\n    if (patches[x].length1 <= patch_size) {\n      continue;\n    }\n    var bigpatch = patches[x];\n    // Remove the big old patch.\n    patches.splice(x--, 1);\n    var start1 = bigpatch.start1;\n    var start2 = bigpatch.start2;\n    var precontext = '';\n    while (bigpatch.diffs.length !== 0) {\n      // Create one of several smaller patches.\n      var patch = new diff_match_patch.patch_obj();\n      var empty = true;\n      patch.start1 = start1 - precontext.length;\n      patch.start2 = start2 - precontext.length;\n      if (precontext !== '') {\n        patch.length1 = patch.length2 = precontext.length;\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, precontext));\n      }\n      while (bigpatch.diffs.length !== 0 &&\n             patch.length1 < patch_size - this.Patch_Margin) {\n        var diff_type = bigpatch.diffs[0][0];\n        var diff_text = bigpatch.diffs[0][1];\n        if (diff_type === DIFF_INSERT) {\n          // Insertions are harmless.\n          patch.length2 += diff_text.length;\n          start2 += diff_text.length;\n          patch.diffs.push(bigpatch.diffs.shift());\n          empty = false;\n        } else if (diff_type === DIFF_DELETE && patch.diffs.length == 1 &&\n                   patch.diffs[0][0] == DIFF_EQUAL &&\n                   diff_text.length > 2 * patch_size) {\n          // This is a large deletion.  Let it pass in one chunk.\n          patch.length1 += diff_text.length;\n          start1 += diff_text.length;\n          empty = false;\n          patch.diffs.push(new diff_match_patch.Diff(diff_type, diff_text));\n          bigpatch.diffs.shift();\n        } else {\n          // Deletion or equality.  Only take as much as we can stomach.\n          diff_text = diff_text.substring(0,\n              patch_size - patch.length1 - this.Patch_Margin);\n          patch.length1 += diff_text.length;\n          start1 += diff_text.length;\n          if (diff_type === DIFF_EQUAL) {\n            patch.length2 += diff_text.length;\n            start2 += diff_text.length;\n          } else {\n            empty = false;\n          }\n          patch.diffs.push(new diff_match_patch.Diff(diff_type, diff_text));\n          if (diff_text == bigpatch.diffs[0][1]) {\n            bigpatch.diffs.shift();\n          } else {\n            bigpatch.diffs[0][1] =\n                bigpatch.diffs[0][1].substring(diff_text.length);\n          }\n        }\n      }\n      // Compute the head context for the next patch.\n      precontext = this.diff_text2(patch.diffs);\n      precontext =\n          precontext.substring(precontext.length - this.Patch_Margin);\n      // Append the end context for this patch.\n      var postcontext = this.diff_text1(bigpatch.diffs)\n                            .substring(0, this.Patch_Margin);\n      if (postcontext !== '') {\n        patch.length1 += postcontext.length;\n        patch.length2 += postcontext.length;\n        if (patch.diffs.length !== 0 &&\n            patch.diffs[patch.diffs.length - 1][0] === DIFF_EQUAL) {\n          patch.diffs[patch.diffs.length - 1][1] += postcontext;\n        } else {\n          patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, postcontext));\n        }\n      }\n      if (!empty) {\n        patches.splice(++x, 0, patch);\n      }\n    }\n  }\n};\n\n\n/**\n * Take a list of patches and return a textual representation.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @return {string} Text representation of patches.\n */\ndiff_match_patch.prototype.patch_toText = function(patches) {\n  var text = [];\n  for (var x = 0; x < patches.length; x++) {\n    text[x] = patches[x];\n  }\n  return text.join('');\n};\n\n\n/**\n * Parse a textual representation of patches and return a list of Patch objects.\n * @param {string} textline Text representation of patches.\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\n * @throws {!Error} If invalid input.\n */\ndiff_match_patch.prototype.patch_fromText = function(textline) {\n  var patches = [];\n  if (!textline) {\n    return patches;\n  }\n  var text = textline.split('\\n');\n  var textPointer = 0;\n  var patchHeader = /^@@ -(\\d+),?(\\d*) \\+(\\d+),?(\\d*) @@$/;\n  while (textPointer < text.length) {\n    var m = text[textPointer].match(patchHeader);\n    if (!m) {\n      throw new Error('Invalid patch string: ' + text[textPointer]);\n    }\n    var patch = new diff_match_patch.patch_obj();\n    patches.push(patch);\n    patch.start1 = parseInt(m[1], 10);\n    if (m[2] === '') {\n      patch.start1--;\n      patch.length1 = 1;\n    } else if (m[2] == '0') {\n      patch.length1 = 0;\n    } else {\n      patch.start1--;\n      patch.length1 = parseInt(m[2], 10);\n    }\n\n    patch.start2 = parseInt(m[3], 10);\n    if (m[4] === '') {\n      patch.start2--;\n      patch.length2 = 1;\n    } else if (m[4] == '0') {\n      patch.length2 = 0;\n    } else {\n      patch.start2--;\n      patch.length2 = parseInt(m[4], 10);\n    }\n    textPointer++;\n\n    while (textPointer < text.length) {\n      var sign = text[textPointer].charAt(0);\n      try {\n        var line = decodeURI(text[textPointer].substring(1));\n      } catch (ex) {\n        // Malformed URI sequence.\n        throw new Error('Illegal escape in patch_fromText: ' + line);\n      }\n      if (sign == '-') {\n        // Deletion.\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_DELETE, line));\n      } else if (sign == '+') {\n        // Insertion.\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_INSERT, line));\n      } else if (sign == ' ') {\n        // Minor equality.\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, line));\n      } else if (sign == '@') {\n        // Start of next patch.\n        break;\n      } else if (sign === '') {\n        // Blank line?  Whatever.\n      } else {\n        // WTF?\n        throw new Error('Invalid patch mode \"' + sign + '\" in: ' + line);\n      }\n      textPointer++;\n    }\n  }\n  return patches;\n};\n\n\n/**\n * Class representing one patch operation.\n * @constructor\n */\ndiff_match_patch.patch_obj = function() {\n  /** @type {!Array.<!diff_match_patch.Diff>} */\n  this.diffs = [];\n  /** @type {?number} */\n  this.start1 = null;\n  /** @type {?number} */\n  this.start2 = null;\n  /** @type {number} */\n  this.length1 = 0;\n  /** @type {number} */\n  this.length2 = 0;\n};\n\n\n/**\n * Emulate GNU diff's format.\n * Header: @@ -382,8 +481,9 @@\n * Indices are printed as 1-based, not 0-based.\n * @return {string} The GNU diff string.\n */\ndiff_match_patch.patch_obj.prototype.toString = function() {\n  var coords1, coords2;\n  if (this.length1 === 0) {\n    coords1 = this.start1 + ',0';\n  } else if (this.length1 == 1) {\n    coords1 = this.start1 + 1;\n  } else {\n    coords1 = (this.start1 + 1) + ',' + this.length1;\n  }\n  if (this.length2 === 0) {\n    coords2 = this.start2 + ',0';\n  } else if (this.length2 == 1) {\n    coords2 = this.start2 + 1;\n  } else {\n    coords2 = (this.start2 + 1) + ',' + this.length2;\n  }\n  var text = ['@@ -' + coords1 + ' +' + coords2 + ' @@\\n'];\n  var op;\n  // Escape the body of the patch with %xx notation.\n  for (var x = 0; x < this.diffs.length; x++) {\n    switch (this.diffs[x][0]) {\n      case DIFF_INSERT:\n        op = '+';\n        break;\n      case DIFF_DELETE:\n        op = '-';\n        break;\n      case DIFF_EQUAL:\n        op = ' ';\n        break;\n    }\n    text[x + 1] = op + encodeURI(this.diffs[x][1]) + '\\n';\n  }\n  return text.join('').replace(/%20/g, ' ');\n};\n\n\n// The following export code was added by @ForbesLindesay\nmodule.exports = diff_match_patch;\nmodule.exports['diff_match_patch'] = diff_match_patch;\nmodule.exports['DIFF_DELETE'] = DIFF_DELETE;\nmodule.exports['DIFF_INSERT'] = DIFF_INSERT;\nmodule.exports['DIFF_EQUAL'] = DIFF_EQUAL;","ace.define(\"ace/mode/json_highlight_rules\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/text_highlight_rules\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar oop = acequire(\"../lib/oop\");\nvar TextHighlightRules = acequire(\"./text_highlight_rules\").TextHighlightRules;\n\nvar JsonHighlightRules = function() {\n    this.$rules = {\n        \"start\" : [\n            {\n                token : \"variable\", // single line\n                regex : '[\"](?:(?:\\\\\\\\.)|(?:[^\"\\\\\\\\]))*?[\"]\\\\s*(?=:)'\n            }, {\n                token : \"string\", // single line\n                regex : '\"',\n                next  : \"string\"\n            }, {\n                token : \"constant.numeric\", // hex\n                regex : \"0[xX][0-9a-fA-F]+\\\\b\"\n            }, {\n                token : \"constant.numeric\", // float\n                regex : \"[+-]?\\\\d+(?:(?:\\\\.\\\\d*)?(?:[eE][+-]?\\\\d+)?)?\\\\b\"\n            }, {\n                token : \"constant.language.boolean\",\n                regex : \"(?:true|false)\\\\b\"\n            }, {\n                token : \"text\", // single quoted strings are not allowed\n                regex : \"['](?:(?:\\\\\\\\.)|(?:[^'\\\\\\\\]))*?[']\"\n            }, {\n                token : \"comment\", // comments are not allowed, but who cares?\n                regex : \"\\\\/\\\\/.*$\"\n            }, {\n                token : \"comment.start\", // comments are not allowed, but who cares?\n                regex : \"\\\\/\\\\*\",\n                next  : \"comment\"\n            }, {\n                token : \"paren.lparen\",\n                regex : \"[[({]\"\n            }, {\n                token : \"paren.rparen\",\n                regex : \"[\\\\])}]\"\n            }, {\n                token : \"text\",\n                regex : \"\\\\s+\"\n            }\n        ],\n        \"string\" : [\n            {\n                token : \"constant.language.escape\",\n                regex : /\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|[\"\\\\\\/bfnrt])/\n            }, {\n                token : \"string\",\n                regex : '\"|$',\n                next  : \"start\"\n            }, {\n                defaultToken : \"string\"\n            }\n        ],\n        \"comment\" : [\n            {\n                token : \"comment.end\", // comments are not allowed, but who cares?\n                regex : \"\\\\*\\\\/\",\n                next  : \"start\"\n            }, {\n                defaultToken: \"comment\"\n            }\n        ]\n    };\n    \n};\n\noop.inherits(JsonHighlightRules, TextHighlightRules);\n\nexports.JsonHighlightRules = JsonHighlightRules;\n});\n\nace.define(\"ace/mode/matching_brace_outdent\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar Range = acequire(\"../range\").Range;\n\nvar MatchingBraceOutdent = function() {};\n\n(function() {\n\n    this.checkOutdent = function(line, input) {\n        if (! /^\\s+$/.test(line))\n            return false;\n\n        return /^\\s*\\}/.test(input);\n    };\n\n    this.autoOutdent = function(doc, row) {\n        var line = doc.getLine(row);\n        var match = line.match(/^(\\s*\\})/);\n\n        if (!match) return 0;\n\n        var column = match[1].length;\n        var openBracePos = doc.findMatchingBracket({row: row, column: column});\n\n        if (!openBracePos || openBracePos.row == row) return 0;\n\n        var indent = this.$getIndent(doc.getLine(openBracePos.row));\n        doc.replace(new Range(row, 0, row, column-1), indent);\n    };\n\n    this.$getIndent = function(line) {\n        return line.match(/^\\s*/)[0];\n    };\n\n}).call(MatchingBraceOutdent.prototype);\n\nexports.MatchingBraceOutdent = MatchingBraceOutdent;\n});\n\nace.define(\"ace/mode/folding/cstyle\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/range\",\"ace/mode/folding/fold_mode\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar oop = acequire(\"../../lib/oop\");\nvar Range = acequire(\"../../range\").Range;\nvar BaseFoldMode = acequire(\"./fold_mode\").FoldMode;\n\nvar FoldMode = exports.FoldMode = function(commentRegex) {\n    if (commentRegex) {\n        this.foldingStartMarker = new RegExp(\n            this.foldingStartMarker.source.replace(/\\|[^|]*?$/, \"|\" + commentRegex.start)\n        );\n        this.foldingStopMarker = new RegExp(\n            this.foldingStopMarker.source.replace(/\\|[^|]*?$/, \"|\" + commentRegex.end)\n        );\n    }\n};\noop.inherits(FoldMode, BaseFoldMode);\n\n(function() {\n    \n    this.foldingStartMarker = /([\\{\\[\\(])[^\\}\\]\\)]*$|^\\s*(\\/\\*)/;\n    this.foldingStopMarker = /^[^\\[\\{\\(]*([\\}\\]\\)])|^[\\s\\*]*(\\*\\/)/;\n    this.singleLineBlockCommentRe= /^\\s*(\\/\\*).*\\*\\/\\s*$/;\n    this.tripleStarBlockCommentRe = /^\\s*(\\/\\*\\*\\*).*\\*\\/\\s*$/;\n    this.startRegionRe = /^\\s*(\\/\\*|\\/\\/)#?region\\b/;\n    this._getFoldWidgetBase = this.getFoldWidget;\n    this.getFoldWidget = function(session, foldStyle, row) {\n        var line = session.getLine(row);\n    \n        if (this.singleLineBlockCommentRe.test(line)) {\n            if (!this.startRegionRe.test(line) && !this.tripleStarBlockCommentRe.test(line))\n                return \"\";\n        }\n    \n        var fw = this._getFoldWidgetBase(session, foldStyle, row);\n    \n        if (!fw && this.startRegionRe.test(line))\n            return \"start\"; // lineCommentRegionStart\n    \n        return fw;\n    };\n\n    this.getFoldWidgetRange = function(session, foldStyle, row, forceMultiline) {\n        var line = session.getLine(row);\n        \n        if (this.startRegionRe.test(line))\n            return this.getCommentRegionBlock(session, line, row);\n        \n        var match = line.match(this.foldingStartMarker);\n        if (match) {\n            var i = match.index;\n\n            if (match[1])\n                return this.openingBracketBlock(session, match[1], row, i);\n                \n            var range = session.getCommentFoldRange(row, i + match[0].length, 1);\n            \n            if (range && !range.isMultiLine()) {\n                if (forceMultiline) {\n                    range = this.getSectionRange(session, row);\n                } else if (foldStyle != \"all\")\n                    range = null;\n            }\n            \n            return range;\n        }\n\n        if (foldStyle === \"markbegin\")\n            return;\n\n        var match = line.match(this.foldingStopMarker);\n        if (match) {\n            var i = match.index + match[0].length;\n\n            if (match[1])\n                return this.closingBracketBlock(session, match[1], row, i);\n\n            return session.getCommentFoldRange(row, i, -1);\n        }\n    };\n    \n    this.getSectionRange = function(session, row) {\n        var line = session.getLine(row);\n        var startIndent = line.search(/\\S/);\n        var startRow = row;\n        var startColumn = line.length;\n        row = row + 1;\n        var endRow = row;\n        var maxRow = session.getLength();\n        while (++row < maxRow) {\n            line = session.getLine(row);\n            var indent = line.search(/\\S/);\n            if (indent === -1)\n                continue;\n            if  (startIndent > indent)\n                break;\n            var subRange = this.getFoldWidgetRange(session, \"all\", row);\n            \n            if (subRange) {\n                if (subRange.start.row <= startRow) {\n                    break;\n                } else if (subRange.isMultiLine()) {\n                    row = subRange.end.row;\n                } else if (startIndent == indent) {\n                    break;\n                }\n            }\n            endRow = row;\n        }\n        \n        return new Range(startRow, startColumn, endRow, session.getLine(endRow).length);\n    };\n    this.getCommentRegionBlock = function(session, line, row) {\n        var startColumn = line.search(/\\s*$/);\n        var maxRow = session.getLength();\n        var startRow = row;\n        \n        var re = /^\\s*(?:\\/\\*|\\/\\/|--)#?(end)?region\\b/;\n        var depth = 1;\n        while (++row < maxRow) {\n            line = session.getLine(row);\n            var m = re.exec(line);\n            if (!m) continue;\n            if (m[1]) depth--;\n            else depth++;\n\n            if (!depth) break;\n        }\n\n        var endRow = row;\n        if (endRow > startRow) {\n            return new Range(startRow, startColumn, endRow, line.length);\n        }\n    };\n\n}).call(FoldMode.prototype);\n\n});\n\nace.define(\"ace/mode/json\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/text\",\"ace/mode/json_highlight_rules\",\"ace/mode/matching_brace_outdent\",\"ace/mode/behaviour/cstyle\",\"ace/mode/folding/cstyle\",\"ace/worker/worker_client\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar oop = acequire(\"../lib/oop\");\nvar TextMode = acequire(\"./text\").Mode;\nvar HighlightRules = acequire(\"./json_highlight_rules\").JsonHighlightRules;\nvar MatchingBraceOutdent = acequire(\"./matching_brace_outdent\").MatchingBraceOutdent;\nvar CstyleBehaviour = acequire(\"./behaviour/cstyle\").CstyleBehaviour;\nvar CStyleFoldMode = acequire(\"./folding/cstyle\").FoldMode;\nvar WorkerClient = acequire(\"../worker/worker_client\").WorkerClient;\n\nvar Mode = function() {\n    this.HighlightRules = HighlightRules;\n    this.$outdent = new MatchingBraceOutdent();\n    this.$behaviour = new CstyleBehaviour();\n    this.foldingRules = new CStyleFoldMode();\n};\noop.inherits(Mode, TextMode);\n\n(function() {\n\n    this.getNextLineIndent = function(state, line, tab) {\n        var indent = this.$getIndent(line);\n\n        if (state == \"start\") {\n            var match = line.match(/^.*[\\{\\(\\[]\\s*$/);\n            if (match) {\n                indent += tab;\n            }\n        }\n\n        return indent;\n    };\n\n    this.checkOutdent = function(state, line, input) {\n        return this.$outdent.checkOutdent(line, input);\n    };\n\n    this.autoOutdent = function(state, doc, row) {\n        this.$outdent.autoOutdent(doc, row);\n    };\n\n    this.createWorker = function(session) {\n        var worker = new WorkerClient([\"ace\"], require(\"../worker/json\"), \"JsonWorker\");\n        worker.attachToDocument(session.getDocument());\n\n        worker.on(\"annotate\", function(e) {\n            session.setAnnotations(e.data);\n        });\n\n        worker.on(\"terminate\", function() {\n            session.clearAnnotations();\n        });\n\n        return worker;\n    };\n\n\n    this.$id = \"ace/mode/json\";\n}).call(Mode.prototype);\n\nexports.Mode = Mode;\n});\n","module.exports.id = 'ace/mode/json_worker';\nmodule.exports.src = \"\\\"no use strict\\\";!function(window){function resolveModuleId(id,paths){for(var testPath=id,tail=\\\"\\\";testPath;){var alias=paths[testPath];if(\\\"string\\\"==typeof alias)return alias+tail;if(alias)return alias.location.replace(/\\\\/*$/,\\\"/\\\")+(tail||alias.main||alias.name);if(alias===!1)return\\\"\\\";var i=testPath.lastIndexOf(\\\"/\\\");if(-1===i)break;tail=testPath.substr(i)+tail,testPath=testPath.slice(0,i)}return id}if(!(void 0!==window.window&&window.document||window.acequire&&window.define)){window.console||(window.console=function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:\\\"log\\\",data:msgs})},window.console.error=window.console.warn=window.console.log=window.console.trace=window.console),window.window=window,window.ace=window,window.onerror=function(message,file,line,col,err){postMessage({type:\\\"error\\\",data:{message:message,data:err.data,file:file,line:line,col:col,stack:err.stack}})},window.normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf(\\\"!\\\")){var chunks=moduleName.split(\\\"!\\\");return window.normalizeModule(parentId,chunks[0])+\\\"!\\\"+window.normalizeModule(parentId,chunks[1])}if(\\\".\\\"==moduleName.charAt(0)){var base=parentId.split(\\\"/\\\").slice(0,-1).join(\\\"/\\\");for(moduleName=(base?base+\\\"/\\\":\\\"\\\")+moduleName;-1!==moduleName.indexOf(\\\".\\\")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/^\\\\.\\\\//,\\\"\\\").replace(/\\\\/\\\\.\\\\//,\\\"/\\\").replace(/[^\\\\/]+\\\\/\\\\.\\\\.\\\\//,\\\"\\\")}}return moduleName},window.acequire=function acequire(parentId,id){if(id||(id=parentId,parentId=null),!id.charAt)throw Error(\\\"worker.js acequire() accepts only (parentId, id) as arguments\\\");id=window.normalizeModule(parentId,id);var module=window.acequire.modules[id];if(module)return module.initialized||(module.initialized=!0,module.exports=module.factory().exports),module.exports;if(!window.acequire.tlns)return console.log(\\\"unable to load \\\"+id);var path=resolveModuleId(id,window.acequire.tlns);return\\\".js\\\"!=path.slice(-3)&&(path+=\\\".js\\\"),window.acequire.id=id,window.acequire.modules[id]={},importScripts(path),window.acequire(parentId,id)},window.acequire.modules={},window.acequire.tlns={},window.define=function(id,deps,factory){if(2==arguments.length?(factory=deps,\\\"string\\\"!=typeof id&&(deps=id,id=window.acequire.id)):1==arguments.length&&(factory=id,deps=[],id=window.acequire.id),\\\"function\\\"!=typeof factory)return window.acequire.modules[id]={exports:factory,initialized:!0},void 0;deps.length||(deps=[\\\"require\\\",\\\"exports\\\",\\\"module\\\"]);var req=function(childId){return window.acequire(id,childId)};window.acequire.modules[id]={exports:{},factory:function(){var module=this,returnExports=factory.apply(this,deps.map(function(dep){switch(dep){case\\\"require\\\":return req;case\\\"exports\\\":return module.exports;case\\\"module\\\":return module;default:return req(dep)}}));return returnExports&&(module.exports=returnExports),module}}},window.define.amd={},acequire.tlns={},window.initBaseUrls=function(topLevelNamespaces){for(var i in topLevelNamespaces)acequire.tlns[i]=topLevelNamespaces[i]},window.initSender=function(){var EventEmitter=window.acequire(\\\"ace/lib/event_emitter\\\").EventEmitter,oop=window.acequire(\\\"ace/lib/oop\\\"),Sender=function(){};return function(){oop.implement(this,EventEmitter),this.callback=function(data,callbackId){postMessage({type:\\\"call\\\",id:callbackId,data:data})},this.emit=function(name,data){postMessage({type:\\\"event\\\",name:name,data:data})}}.call(Sender.prototype),new Sender};var main=window.main=null,sender=window.sender=null;window.onmessage=function(e){var msg=e.data;if(msg.event&&sender)sender._signal(msg.event,msg.data);else if(msg.command)if(main[msg.command])main[msg.command].apply(main,msg.args);else{if(!window[msg.command])throw Error(\\\"Unknown command:\\\"+msg.command);window[msg.command].apply(window,msg.args)}else if(msg.init){window.initBaseUrls(msg.tlns),acequire(\\\"ace/lib/es5-shim\\\"),sender=window.sender=window.initSender();var clazz=acequire(msg.module)[msg.classname];main=window.main=new clazz(sender)}}}}(this),ace.define(\\\"ace/lib/oop\\\",[\\\"require\\\",\\\"exports\\\",\\\"module\\\"],function(acequire,exports){\\\"use strict\\\";exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})},exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}}),ace.define(\\\"ace/range\\\",[\\\"require\\\",\\\"exports\\\",\\\"module\\\"],function(acequire,exports){\\\"use strict\\\";var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return\\\"Range: [\\\"+this.start.row+\\\"/\\\"+this.start.column+\\\"] -> [\\\"+this.end.row+\\\"/\\\"+this.end.column+\\\"]\\\"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return cmp=this.compare(end.row,end.column),1==cmp?(cmp=this.compare(start.row,start.column),1==cmp?2:0==cmp?1:0):-1==cmp?-2:(cmp=this.compare(start.row,start.column),-1==cmp?-1:1==cmp?42:0)},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){\\\"object\\\"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){\\\"object\\\"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)||this.isStart(row,column)?!1:!0:!1},this.insideStart=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)?!1:!0:!1},this.insideEnd=function(row,column){return 0==this.compare(row,column)?this.isStart(row,column)?!1:!0:!1},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?this.start.row>row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?this.end.column>=column?0:1:0:this.start.column>column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(firstRow>this.end.row)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(firstRow>this.start.row)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=comparePoints,Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range=Range}),ace.define(\\\"ace/apply_delta\\\",[\\\"require\\\",\\\"exports\\\",\\\"module\\\"],function(acequire,exports){\\\"use strict\\\";exports.applyDelta=function(docLines,delta){var row=delta.start.row,startColumn=delta.start.column,line=docLines[row]||\\\"\\\";switch(delta.action){case\\\"insert\\\":var lines=delta.lines;if(1===lines.length)docLines[row]=line.substring(0,startColumn)+delta.lines[0]+line.substring(startColumn);else{var args=[row,1].concat(delta.lines);docLines.splice.apply(docLines,args),docLines[row]=line.substring(0,startColumn)+docLines[row],docLines[row+delta.lines.length-1]+=line.substring(startColumn)}break;case\\\"remove\\\":var endColumn=delta.end.column,endRow=delta.end.row;row===endRow?docLines[row]=line.substring(0,startColumn)+line.substring(endColumn):docLines.splice(row,endRow-row+1,line.substring(0,startColumn)+docLines[endRow].substring(endColumn))}}}),ace.define(\\\"ace/lib/event_emitter\\\",[\\\"require\\\",\\\"exports\\\",\\\"module\\\"],function(acequire,exports){\\\"use strict\\\";var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){\\\"object\\\"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault),listeners=listeners.slice();for(var i=0;listeners.length>i&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners){listeners=listeners.slice();for(var i=0;listeners.length>i;i++)listeners[i](e,this)}},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)})},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback)handlers[eventName],disabled&&this.setDefaultHandler(eventName,disabled.pop());else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?\\\"unshift\\\":\\\"push\\\"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter}),ace.define(\\\"ace/anchor\\\",[\\\"require\\\",\\\"exports\\\",\\\"module\\\",\\\"ace/lib/oop\\\",\\\"ace/lib/event_emitter\\\"],function(acequire,exports){\\\"use strict\\\";var oop=acequire(\\\"./lib/oop\\\"),EventEmitter=acequire(\\\"./lib/event_emitter\\\").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.$onChange=this.onChange.bind(this),this.attach(doc),column===void 0?this.setPosition(row.row,row.column):this.setPosition(row,column)};(function(){function $pointsInOrder(point1,point2,equalPointsInOrder){var bColIsAfter=equalPointsInOrder?point1.column<=point2.column:point1.column<point2.column;return point1.row<point2.row||point1.row==point2.row&&bColIsAfter}function $getTransformedPoint(delta,point,moveIfEqual){var deltaIsInsert=\\\"insert\\\"==delta.action,deltaRowShift=(deltaIsInsert?1:-1)*(delta.end.row-delta.start.row),deltaColShift=(deltaIsInsert?1:-1)*(delta.end.column-delta.start.column),deltaStart=delta.start,deltaEnd=deltaIsInsert?deltaStart:delta.end;return $pointsInOrder(point,deltaStart,moveIfEqual)?{row:point.row,column:point.column}:$pointsInOrder(deltaEnd,point,!moveIfEqual)?{row:point.row+deltaRowShift,column:point.column+(point.row==deltaEnd.row?deltaColShift:0)}:{row:deltaStart.row,column:deltaStart.column}}oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(delta){if(!(delta.start.row==delta.end.row&&delta.start.row!=this.row||delta.start.row>this.row)){var point=$getTransformedPoint(delta,{row:this.row,column:this.column},this.$insertRight);this.setPosition(point.row,point.column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._signal(\\\"change\\\",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener(\\\"change\\\",this.$onChange)},this.attach=function(doc){this.document=doc||this.document,this.document.on(\\\"change\\\",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):0>row?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),0>column&&(pos.column=0),pos}}).call(Anchor.prototype)}),ace.define(\\\"ace/document\\\",[\\\"require\\\",\\\"exports\\\",\\\"module\\\",\\\"ace/lib/oop\\\",\\\"ace/apply_delta\\\",\\\"ace/lib/event_emitter\\\",\\\"ace/range\\\",\\\"ace/anchor\\\"],function(acequire,exports){\\\"use strict\\\";var oop=acequire(\\\"./lib/oop\\\"),applyDelta=acequire(\\\"./apply_delta\\\").applyDelta,EventEmitter=acequire(\\\"./lib/event_emitter\\\").EventEmitter,Range=acequire(\\\"./range\\\").Range,Anchor=acequire(\\\"./anchor\\\").Anchor,Document=function(textOrLines){this.$lines=[\\\"\\\"],0===textOrLines.length?this.$lines=[\\\"\\\"]:Array.isArray(textOrLines)?this.insertMergedLines({row:0,column:0},textOrLines):this.insert({row:0,column:0},textOrLines)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength()-1;this.remove(new Range(0,0,len,this.getLine(len).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},this.$split=0===\\\"aaa\\\".split(/a/).length?function(text){return text.replace(/\\\\r\\\\n|\\\\r/g,\\\"\\\\n\\\").split(\\\"\\\\n\\\")}:function(text){return text.split(/\\\\r\\\\n|\\\\r|\\\\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\\\\r\\\\n|\\\\r|\\\\n)/m);this.$autoNewLine=match?match[1]:\\\"\\\\n\\\",this._signal(\\\"changeNewLineMode\\\")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case\\\"windows\\\":return\\\"\\\\r\\\\n\\\";case\\\"unix\\\":return\\\"\\\\n\\\";default:return this.$autoNewLine||\\\"\\\\n\\\"}},this.$autoNewLine=\\\"\\\",this.$newLineMode=\\\"auto\\\",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode,this._signal(\\\"changeNewLineMode\\\"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return\\\"\\\\r\\\\n\\\"==text||\\\"\\\\r\\\"==text||\\\"\\\\n\\\"==text},this.getLine=function(row){return this.$lines[row]||\\\"\\\"},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){return this.getLinesForRange(range).join(this.getNewLineCharacter())},this.getLinesForRange=function(range){var lines;if(range.start.row===range.end.row)lines=[this.getLine(range.start.row).substring(range.start.column,range.end.column)];else{lines=this.getLines(range.start.row,range.end.row),lines[0]=(lines[0]||\\\"\\\").substring(range.start.column);var l=lines.length-1;range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column))}return lines},this.insertLines=function(row,lines){return console.warn(\\\"Use of document.insertLines is deprecated. Use the insertFullLines method instead.\\\"),this.insertFullLines(row,lines)},this.removeLines=function(firstRow,lastRow){return console.warn(\\\"Use of document.removeLines is deprecated. Use the removeFullLines method instead.\\\"),this.removeFullLines(firstRow,lastRow)},this.insertNewLine=function(position){return console.warn(\\\"Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead.\\\"),this.insertMergedLines(position,[\\\"\\\",\\\"\\\"])},this.insert=function(position,text){return 1>=this.getLength()&&this.$detectNewLine(text),this.insertMergedLines(position,this.$split(text))},this.insertInLine=function(position,text){var start=this.clippedPos(position.row,position.column),end=this.pos(position.row,position.column+text.length);return this.applyDelta({start:start,end:end,action:\\\"insert\\\",lines:[text]},!0),this.clonePos(end)},this.clippedPos=function(row,column){var length=this.getLength();void 0===row?row=length:0>row?row=0:row>=length&&(row=length-1,column=void 0);var line=this.getLine(row);return void 0==column&&(column=line.length),column=Math.min(Math.max(column,0),line.length),{row:row,column:column}},this.clonePos=function(pos){return{row:pos.row,column:pos.column}},this.pos=function(row,column){return{row:row,column:column}},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):(position.row=Math.max(0,position.row),position.column=Math.min(Math.max(position.column,0),this.getLine(position.row).length)),position},this.insertFullLines=function(row,lines){row=Math.min(Math.max(row,0),this.getLength());var column=0;this.getLength()>row?(lines=lines.concat([\\\"\\\"]),column=0):(lines=[\\\"\\\"].concat(lines),row--,column=this.$lines[row].length),this.insertMergedLines({row:row,column:column},lines)},this.insertMergedLines=function(position,lines){var start=this.clippedPos(position.row,position.column),end={row:start.row+lines.length-1,column:(1==lines.length?start.column:0)+lines[lines.length-1].length};return this.applyDelta({start:start,end:end,action:\\\"insert\\\",lines:lines}),this.clonePos(end)},this.remove=function(range){var start=this.clippedPos(range.start.row,range.start.column),end=this.clippedPos(range.end.row,range.end.column);return this.applyDelta({start:start,end:end,action:\\\"remove\\\",lines:this.getLinesForRange({start:start,end:end})}),this.clonePos(start)},this.removeInLine=function(row,startColumn,endColumn){var start=this.clippedPos(row,startColumn),end=this.clippedPos(row,endColumn);return this.applyDelta({start:start,end:end,action:\\\"remove\\\",lines:this.getLinesForRange({start:start,end:end})},!0),this.clonePos(start)},this.removeFullLines=function(firstRow,lastRow){firstRow=Math.min(Math.max(0,firstRow),this.getLength()-1),lastRow=Math.min(Math.max(0,lastRow),this.getLength()-1);var deleteFirstNewLine=lastRow==this.getLength()-1&&firstRow>0,deleteLastNewLine=this.getLength()-1>lastRow,startRow=deleteFirstNewLine?firstRow-1:firstRow,startCol=deleteFirstNewLine?this.getLine(startRow).length:0,endRow=deleteLastNewLine?lastRow+1:lastRow,endCol=deleteLastNewLine?0:this.getLine(endRow).length,range=new Range(startRow,startCol,endRow,endCol),deletedLines=this.$lines.slice(firstRow,lastRow+1);return this.applyDelta({start:range.start,end:range.end,action:\\\"remove\\\",lines:this.getLinesForRange(range)}),deletedLines},this.removeNewLine=function(row){this.getLength()-1>row&&row>=0&&this.applyDelta({start:this.pos(row,this.getLine(row).length),end:this.pos(row+1,0),action:\\\"remove\\\",lines:[\\\"\\\",\\\"\\\"]})},this.replace=function(range,text){if(range instanceof Range||(range=Range.fromPoints(range.start,range.end)),0===text.length&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;this.remove(range);var end;return end=text?this.insert(range.start,text):range.start},this.applyDeltas=function(deltas){for(var i=0;deltas.length>i;i++)this.applyDelta(deltas[i])},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--)this.revertDelta(deltas[i])},this.applyDelta=function(delta,doNotValidate){var isInsert=\\\"insert\\\"==delta.action;(isInsert?1>=delta.lines.length&&!delta.lines[0]:!Range.comparePoints(delta.start,delta.end))||(isInsert&&delta.lines.length>2e4&&this.$splitAndapplyLargeDelta(delta,2e4),applyDelta(this.$lines,delta,doNotValidate),this._signal(\\\"change\\\",delta))},this.$splitAndapplyLargeDelta=function(delta,MAX){for(var lines=delta.lines,l=lines.length,row=delta.start.row,column=delta.start.column,from=0,to=0;;){from=to,to+=MAX-1;var chunk=lines.slice(from,to);if(to>l){delta.lines=chunk,delta.start.row=row+from,delta.start.column=column;break}chunk.push(\\\"\\\"),this.applyDelta({start:this.pos(row+from,column),end:this.pos(row+to,column=0),action:delta.action,lines:chunk},!0)}},this.revertDelta=function(delta){this.applyDelta({start:this.clonePos(delta.start),end:this.clonePos(delta.end),action:\\\"insert\\\"==delta.action?\\\"remove\\\":\\\"insert\\\",lines:delta.lines.slice()})},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;l>i;i++)if(index-=lines[i].length+newlineLength,0>index)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;row>i;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document}),ace.define(\\\"ace/lib/lang\\\",[\\\"require\\\",\\\"exports\\\",\\\"module\\\"],function(acequire,exports){\\\"use strict\\\";exports.last=function(a){return a[a.length-1]},exports.stringReverse=function(string){return string.split(\\\"\\\").reverse().join(\\\"\\\")},exports.stringRepeat=function(string,count){for(var result=\\\"\\\";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\\\\s\\\\s*/,trimEndRegexp=/\\\\s\\\\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,\\\"\\\")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,\\\"\\\")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;l>i;i++)copy[i]=array[i]&&\\\"object\\\"==typeof array[i]?this.copyObject(array[i]):array[i];return copy},exports.deepCopy=function deepCopy(obj){if(\\\"object\\\"!=typeof obj||!obj)return obj;var copy;if(Array.isArray(obj)){copy=[];for(var key=0;obj.length>key;key++)copy[key]=deepCopy(obj[key]);return copy}if(\\\"[object Object]\\\"!==Object.prototype.toString.call(obj))return obj;copy={};for(var key in obj)copy[key]=deepCopy(obj[key]);return copy},exports.arrayToMap=function(arr){for(var map={},i=0;arr.length>i;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;array.length>=i;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\\\\]\\\\/\\\\\\\\])/g,\\\"\\\\\\\\$1\\\")},exports.escapeHTML=function(str){return str.replace(/&/g,\\\"&#38;\\\").replace(/\\\"/g,\\\"&#34;\\\").replace(/'/g,\\\"&#39;\\\").replace(/</g,\\\"&#60;\\\")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})}),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred.isPending=function(){return timer},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||defaultTimeout))};return _self.delay=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)},_self.schedule=_self,_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}}),ace.define(\\\"ace/worker/mirror\\\",[\\\"require\\\",\\\"exports\\\",\\\"module\\\",\\\"ace/range\\\",\\\"ace/document\\\",\\\"ace/lib/lang\\\"],function(acequire,exports){\\\"use strict\\\";acequire(\\\"../range\\\").Range;var Document=acequire(\\\"../document\\\").Document,lang=acequire(\\\"../lib/lang\\\"),Mirror=exports.Mirror=function(sender){this.sender=sender;var doc=this.doc=new Document(\\\"\\\"),deferredUpdate=this.deferredUpdate=lang.delayedCall(this.onUpdate.bind(this)),_self=this;sender.on(\\\"change\\\",function(e){var data=e.data;if(data[0].start)doc.applyDeltas(data);else for(var i=0;data.length>i;i+=2){if(Array.isArray(data[i+1]))var d={action:\\\"insert\\\",start:data[i],lines:data[i+1]};else var d={action:\\\"remove\\\",start:data[i],end:data[i+1]};doc.applyDelta(d,!0)}return _self.$timeout?deferredUpdate.schedule(_self.$timeout):(_self.onUpdate(),void 0)})};(function(){this.$timeout=500,this.setTimeout=function(timeout){this.$timeout=timeout},this.setValue=function(value){this.doc.setValue(value),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(callbackId){this.sender.callback(this.doc.getValue(),callbackId)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(Mirror.prototype)}),ace.define(\\\"ace/mode/json/json_parse\\\",[\\\"require\\\",\\\"exports\\\",\\\"module\\\"],function(){\\\"use strict\\\";var at,ch,text,value,escapee={'\\\"':'\\\"',\\\"\\\\\\\\\\\":\\\"\\\\\\\\\\\",\\\"/\\\":\\\"/\\\",b:\\\"\\\\b\\\",f:\\\"\\\\f\\\",n:\\\"\\\\n\\\",r:\\\"\\\\r\\\",t:\\\"\\t\\\"},error=function(m){throw{name:\\\"SyntaxError\\\",message:m,at:at,text:text}},next=function(c){return c&&c!==ch&&error(\\\"Expected '\\\"+c+\\\"' instead of '\\\"+ch+\\\"'\\\"),ch=text.charAt(at),at+=1,ch},number=function(){var number,string=\\\"\\\";for(\\\"-\\\"===ch&&(string=\\\"-\\\",next(\\\"-\\\"));ch>=\\\"0\\\"&&\\\"9\\\">=ch;)string+=ch,next();if(\\\".\\\"===ch)for(string+=\\\".\\\";next()&&ch>=\\\"0\\\"&&\\\"9\\\">=ch;)string+=ch;if(\\\"e\\\"===ch||\\\"E\\\"===ch)for(string+=ch,next(),(\\\"-\\\"===ch||\\\"+\\\"===ch)&&(string+=ch,next());ch>=\\\"0\\\"&&\\\"9\\\">=ch;)string+=ch,next();return number=+string,isNaN(number)?(error(\\\"Bad number\\\"),void 0):number},string=function(){var hex,i,uffff,string=\\\"\\\";if('\\\"'===ch)for(;next();){if('\\\"'===ch)return next(),string;if(\\\"\\\\\\\\\\\"===ch)if(next(),\\\"u\\\"===ch){for(uffff=0,i=0;4>i&&(hex=parseInt(next(),16),isFinite(hex));i+=1)uffff=16*uffff+hex;string+=String.fromCharCode(uffff)}else{if(\\\"string\\\"!=typeof escapee[ch])break;string+=escapee[ch]}else string+=ch}error(\\\"Bad string\\\")},white=function(){for(;ch&&\\\" \\\">=ch;)next()},word=function(){switch(ch){case\\\"t\\\":return next(\\\"t\\\"),next(\\\"r\\\"),next(\\\"u\\\"),next(\\\"e\\\"),!0;case\\\"f\\\":return next(\\\"f\\\"),next(\\\"a\\\"),next(\\\"l\\\"),next(\\\"s\\\"),next(\\\"e\\\"),!1;case\\\"n\\\":return next(\\\"n\\\"),next(\\\"u\\\"),next(\\\"l\\\"),next(\\\"l\\\"),null}error(\\\"Unexpected '\\\"+ch+\\\"'\\\")},array=function(){var array=[];if(\\\"[\\\"===ch){if(next(\\\"[\\\"),white(),\\\"]\\\"===ch)return next(\\\"]\\\"),array;for(;ch;){if(array.push(value()),white(),\\\"]\\\"===ch)return next(\\\"]\\\"),array;next(\\\",\\\"),white()}}error(\\\"Bad array\\\")},object=function(){var key,object={};if(\\\"{\\\"===ch){if(next(\\\"{\\\"),white(),\\\"}\\\"===ch)return next(\\\"}\\\"),object;for(;ch;){if(key=string(),white(),next(\\\":\\\"),Object.hasOwnProperty.call(object,key)&&error('Duplicate key \\\"'+key+'\\\"'),object[key]=value(),white(),\\\"}\\\"===ch)return next(\\\"}\\\"),object;next(\\\",\\\"),white()}}error(\\\"Bad object\\\")};return value=function(){switch(white(),ch){case\\\"{\\\":return object();case\\\"[\\\":return array();case'\\\"':return string();case\\\"-\\\":return number();default:return ch>=\\\"0\\\"&&\\\"9\\\">=ch?number():word()}},function(source,reviver){var result;return text=source,at=0,ch=\\\" \\\",result=value(),white(),ch&&error(\\\"Syntax error\\\"),\\\"function\\\"==typeof reviver?function walk(holder,key){var k,v,value=holder[key];if(value&&\\\"object\\\"==typeof value)for(k in value)Object.hasOwnProperty.call(value,k)&&(v=walk(value,k),void 0!==v?value[k]=v:delete value[k]);return reviver.call(holder,key,value)}({\\\"\\\":result},\\\"\\\"):result}}),ace.define(\\\"ace/mode/json_worker\\\",[\\\"require\\\",\\\"exports\\\",\\\"module\\\",\\\"ace/lib/oop\\\",\\\"ace/worker/mirror\\\",\\\"ace/mode/json/json_parse\\\"],function(acequire,exports){\\\"use strict\\\";var oop=acequire(\\\"../lib/oop\\\"),Mirror=acequire(\\\"../worker/mirror\\\").Mirror,parse=acequire(\\\"./json/json_parse\\\"),JsonWorker=exports.JsonWorker=function(sender){Mirror.call(this,sender),this.setTimeout(200)};oop.inherits(JsonWorker,Mirror),function(){this.onUpdate=function(){var value=this.doc.getValue(),errors=[];try{value&&parse(value)}catch(e){var pos=this.doc.indexToPosition(e.at-1);errors.push({row:pos.row,column:pos.column,text:e.message,type:\\\"error\\\"})}this.sender.emit(\\\"annotate\\\",errors)}}.call(JsonWorker.prototype)}),ace.define(\\\"ace/lib/es5-shim\\\",[\\\"require\\\",\\\"exports\\\",\\\"module\\\"],function(){function Empty(){}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,\\\"sentinel\\\",{}),\\\"sentinel\\\"in object}catch(exception){}}function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if(\\\"function\\\"!=typeof target)throw new TypeError(\\\"Function.prototype.bind called on incompatible \\\"+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,\\\"__defineGetter__\\\"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];return array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,\\\"XXX\\\"),lengthBefore+1==array.length,lengthBefore+1==array.length?!0:void 0\\n}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):void 0==pos?pos=0:0>pos&&(pos=Math.max(length+pos,0)),length>pos+removeCount||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailOldPos>tailNewPos)for(var i=0;tailCount>i;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;add>i;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return\\\"[object Array]\\\"==_toString(obj)});var boxedString=Object(\\\"a\\\"),splitString=\\\"a\\\"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&\\\"[object String]\\\"==_toString(this)?this.split(\\\"\\\"):object,thisp=arguments[1],i=-1,length=self.length>>>0;if(\\\"[object Function]\\\"!=_toString(fun))throw new TypeError;for(;length>++i;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&\\\"[object String]\\\"==_toString(this)?this.split(\\\"\\\"):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if(\\\"[object Function]\\\"!=_toString(fun))throw new TypeError(fun+\\\" is not a function\\\");for(var i=0;length>i;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&\\\"[object String]\\\"==_toString(this)?this.split(\\\"\\\"):object,length=self.length>>>0,result=[],thisp=arguments[1];if(\\\"[object Function]\\\"!=_toString(fun))throw new TypeError(fun+\\\" is not a function\\\");for(var i=0;length>i;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&\\\"[object String]\\\"==_toString(this)?this.split(\\\"\\\"):object,length=self.length>>>0,thisp=arguments[1];if(\\\"[object Function]\\\"!=_toString(fun))throw new TypeError(fun+\\\" is not a function\\\");for(var i=0;length>i;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&\\\"[object String]\\\"==_toString(this)?this.split(\\\"\\\"):object,length=self.length>>>0,thisp=arguments[1];if(\\\"[object Function]\\\"!=_toString(fun))throw new TypeError(fun+\\\" is not a function\\\");for(var i=0;length>i;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&\\\"[object String]\\\"==_toString(this)?this.split(\\\"\\\"):object,length=self.length>>>0;if(\\\"[object Function]\\\"!=_toString(fun))throw new TypeError(fun+\\\" is not a function\\\");if(!length&&1==arguments.length)throw new TypeError(\\\"reduce of empty array with no initial value\\\");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError(\\\"reduce of empty array with no initial value\\\")}for(;length>i;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&\\\"[object String]\\\"==_toString(this)?this.split(\\\"\\\"):object,length=self.length>>>0;if(\\\"[object Function]\\\"!=_toString(fun))throw new TypeError(fun+\\\" is not a function\\\");if(!length&&1==arguments.length)throw new TypeError(\\\"reduceRight of empty array with no initial value\\\");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(0>--i)throw new TypeError(\\\"reduceRight of empty array with no initial value\\\")}do i in this&&(result=fun.call(void 0,result,self[i],i,object));while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&\\\"[object String]\\\"==_toString(this)?this.split(\\\"\\\"):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);length>i;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&\\\"[object String]\\\"==_toString(this)?this.split(\\\"\\\"):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT=\\\"Object.getOwnPropertyDescriptor called on a non-object: \\\";Object.getOwnPropertyDescriptor=function(object,property){if(\\\"object\\\"!=typeof object&&\\\"function\\\"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT+object);if(owns(object,property)){var descriptor,getter,setter;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty;createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if(\\\"object\\\"!=typeof prototype)throw new TypeError(\\\"typeof prototype[\\\"+typeof prototype+\\\"] != 'object'\\\");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom=\\\"undefined\\\"==typeof document||doesDefinePropertyWork(document.createElement(\\\"div\\\"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR=\\\"Property description must be an object: \\\",ERR_NON_OBJECT_TARGET=\\\"Object.defineProperty called on non-object: \\\",ERR_ACCESSORS_NOT_SUPPORTED=\\\"getters & setters can not be defined on this javascript engine\\\";Object.defineProperty=function(object,property,descriptor){if(\\\"object\\\"!=typeof object&&\\\"function\\\"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if(\\\"object\\\"!=typeof descriptor&&\\\"function\\\"!=typeof descriptor||null===descriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,\\\"value\\\"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,\\\"get\\\")&&defineGetter(object,property,descriptor.get),owns(descriptor,\\\"set\\\")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return\\\"function\\\"==typeof object?object:freezeObject(object)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name=\\\"\\\";owns(object,name);)name+=\\\"?\\\";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=[\\\"toString\\\",\\\"toLocaleString\\\",\\\"valueOf\\\",\\\"hasOwnProperty\\\",\\\"isPrototypeOf\\\",\\\"propertyIsEnumerable\\\",\\\"constructor\\\"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if(\\\"object\\\"!=typeof object&&\\\"function\\\"!=typeof object||null===object)throw new TypeError(\\\"Object.keys called on a non-object\\\");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;ii>i;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws=\\\"\\t\\\\n\\u000b\\\\f\\\\r   ᠎             　\\\\u2028\\\\u2029﻿\\\";if(!String.prototype.trim||ws.trim()){ws=\\\"[\\\"+ws+\\\"]\\\";var trimBeginRegexp=RegExp(\\\"^\\\"+ws+ws+\\\"*\\\"),trimEndRegexp=RegExp(ws+ws+\\\"*$\\\");String.prototype.trim=function(){return(this+\\\"\\\").replace(trimBeginRegexp,\\\"\\\").replace(trimEndRegexp,\\\"\\\")}}var toObject=function(o){if(null==o)throw new TypeError(\\\"can't convert \\\"+o+\\\" to object\\\");return Object(o)}});\";","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n"],"sourceRoot":""}